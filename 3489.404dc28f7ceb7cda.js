(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3489],{3489:($_,Eu,ne)=>{"use strict";ne.r(Eu),ne.d(Eu,{HomePageModule:()=>MC});var Zn={};ne.r(Zn),ne.d(Zn,{AbortException:()=>Gb,AnnotationEditorLayer:()=>Ub,AnnotationEditorParamsType:()=>Xb,AnnotationEditorType:()=>Zb,AnnotationEditorUIManager:()=>qb,AnnotationLayer:()=>Yb,AnnotationMode:()=>Kb,CMapCompressionType:()=>Qb,ColorPicker:()=>Jb,DOMSVGFactory:()=>eA,DrawLayer:()=>tA,FeatureTest:()=>iA,GlobalWorkerOptions:()=>sA,ImageKind:()=>nA,InvalidPDFException:()=>rA,MissingPDFException:()=>aA,OPS:()=>oA,PDFDataRangeTransport:()=>lA,PDFDateString:()=>uA,PDFWorker:()=>hA,PasswordResponses:()=>cA,PermissionFlag:()=>dA,PixelsPerInch:()=>fA,RenderingCancelledException:()=>pA,TextLayer:()=>gA,UnexpectedResponseException:()=>mA,Util:()=>vA,VerbosityLevel:()=>mv,XfaLayer:()=>_A,build:()=>wA,createValidAbsoluteUrl:()=>bA,fetchData:()=>AA,getDocument:()=>yA,getFilenameFromUrl:()=>EA,getPdfFilenameFromUrl:()=>CA,getXfaPageViewport:()=>xA,isDataScheme:()=>SA,isPdfFile:()=>PA,noContextMenu:()=>MA,normalizeUnicode:()=>kA,setLayerDimensions:()=>TA,shadow:()=>DA,version:()=>FA});var Ze=ne(177),Pt=ne(3439),rt=ne(4341),Qr=ne(8465),Re=ne(8244);function po(s){return null!==s&&"object"==typeof s&&"constructor"in s&&s.constructor===Object}function Ts(s,e){void 0===s&&(s={}),void 0===e&&(e={}),Object.keys(e).forEach(t=>{typeof s[t]>"u"?s[t]=e[t]:po(e[t])&&po(s[t])&&Object.keys(e[t]).length>0&&Ts(s[t],e[t])})}const gt={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function at(){const s=typeof document<"u"?document:{};return Ts(s,gt),s}const go={document:gt,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:s=>typeof setTimeout>"u"?(s(),null):setTimeout(s,0),cancelAnimationFrame(s){typeof setTimeout>"u"||clearTimeout(s)}};function Qe(){const s=typeof window<"u"?window:{};return Ts(s,go),s}function je(s){return void 0===s&&(s=""),s.trim().split(" ").filter(e=>!!e.trim())}function Ds(s,e){return void 0===e&&(e=0),setTimeout(s,e)}function si(){return Date.now()}function qn(s,e){void 0===e&&(e="x");const t=Qe();let i,n,a;const o=function ki(s){const e=Qe();let t;return e.getComputedStyle&&(t=e.getComputedStyle(s,null)),!t&&s.currentStyle&&(t=s.currentStyle),t||(t=s.style),t}(s);return t.WebKitCSSMatrix?(n=o.transform||o.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(l=>l.replace(",",".")).join(", ")),a=new t.WebKitCSSMatrix("none"===n?"":n)):(a=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=a.toString().split(",")),"x"===e&&(n=t.WebKitCSSMatrix?a.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(n=t.WebKitCSSMatrix?a.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),n||0}function ps(s){return"object"==typeof s&&null!==s&&s.constructor&&"Object"===Object.prototype.toString.call(s).slice(8,-1)}function mo(s){return typeof window<"u"&&typeof window.HTMLElement<"u"?s instanceof HTMLElement:s&&(1===s.nodeType||11===s.nodeType)}function Yt(){const s=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(null!=i&&!mo(i)){const n=Object.keys(Object(i)).filter(a=>e.indexOf(a)<0);for(let a=0,o=n.length;a<o;a+=1){const l=n[a],h=Object.getOwnPropertyDescriptor(i,l);void 0!==h&&h.enumerable&&(ps(s[l])&&ps(i[l])?i[l].__swiper__?s[l]=i[l]:Yt(s[l],i[l]):!ps(s[l])&&ps(i[l])?(s[l]={},i[l].__swiper__?s[l]=i[l]:Yt(s[l],i[l])):s[l]=i[l])}}}return s}function cn(s,e,t){s.style.setProperty(e,t)}function Jr(s){let{swiper:e,targetPosition:t,side:i}=s;const n=Qe(),a=-e.translate;let l,o=null;const h=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const f=t>a?"next":"prev",d=(m,_)=>"next"===f&&m>=_||"prev"===f&&m<=_,p=()=>{l=(new Date).getTime(),null===o&&(o=l);const m=Math.max(Math.min((l-o)/h,1),0),_=.5-Math.cos(m*Math.PI)/2;let w=a+_*(t-a);if(d(w,t)&&(w=t),e.wrapperEl.scrollTo({[i]:w}),d(w,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:w})}),void n.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=n.requestAnimationFrame(p)};p()}function gs(s){return s.querySelector(".swiper-slide-transform")||s.shadowRoot&&s.shadowRoot.querySelector(".swiper-slide-transform")||s}function qe(s,e){void 0===e&&(e="");const t=[...s.children];return s instanceof HTMLSlotElement&&t.push(...s.assignedElements()),e?t.filter(i=>i.matches(e)):t}function ea(s){try{return void console.warn(s)}catch{}}function _t(s,e){void 0===e&&(e=[]);const t=document.createElement(s);return t.classList.add(...Array.isArray(e)?e:je(e)),t}function ta(s){const e=Qe(),t=at(),i=s.getBoundingClientRect(),n=t.body;return{top:i.top+(s===e?e.scrollY:s.scrollTop)-(s.clientTop||n.clientTop||0),left:i.left+(s===e?e.scrollX:s.scrollLeft)-(s.clientLeft||n.clientLeft||0)}}function ye(s,e){return Qe().getComputedStyle(s,null).getPropertyValue(e)}function dn(s){let t,e=s;if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}}function be(s,e){const t=[];let i=s.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function it(s,e){e&&s.addEventListener("transitionend",function t(i){i.target===s&&(e.call(s,i),s.removeEventListener("transitionend",t))})}function Ht(s,e,t){const i=Qe();return t?s["width"===e?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(s,null).getPropertyValue("width"===e?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(s,null).getPropertyValue("width"===e?"margin-left":"margin-bottom")):s.offsetWidth}function Ae(s){return(Array.isArray(s)?s:[s]).filter(e=>!!e)}function dt(s){return e=>Math.abs(e)>0&&s.browser&&s.browser.need3dFix&&Math.abs(e)%90==0?e+.001:e}let Ye,Ni,Kn;function Oi(){return Ye||(Ye=function We(){const s=Qe(),e=at();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in s||s.DocumentTouch&&e instanceof s.DocumentTouch)}}()),Ye}function ia(s){return void 0===s&&(s={}),Ni||(Ni=function xu(s){let{userAgent:e}=void 0===s?{}:s;const t=Oi(),i=Qe(),n=i.navigator.platform,a=e||i.navigator.userAgent,o={ios:!1,android:!1},l=i.screen.width,h=i.screen.height,f=a.match(/(Android);?[\s\/]+([\d.]+)?/);let d=a.match(/(iPad).*OS\s([\d_]+)/);const p=a.match(/(iPod)(.*OS\s([\d_]+))?/),m=!d&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),_="Win32"===n;let w="MacIntel"===n;return!d&&w&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${l}x${h}`)>=0&&(d=a.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),w=!1),f&&!_&&(o.os="android",o.android=!0),(d||m||p)&&(o.os="ios",o.ios=!0),o}(s)),Ni}const na=(s,e,t)=>{e&&!s.classList.contains(t)?s.classList.add(t):!e&&s.classList.contains(t)&&s.classList.remove(t)},wo=(s,e,t)=>{e&&!s.classList.contains(t)?s.classList.add(t):!e&&s.classList.contains(t)&&s.classList.remove(t)},fn=(s,e)=>{if(!s||s.destroyed||!s.params)return;const i=e.closest(s.isElement?"swiper-slide":`.${s.params.slideClass}`);if(i){let n=i.querySelector(`.${s.params.lazyPreloaderClass}`);!n&&s.isElement&&(i.shadowRoot?n=i.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(n=i.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`),n&&n.remove())})),n&&n.remove()}},ra=(s,e)=>{if(!s.slides[e])return;const t=s.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},aa=s=>{if(!s||s.destroyed||!s.params)return;let e=s.params.lazyPreloadPrevNext;const t=s.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i="auto"===s.params.slidesPerView?s.slidesPerViewDynamic():Math.ceil(s.params.slidesPerView),n=s.activeIndex;if(s.params.grid&&s.params.grid.rows>1){const o=n,l=[o-e];return l.push(...Array.from({length:e}).map((h,f)=>o+i+f)),void s.slides.forEach((h,f)=>{l.includes(h.column)&&ra(s,f)})}const a=n+i-1;if(s.params.rewind||s.params.loop)for(let o=n-e;o<=a+e;o+=1){const l=(o%t+t)%t;(l<n||l>a)&&ra(s,l)}else for(let o=Math.max(n-e,0);o<=Math.min(a+e,t-1);o+=1)o!==n&&(o>a||o<n)&&ra(s,o)};function Ao(s){let{swiper:e,runCallbacks:t,direction:i,step:n}=s;const{activeIndex:a,previousIndex:o}=e;let l=i;if(l||(l=a>o?"next":a<o?"prev":"reset"),e.emit(`transition${n}`),t&&a!==o){if("reset"===l)return void e.emit(`slideResetTransition${n}`);e.emit(`slideChangeTransition${n}`),e.emit("next"===l?`slideNextTransition${n}`:`slidePrevTransition${n}`)}}function oa(s,e,t){const i=Qe(),{params:n}=s,a=n.edgeSwipeDetection,o=n.edgeSwipeThreshold;return!a||!(t<=o||t>=i.innerWidth-o)||"prevent"===a&&(e.preventDefault(),!0)}function Hu(s){const e=this,t=at();let i=s;i.originalEvent&&(i=i.originalEvent);const n=e.touchEventsData;if("pointerdown"===i.type){if(null!==n.pointerId&&n.pointerId!==i.pointerId)return;n.pointerId=i.pointerId}else"touchstart"===i.type&&1===i.targetTouches.length&&(n.touchId=i.targetTouches[0].identifier);if("touchstart"===i.type)return void oa(e,i,i.targetTouches[0].pageX);const{params:a,touches:o,enabled:l}=e;if(!l||!a.simulateTouch&&"mouse"===i.pointerType||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let h=i.target;if("wrapper"===a.touchEventsTarget&&!function fi(s,e){const t=e.contains(s);return!t&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(s):t}(h,e.wrapperEl)||"which"in i&&3===i.which||"button"in i&&i.button>0||n.isTouched&&n.isMoved)return;const f=!!a.noSwipingClass&&""!==a.noSwipingClass,d=i.composedPath?i.composedPath():i.path;f&&i.target&&i.target.shadowRoot&&d&&(h=d[0]);const p=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`;if(a.noSwiping&&(i.target&&i.target.shadowRoot?function Wu(s,e){return void 0===e&&(e=this),function t(i){if(!i||i===at()||i===Qe())return null;i.assignedSlot&&(i=i.assignedSlot);const n=i.closest(s);return n||i.getRootNode?n||t(i.getRootNode().host):null}(e)}(p,h):h.closest(p)))return void(e.allowClick=!0);if(a.swipeHandler&&!h.closest(a.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const _=o.currentX,w=o.currentY;if(!oa(e,i,_))return;Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=_,o.startY=w,n.touchStartTime=si(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(n.allowThresholdMove=!1);let A=!0;h.matches(n.focusableElements)&&(A=!1,"SELECT"===h.nodeName&&(n.isTouched=!1)),t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==h&&t.activeElement.blur(),(a.touchStartForcePreventDefault||A&&e.allowTouchMove&&a.touchStartPreventDefault)&&!h.isContentEditable&&i.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function pn(s){const e=at(),t=this,i=t.touchEventsData,{params:n,touches:a,rtlTranslate:o,enabled:l}=t;if(!l||!n.simulateTouch&&"mouse"===s.pointerType)return;let f,h=s;if(h.originalEvent&&(h=h.originalEvent),"pointermove"===h.type&&(null!==i.touchId||h.pointerId!==i.pointerId))return;if("touchmove"===h.type){if(f=[...h.changedTouches].filter(M=>M.identifier===i.touchId)[0],!f||f.identifier!==i.touchId)return}else f=h;if(!i.isTouched)return void(i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",h));const d=f.pageX,p=f.pageY;if(h.preventedByNestedSwiper)return a.startX=d,void(a.startY=p);if(!t.allowTouchMove)return h.target.matches(i.focusableElements)||(t.allowClick=!1),void(i.isTouched&&(Object.assign(a,{startX:d,startY:p,currentX:d,currentY:p}),i.touchStartTime=si()));if(n.touchReleaseOnEdges&&!n.loop)if(t.isVertical()){if(p<a.startY&&t.translate<=t.maxTranslate()||p>a.startY&&t.translate>=t.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(d<a.startX&&t.translate<=t.maxTranslate()||d>a.startX&&t.translate>=t.minTranslate())return;if(e.activeElement&&h.target===e.activeElement&&h.target.matches(i.focusableElements))return i.isMoved=!0,void(t.allowClick=!1);i.allowTouchCallbacks&&t.emit("touchMove",h),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=d,a.currentY=p;const m=a.currentX-a.startX,_=a.currentY-a.startY;if(t.params.threshold&&Math.sqrt(m**2+_**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let M;t.isHorizontal()&&a.currentY===a.startY||t.isVertical()&&a.currentX===a.startX?i.isScrolling=!1:m*m+_*_>=25&&(M=180*Math.atan2(Math.abs(_),Math.abs(m))/Math.PI,i.isScrolling=t.isHorizontal()?M>n.touchAngle:90-M>n.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",h),typeof i.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(i.startMoving=!0),i.isScrolling||"touchmove"===h.type&&i.preventTouchMoveFromPointerMove)return void(i.isTouched=!1);if(!i.startMoving)return;t.allowClick=!1,!n.cssMode&&h.cancelable&&h.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&h.stopPropagation();let w=t.isHorizontal()?m:_,A=t.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;n.oneWayMovement&&(w=Math.abs(w)*(o?1:-1),A=Math.abs(A)*(o?1:-1)),a.diff=w,w*=n.touchRatio,o&&(w=-w,A=-A);const C=t.touchesDirection;t.swipeDirection=w>0?"prev":"next",t.touchesDirection=A>0?"prev":"next";const b=t.params.loop&&!n.cssMode,P="next"===t.touchesDirection&&t.allowSlideNext||"prev"===t.touchesDirection&&t.allowSlidePrev;if(!i.isMoved){if(b&&P&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const M=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(M)}i.allowMomentumBounce=!1,n.grabCursor&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}if((new Date).getTime(),i.isMoved&&i.allowThresholdMove&&C!==t.touchesDirection&&b&&P&&Math.abs(w)>=1)return Object.assign(a,{startX:d,startY:p,currentX:d,currentY:p,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,void(i.startTranslate=i.currentTranslate);t.emit("sliderMove",h),i.isMoved=!0,i.currentTranslate=w+i.startTranslate;let T=!0,O=n.resistanceRatio;if(n.touchReleaseOnEdges&&(O=0),w>0?(b&&P&&i.allowThresholdMove&&i.currentTranslate>(n.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-("auto"!==n.slidesPerView&&t.slides.length-n.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(T=!1,n.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+w)**O))):w<0&&(b&&P&&i.allowThresholdMove&&i.currentTranslate<(n.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+("auto"!==n.slidesPerView&&t.slides.length-n.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-("auto"===n.slidesPerView?t.slidesPerViewDynamic():Math.ceil(parseFloat(n.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(T=!1,n.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-w)**O))),T&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),n.threshold>0){if(!(Math.abs(w)>n.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,i.currentTranslate=i.startTranslate,void(a.diff=t.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}!n.followFinger||n.cssMode||((n.freeMode&&n.freeMode.enabled&&t.freeMode||n.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),n.freeMode&&n.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function Vu(s){const e=this,t=e.touchEventsData;let n,i=s;if(i.originalEvent&&(i=i.originalEvent),"touchend"===i.type||"touchcancel"===i.type){if(n=[...i.changedTouches].filter(O=>O.identifier===t.touchId)[0],!n||n.identifier!==t.touchId)return}else{if(null!==t.touchId||i.pointerId!==t.pointerId)return;n=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&(!["pointercancel","contextmenu"].includes(i.type)||!e.browser.isSafari&&!e.browser.isWebView))return;t.pointerId=null,t.touchId=null;const{params:o,touches:l,rtlTranslate:h,slidesGrid:f,enabled:d}=e;if(!d||!o.simulateTouch&&"mouse"===i.pointerType)return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched)return t.isMoved&&o.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,void(t.startMoving=!1);o.grabCursor&&t.isMoved&&t.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const p=si(),m=p-t.touchStartTime;if(e.allowClick){const O=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(O&&O[0]||i.target,O),e.emit("tap click",i),m<300&&p-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=si(),Ds(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||0===l.diff&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset)return t.isTouched=!1,t.isMoved=!1,void(t.startMoving=!1);let _;if(t.isTouched=!1,t.isMoved=!1,t.startMoving=!1,_=o.followFinger?h?e.translate:-e.translate:-t.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:_});const w=_>=-e.maxTranslate()&&!e.params.loop;let A=0,C=e.slidesSizesGrid[0];for(let O=0;O<f.length;O+=O<o.slidesPerGroupSkip?1:o.slidesPerGroup){const M=O<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof f[O+M]<"u"?(w||_>=f[O]&&_<f[O+M])&&(A=O,C=f[O+M]-f[O]):(w||_>=f[O])&&(A=O,C=f[f.length-1]-f[f.length-2])}let b=null,P=null;o.rewind&&(e.isBeginning?P=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const S=(_-f[A])/C,T=A<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(m>o.longSwipesMs){if(!o.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(S>=o.longSwipesRatio?o.rewind&&e.isEnd?b:A+T:A),"prev"===e.swipeDirection&&(S>1-o.longSwipesRatio?e.slideTo(A+T):null!==P&&S<0&&Math.abs(S)>o.longSwipesRatio?e.slideTo(P):e.slideTo(A))}else{if(!o.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||i.target!==e.navigation.nextEl&&i.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(null!==b?b:A+T),"prev"===e.swipeDirection&&e.slideTo(null!==P?P:A)):e.slideTo(i.target===e.navigation.nextEl?A+T:A)}}function $u(){const s=this,{params:e,el:t}=s;if(t&&0===t.offsetWidth)return;e.breakpoints&&s.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:n,snapGrid:a}=s,o=s.virtual&&s.params.virtual.enabled;s.allowSlideNext=!0,s.allowSlidePrev=!0,s.updateSize(),s.updateSlides(),s.updateSlidesClasses(),!("auto"===e.slidesPerView||e.slidesPerView>1)||!s.isEnd||s.isBeginning||s.params.centeredSlides||o&&e.loop?s.params.loop&&!o?s.slideToLoop(s.realIndex,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0):s.slideTo(s.slides.length-1,0,!1,!0),s.autoplay&&s.autoplay.running&&s.autoplay.paused&&(clearTimeout(s.autoplay.resizeTimeout),s.autoplay.resizeTimeout=setTimeout(()=>{s.autoplay&&s.autoplay.running&&s.autoplay.paused&&s.autoplay.resume()},500)),s.allowSlidePrev=n,s.allowSlideNext=i,s.params.watchOverflow&&a!==s.snapGrid&&s.checkOverflow()}function Fd(s){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&s.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(s.stopPropagation(),s.stopImmediatePropagation())))}function Ld(){const s=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=s;if(!i)return;let n;s.previousTranslate=s.translate,s.translate=s.isHorizontal()?-e.scrollLeft:-e.scrollTop,0===s.translate&&(s.translate=0),s.updateActiveIndex(),s.updateSlidesClasses();const a=s.maxTranslate()-s.minTranslate();n=0===a?0:(s.translate-s.minTranslate())/a,n!==s.progress&&s.updateProgress(t?-s.translate:s.translate),s.emit("setTranslate",s.translate,!1)}function Id(s){const e=this;fn(e,s.target),!e.params.cssMode&&("auto"===e.params.slidesPerView||e.params.autoHeight)&&e.update()}function ju(){const s=this;s.documentTouchHandlerProceeded||(s.documentTouchHandlerProceeded=!0,s.params.touchReleaseOnEdges&&(s.el.style.touchAction="auto"))}const Gu=(s,e)=>{const t=at(),{params:i,el:n,wrapperEl:a,device:o}=s,l=!!i.nested,h="on"===e?"addEventListener":"removeEventListener",f=e;!n||"string"==typeof n||(t[h]("touchstart",s.onDocumentTouchStart,{passive:!1,capture:l}),n[h]("touchstart",s.onTouchStart,{passive:!1}),n[h]("pointerdown",s.onTouchStart,{passive:!1}),t[h]("touchmove",s.onTouchMove,{passive:!1,capture:l}),t[h]("pointermove",s.onTouchMove,{passive:!1,capture:l}),t[h]("touchend",s.onTouchEnd,{passive:!0}),t[h]("pointerup",s.onTouchEnd,{passive:!0}),t[h]("pointercancel",s.onTouchEnd,{passive:!0}),t[h]("touchcancel",s.onTouchEnd,{passive:!0}),t[h]("pointerout",s.onTouchEnd,{passive:!0}),t[h]("pointerleave",s.onTouchEnd,{passive:!0}),t[h]("contextmenu",s.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&n[h]("click",s.onClick,!0),i.cssMode&&a[h]("scroll",s.onScroll),s[f](i.updateOnWindowResize?o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",$u,!0),n[h]("load",s.onLoad,{capture:!0}))},Uu=(s,e)=>s.grid&&e.grid&&e.grid.rows>1;var gn={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function mn(s,e){return function(i){void 0===i&&(i={});const n=Object.keys(i)[0],a=i[n];"object"==typeof a&&null!==a?(!0===s[n]&&(s[n]={enabled:!0}),"navigation"===n&&s[n]&&s[n].enabled&&!s[n].prevEl&&!s[n].nextEl&&(s[n].auto=!0),["pagination","scrollbar"].indexOf(n)>=0&&s[n]&&s[n].enabled&&!s[n].el&&(s[n].auto=!0),n in s&&"enabled"in a?("object"==typeof s[n]&&!("enabled"in s[n])&&(s[n].enabled=!0),s[n]||(s[n]={enabled:!1}),Yt(e,i)):Yt(e,i)):Yt(e,i)}}const ms={eventsEmitter:{on(s,e,t){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;const n=t?"unshift":"push";return s.split(" ").forEach(a=>{i.eventsListeners[a]||(i.eventsListeners[a]=[]),i.eventsListeners[a][n](e)}),i},once(s,e,t){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;function n(){i.off(s,n),n.__emitterProxy&&delete n.__emitterProxy;for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];e.apply(i,o)}return n.__emitterProxy=e,i.on(s,n,t)},onAny(s,e){const t=this;if(!t.eventsListeners||t.destroyed||"function"!=typeof s)return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(s)<0&&t.eventsAnyListeners[i](s),t},offAny(s){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(s);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(s,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||s.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((n,a)=>{(n===e||n.__emitterProxy&&n.__emitterProxy===e)&&t.eventsListeners[i].splice(a,1)})}),t},emit(){const s=this;if(!s.eventsListeners||s.destroyed||!s.eventsListeners)return s;let e,t,i;for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return"string"==typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),i=s):(e=a[0].events,t=a[0].data,i=a[0].context||s),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(h=>{s.eventsAnyListeners&&s.eventsAnyListeners.length&&s.eventsAnyListeners.forEach(f=>{f.apply(i,[h,...t])}),s.eventsListeners&&s.eventsListeners[h]&&s.eventsListeners[h].forEach(f=>{f.apply(i,t)})}),s}},update:{updateSize:function _o(){const s=this;let e,t;const i=s.el;e=typeof s.params.width<"u"&&null!==s.params.width?s.params.width:i.clientWidth,t=typeof s.params.height<"u"&&null!==s.params.height?s.params.height:i.clientHeight,!(0===e&&s.isHorizontal()||0===t&&s.isVertical())&&(e=e-parseInt(ye(i,"padding-left")||0,10)-parseInt(ye(i,"padding-right")||0,10),t=t-parseInt(ye(i,"padding-top")||0,10)-parseInt(ye(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(s,{width:e,height:t,size:s.isHorizontal()?e:t}))},updateSlides:function sa(){const s=this;function e(B,N){return parseFloat(B.getPropertyValue(s.getDirectionLabel(N))||0)}const t=s.params,{wrapperEl:i,slidesEl:n,size:a,rtlTranslate:o,wrongRTL:l}=s,h=s.virtual&&t.virtual.enabled,f=h?s.virtual.slides.length:s.slides.length,d=qe(n,`.${s.params.slideClass}, swiper-slide`),p=h?s.virtual.slides.length:d.length;let m=[];const _=[],w=[];let A=t.slidesOffsetBefore;"function"==typeof A&&(A=t.slidesOffsetBefore.call(s));let C=t.slidesOffsetAfter;"function"==typeof C&&(C=t.slidesOffsetAfter.call(s));const b=s.snapGrid.length,P=s.slidesGrid.length;let S=t.spaceBetween,T=-A,O=0,M=0;if(typeof a>"u")return;"string"==typeof S&&S.indexOf("%")>=0?S=parseFloat(S.replace("%",""))/100*a:"string"==typeof S&&(S=parseFloat(S)),s.virtualSize=-S,d.forEach(B=>{o?B.style.marginLeft="":B.style.marginRight="",B.style.marginBottom="",B.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(cn(i,"--swiper-centered-offset-before",""),cn(i,"--swiper-centered-offset-after",""));const R=t.grid&&t.grid.rows>1&&s.grid;let I;R?s.grid.initSlides(d):s.grid&&s.grid.unsetSlides();const F="auto"===t.slidesPerView&&t.breakpoints&&Object.keys(t.breakpoints).filter(B=>typeof t.breakpoints[B].slidesPerView<"u").length>0;for(let B=0;B<p;B+=1){let N;if(I=0,d[B]&&(N=d[B]),R&&s.grid.updateSlide(B,N,d),!d[B]||"none"!==ye(N,"display")){if("auto"===t.slidesPerView){F&&(d[B].style[s.getDirectionLabel("width")]="");const V=getComputedStyle(N),H=N.style.transform,j=N.style.webkitTransform;if(H&&(N.style.transform="none"),j&&(N.style.webkitTransform="none"),t.roundLengths)I=s.isHorizontal()?Ht(N,"width",!0):Ht(N,"height",!0);else{const Y=e(V,"width"),J=e(V,"padding-left"),G=e(V,"padding-right"),Z=e(V,"margin-left"),ae=e(V,"margin-right"),fe=V.getPropertyValue("box-sizing");if(fe&&"border-box"===fe)I=Y+Z+ae;else{const{clientWidth:se,offsetWidth:ee}=N;I=Y+J+G+Z+ae+(ee-se)}}H&&(N.style.transform=H),j&&(N.style.webkitTransform=j),t.roundLengths&&(I=Math.floor(I))}else I=(a-(t.slidesPerView-1)*S)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),d[B]&&(d[B].style[s.getDirectionLabel("width")]=`${I}px`);d[B]&&(d[B].swiperSlideSize=I),w.push(I),t.centeredSlides?(T=T+I/2+O/2+S,0===O&&0!==B&&(T=T-a/2-S),0===B&&(T=T-a/2-S),Math.abs(T)<.001&&(T=0),t.roundLengths&&(T=Math.floor(T)),M%t.slidesPerGroup==0&&m.push(T),_.push(T)):(t.roundLengths&&(T=Math.floor(T)),(M-Math.min(s.params.slidesPerGroupSkip,M))%s.params.slidesPerGroup==0&&m.push(T),_.push(T),T=T+I+S),s.virtualSize+=I+S,O=I,M+=1}}if(s.virtualSize=Math.max(s.virtualSize,a)+C,o&&l&&("slide"===t.effect||"coverflow"===t.effect)&&(i.style.width=`${s.virtualSize+S}px`),t.setWrapperSize&&(i.style[s.getDirectionLabel("width")]=`${s.virtualSize+S}px`),R&&s.grid.updateWrapperSize(I,m),!t.centeredSlides){const B=[];for(let N=0;N<m.length;N+=1){let V=m[N];t.roundLengths&&(V=Math.floor(V)),m[N]<=s.virtualSize-a&&B.push(V)}m=B,Math.floor(s.virtualSize-a)-Math.floor(m[m.length-1])>1&&m.push(s.virtualSize-a)}if(h&&t.loop){const B=w[0]+S;if(t.slidesPerGroup>1){const N=Math.ceil((s.virtual.slidesBefore+s.virtual.slidesAfter)/t.slidesPerGroup),V=B*t.slidesPerGroup;for(let H=0;H<N;H+=1)m.push(m[m.length-1]+V)}for(let N=0;N<s.virtual.slidesBefore+s.virtual.slidesAfter;N+=1)1===t.slidesPerGroup&&m.push(m[m.length-1]+B),_.push(_[_.length-1]+B),s.virtualSize+=B}if(0===m.length&&(m=[0]),0!==S){const B=s.isHorizontal()&&o?"marginLeft":s.getDirectionLabel("marginRight");d.filter((N,V)=>!(t.cssMode&&!t.loop)||V!==d.length-1).forEach(N=>{N.style[B]=`${S}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let B=0;w.forEach(V=>{B+=V+(S||0)}),B-=S;const N=B-a;m=m.map(V=>V<=0?-A:V>N?N+C:V)}if(t.centerInsufficientSlides){let B=0;w.forEach(V=>{B+=V+(S||0)}),B-=S;const N=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(B+N<a){const V=(a-B-N)/2;m.forEach((H,j)=>{m[j]=H-V}),_.forEach((H,j)=>{_[j]=H+V})}}if(Object.assign(s,{slides:d,snapGrid:m,slidesGrid:_,slidesSizesGrid:w}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){cn(i,"--swiper-centered-offset-before",-m[0]+"px"),cn(i,"--swiper-centered-offset-after",s.size/2-w[w.length-1]/2+"px");const B=-s.snapGrid[0],N=-s.slidesGrid[0];s.snapGrid=s.snapGrid.map(V=>V+B),s.slidesGrid=s.slidesGrid.map(V=>V+N)}if(p!==f&&s.emit("slidesLengthChange"),m.length!==b&&(s.params.watchOverflow&&s.checkOverflow(),s.emit("snapGridLengthChange")),_.length!==P&&s.emit("slidesGridLengthChange"),t.watchSlidesProgress&&s.updateSlidesOffset(),s.emit("slidesUpdated"),!(h||t.cssMode||"slide"!==t.effect&&"fade"!==t.effect)){const B=`${t.containerModifierClass}backface-hidden`,N=s.el.classList.contains(B);p<=t.maxBackfaceHiddenSlides?N||s.el.classList.add(B):N&&s.el.classList.remove(B)}},updateAutoHeight:function gd(s){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let a,n=0;"number"==typeof s?e.setTransition(s):!0===s&&e.setTransition(e.params.speed);const o=l=>i?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{t.push(l)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const l=e.activeIndex+a;if(l>e.slides.length&&!i)break;t.push(o(l))}else t.push(o(e.activeIndex));for(a=0;a<t.length;a+=1)if(typeof t[a]<"u"){const l=t[a].offsetHeight;n=l>n?l:n}(n||0===n)&&(e.wrapperEl.style.height=`${n}px`)},updateSlidesOffset:function Mu(){const s=this,e=s.slides,t=s.isElement?s.isHorizontal()?s.wrapperEl.offsetLeft:s.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(s.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-s.cssOverflowAdjustment()},updateSlidesProgress:function ku(s){void 0===s&&(s=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:n,snapGrid:a}=e;if(0===i.length)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-s;n&&(o=s),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=t.spaceBetween;"string"==typeof l&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:"string"==typeof l&&(l=parseFloat(l));for(let h=0;h<i.length;h+=1){const f=i[h];let d=f.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(d-=i[0].swiperSlideOffset);const p=(o+(t.centeredSlides?e.minTranslate():0)-d)/(f.swiperSlideSize+l),m=(o-a[0]+(t.centeredSlides?e.minTranslate():0)-d)/(f.swiperSlideSize+l),_=-(o-d),w=_+e.slidesSizesGrid[h],A=_>=0&&_<=e.size-e.slidesSizesGrid[h],C=_>=0&&_<e.size-1||w>1&&w<=e.size||_<=0&&w>=e.size;C&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(h)),na(f,C,t.slideVisibleClass),na(f,A,t.slideFullyVisibleClass),f.progress=n?-p:p,f.originalProgress=n?-m:m}},updateProgress:function Tu(s){const e=this;typeof s>"u"&&(s=e&&e.translate&&e.translate*(e.rtlTranslate?-1:1)||0);const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:n,isBeginning:a,isEnd:o,progressLoop:l}=e;const h=a,f=o;if(0===i)n=0,a=!0,o=!0;else{n=(s-e.minTranslate())/i;const d=Math.abs(s-e.minTranslate())<1,p=Math.abs(s-e.maxTranslate())<1;a=d||n<=0,o=p||n>=1,d&&(n=0),p&&(n=1)}if(t.loop){const d=e.getSlideIndexByData(0),p=e.getSlideIndexByData(e.slides.length-1),m=e.slidesGrid[d],_=e.slidesGrid[p],w=e.slidesGrid[e.slidesGrid.length-1],A=Math.abs(s);l=A>=m?(A-m)/w:(A+w-_)/w,l>1&&(l-=1)}Object.assign(e,{progress:n,progressLoop:l,isBeginning:a,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(s),a&&!h&&e.emit("reachBeginning toEdge"),o&&!f&&e.emit("reachEnd toEdge"),(h&&!a||f&&!o)&&e.emit("fromEdge"),e.emit("progress",n)},updateSlidesClasses:function md(){const s=this,{slides:e,params:t,slidesEl:i,activeIndex:n}=s,o=s.grid&&t.grid&&t.grid.rows>1,l=p=>qe(i,`.${t.slideClass}${p}, swiper-slide${p}`)[0];let h,f,d;if(s.virtual&&t.virtual.enabled)if(t.loop){let p=n-s.virtual.slidesBefore;p<0&&(p=s.virtual.slides.length+p),p>=s.virtual.slides.length&&(p-=s.virtual.slides.length),h=l(`[data-swiper-slide-index="${p}"]`)}else h=l(`[data-swiper-slide-index="${n}"]`);else o?(h=e.filter(p=>p.column===n)[0],d=e.filter(p=>p.column===n+1)[0],f=e.filter(p=>p.column===n-1)[0]):h=e[n];h&&(o||(d=function Yn(s,e){const t=[];for(;s.nextElementSibling;){const i=s.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),s=i}return t}(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!d&&(d=e[0]),f=function ni(s,e){const t=[];for(;s.previousElementSibling;){const i=s.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),s=i}return t}(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&0===!f&&(f=e[e.length-1]))),e.forEach(p=>{wo(p,p===h,t.slideActiveClass),wo(p,p===d,t.slideNextClass),wo(p,p===f,t.slidePrevClass)}),s.emitSlidesClasses()},updateActiveIndex:function Du(s){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:n,activeIndex:a,realIndex:o,snapIndex:l}=e;let f,h=s;const d=_=>{let w=_-e.virtual.slidesBefore;return w<0&&(w=e.virtual.slides.length+w),w>=e.virtual.slides.length&&(w-=e.virtual.slides.length),w};if(typeof h>"u"&&(h=function vd(s){const{slidesGrid:e,params:t}=s,i=s.rtlTranslate?s.translate:-s.translate;let n;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?i>=e[a]&&i<e[a+1]-(e[a+1]-e[a])/2?n=a:i>=e[a]&&i<e[a+1]&&(n=a+1):i>=e[a]&&(n=a);return t.normalizeSlideIndex&&(n<0||typeof n>"u")&&(n=0),n}(e)),i.indexOf(t)>=0)f=i.indexOf(t);else{const _=Math.min(n.slidesPerGroupSkip,h);f=_+Math.floor((h-_)/n.slidesPerGroup)}if(f>=i.length&&(f=i.length-1),h===a&&!e.params.loop)return void(f!==l&&(e.snapIndex=f,e.emit("snapIndexChange")));if(h===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled)return void(e.realIndex=d(h));const p=e.grid&&n.grid&&n.grid.rows>1;let m;if(e.virtual&&n.virtual.enabled&&n.loop)m=d(h);else if(p){const _=e.slides.filter(A=>A.column===h)[0];let w=parseInt(_.getAttribute("data-swiper-slide-index"),10);Number.isNaN(w)&&(w=Math.max(e.slides.indexOf(_),0)),m=Math.floor(w/n.grid.rows)}else if(e.slides[h]){const _=e.slides[h].getAttribute("data-swiper-slide-index");m=_?parseInt(_,10):h}else m=h;Object.assign(e,{previousSnapIndex:l,snapIndex:f,previousRealIndex:o,realIndex:m,previousIndex:a,activeIndex:h}),e.initialized&&aa(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==m&&e.emit("realIndexChange"),e.emit("slideChange"))},updateClickedSlide:function Fu(s,e){const t=this,i=t.params;let n=s.closest(`.${i.slideClass}, swiper-slide`);!n&&t.isElement&&e&&e.length>1&&e.includes(s)&&[...e.slice(e.indexOf(s)+1,e.length)].forEach(l=>{!n&&l.matches&&l.matches(`.${i.slideClass}, swiper-slide`)&&(n=l)});let o,a=!1;if(n)for(let l=0;l<t.slides.length;l+=1)if(t.slides[l]===n){a=!0,o=l;break}if(!n||!a)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=n,t.clickedIndex=t.virtual&&t.params.virtual.enabled?parseInt(n.getAttribute("data-swiper-slide-index"),10):o,i.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}},translate:{getTranslate:function Lu(s){void 0===s&&(s=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:i,translate:n,wrapperEl:a}=this;if(t.virtualTranslate)return i?-n:n;if(t.cssMode)return n;let o=qn(a,s);return o+=this.cssOverflowAdjustment(),i&&(o=-o),o||0},setTranslate:function bo(s,e){const t=this,{rtlTranslate:i,params:n,wrapperEl:a,progress:o}=t;let d,l=0,h=0;t.isHorizontal()?l=i?-s:s:h=s,n.roundLengths&&(l=Math.floor(l),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?l:h,n.cssMode?a[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-l:-h:n.virtualTranslate||(t.isHorizontal()?l-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),a.style.transform=`translate3d(${l}px, ${h}px, 0px)`);const p=t.maxTranslate()-t.minTranslate();d=0===p?0:(s-t.minTranslate())/p,d!==o&&t.updateProgress(s),t.emit("setTranslate",t.translate,e)},minTranslate:function Iu(){return-this.snapGrid[0]},maxTranslate:function wd(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function Jn(s,e,t,i,n){void 0===s&&(s=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===i&&(i=!0);const a=this,{params:o,wrapperEl:l}=a;if(a.animating&&o.preventInteractionOnTransition)return!1;const h=a.minTranslate(),f=a.maxTranslate();let d;if(d=i&&s>h?h:i&&s<f?f:s,a.updateProgress(d),o.cssMode){const p=a.isHorizontal();if(0===e)l[p?"scrollLeft":"scrollTop"]=-d;else{if(!a.support.smoothScroll)return Jr({swiper:a,targetPosition:-d,side:p?"left":"top"}),!0;l.scrollTo({[p?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===e?(a.setTransition(0),a.setTranslate(d),t&&(a.emit("beforeTransitionStart",e,n),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(d),t&&(a.emit("beforeTransitionStart",e,n),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(m){!a||a.destroyed||m.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,t&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function Ad(s,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${s}ms`,t.wrapperEl.style.transitionDelay=0===s?"0ms":""),t.emit("setTransition",s,e)},transitionStart:function Bu(s,e){void 0===s&&(s=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),Ao({swiper:t,runCallbacks:s,direction:e,step:"Start"}))},transitionEnd:function Ru(s,e){void 0===s&&(s=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),Ao({swiper:t,runCallbacks:s,direction:e,step:"End"}))}},slide:{slideTo:function Ed(s,e,t,i,n){void 0===s&&(s=0),void 0===t&&(t=!0),"string"==typeof s&&(s=parseInt(s,10));const a=this;let o=s;o<0&&(o=0);const{params:l,snapGrid:h,slidesGrid:f,previousIndex:d,activeIndex:p,rtlTranslate:m,wrapperEl:_,enabled:w}=a;if(!w&&!i&&!n||a.destroyed||a.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const A=Math.min(a.params.slidesPerGroupSkip,o);let C=A+Math.floor((o-A)/a.params.slidesPerGroup);C>=h.length&&(C=h.length-1);const b=-h[C];if(l.normalizeSlideIndex)for(let S=0;S<f.length;S+=1){const T=-Math.floor(100*b),O=Math.floor(100*f[S]),M=Math.floor(100*f[S+1]);typeof f[S+1]<"u"?T>=O&&T<M-(M-O)/2?o=S:T>=O&&T<M&&(o=S+1):T>=O&&(o=S)}if(a.initialized&&o!==p&&(!a.allowSlideNext&&(m?b>a.translate&&b>a.minTranslate():b<a.translate&&b<a.minTranslate())||!a.allowSlidePrev&&b>a.translate&&b>a.maxTranslate()&&(p||0)!==o))return!1;let P;if(o!==(d||0)&&t&&a.emit("beforeSlideChangeStart"),a.updateProgress(b),P=o>p?"next":o<p?"prev":"reset",m&&-b===a.translate||!m&&b===a.translate)return a.updateActiveIndex(o),l.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==l.effect&&a.setTranslate(b),"reset"!==P&&(a.transitionStart(t,P),a.transitionEnd(t,P)),!1;if(l.cssMode){const S=a.isHorizontal(),T=m?b:-b;if(0===e){const O=a.virtual&&a.params.virtual.enabled;O&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),O&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{_[S?"scrollLeft":"scrollTop"]=T})):_[S?"scrollLeft":"scrollTop"]=T,O&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1})}else{if(!a.support.smoothScroll)return Jr({swiper:a,targetPosition:T,side:S?"left":"top"}),!0;_.scrollTo({[S?"left":"top"]:T,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(b),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,i),a.transitionStart(t,P),0===e?a.transitionEnd(t,P):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(T){!a||a.destroyed||T.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(t,P))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function Cd(s,e,t,i){void 0===s&&(s=0),void 0===t&&(t=!0),"string"==typeof s&&(s=parseInt(s,10));const n=this;if(n.destroyed)return;typeof e>"u"&&(e=n.params.speed);const a=n.grid&&n.params.grid&&n.params.grid.rows>1;let o=s;if(n.params.loop)if(n.virtual&&n.params.virtual.enabled)o+=n.virtual.slidesBefore;else{let l;if(a){const m=o*n.params.grid.rows;l=n.slides.filter(_=>1*_.getAttribute("data-swiper-slide-index")===m)[0].column}else l=n.getSlideIndexByData(o);const h=a?Math.ceil(n.slides.length/n.params.grid.rows):n.slides.length,{centeredSlides:f}=n.params;let d=n.params.slidesPerView;"auto"===d?d=n.slidesPerViewDynamic():(d=Math.ceil(parseFloat(n.params.slidesPerView,10)),f&&d%2==0&&(d+=1));let p=h-l<d;if(f&&(p=p||l<Math.ceil(d/2)),i&&f&&"auto"!==n.params.slidesPerView&&!a&&(p=!1),p){const m=f?l<n.activeIndex?"prev":"next":l-n.activeIndex-1<n.params.slidesPerView?"next":"prev";n.loopFix({direction:m,slideTo:!0,activeSlideIndex:"next"===m?l+1:l-h+1,slideRealIndex:"next"===m?n.realIndex:void 0})}if(a){const m=o*n.params.grid.rows;o=n.slides.filter(_=>1*_.getAttribute("data-swiper-slide-index")===m)[0].column}else o=n.getSlideIndexByData(o)}return requestAnimationFrame(()=>{n.slideTo(o,e,t,i)}),n},slideNext:function xd(s,e,t){void 0===e&&(e=!0);const i=this,{enabled:n,params:a,animating:o}=i;if(!n||i.destroyed)return i;typeof s>"u"&&(s=i.params.speed);let l=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(l=Math.max(i.slidesPerViewDynamic("current",!0),1));const h=i.activeIndex<a.slidesPerGroupSkip?1:l;if(a.loop){if(o&&(!i.virtual||!a.virtual.enabled)&&a.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+h,s,e,t)}),!0}return i.slideTo(a.rewind&&i.isEnd?0:i.activeIndex+h,s,e,t)},slidePrev:function Sd(s,e,t){void 0===e&&(e=!0);const i=this,{params:n,snapGrid:a,slidesGrid:o,rtlTranslate:l,enabled:h,animating:f}=i;if(!h||i.destroyed)return i;if(typeof s>"u"&&(s=i.params.speed),n.loop){if(f&&(!i.virtual||!n.virtual.enabled)&&n.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}function m(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const _=m(l?i.translate:-i.translate),w=a.map(b=>m(b));let A=a[w.indexOf(_)-1];if(typeof A>"u"&&n.cssMode){let b;a.forEach((P,S)=>{_>=P&&(b=S)}),typeof b<"u"&&(A=a[b>0?b-1:b])}let C=0;return typeof A<"u"&&(C=o.indexOf(A),C<0&&(C=i.activeIndex-1),"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(C=C-i.slidesPerViewDynamic("previous",!0)+1,C=Math.max(C,0))),n.rewind&&i.isBeginning?i.slideTo(i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1,s,e,t):n.loop&&0===i.activeIndex&&n.cssMode?(requestAnimationFrame(()=>{i.slideTo(C,s,e,t)}),!0):i.slideTo(C,s,e,t)},slideReset:function Pd(s,e,t){void 0===e&&(e=!0);const i=this;if(!i.destroyed)return typeof s>"u"&&(s=i.params.speed),i.slideTo(i.activeIndex,s,e,t)},slideToClosest:function yo(s,e,t,i){void 0===e&&(e=!0),void 0===i&&(i=.5);const n=this;if(n.destroyed)return;typeof s>"u"&&(s=n.params.speed);let a=n.activeIndex;const o=Math.min(n.params.slidesPerGroupSkip,a),l=o+Math.floor((a-o)/n.params.slidesPerGroup),h=n.rtlTranslate?n.translate:-n.translate;if(h>=n.snapGrid[l]){const f=n.snapGrid[l];h-f>(n.snapGrid[l+1]-f)*i&&(a+=n.params.slidesPerGroup)}else{const f=n.snapGrid[l-1];h-f<=(n.snapGrid[l]-f)*i&&(a-=n.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,n.slidesGrid.length-1),n.slideTo(a,s,e,t)},slideToClickedSlide:function Md(){const s=this;if(s.destroyed)return;const{params:e,slidesEl:t}=s,i="auto"===e.slidesPerView?s.slidesPerViewDynamic():e.slidesPerView;let a,n=s.clickedIndex;const o=s.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(s.animating)return;a=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n<s.loopedSlides-i/2||n>s.slides.length-s.loopedSlides+i/2?(s.loopFix(),n=s.getSlideIndex(qe(t,`${o}[data-swiper-slide-index="${a}"]`)[0]),Ds(()=>{s.slideTo(n)})):s.slideTo(n):n>s.slides.length-i?(s.loopFix(),n=s.getSlideIndex(qe(t,`${o}[data-swiper-slide-index="${a}"]`)[0]),Ds(()=>{s.slideTo(n)})):s.slideTo(n)}else s.slideTo(n)}},loop:{loopCreate:function Td(s){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const n=()=>{qe(i,`.${t.slideClass}, swiper-slide`).forEach((p,m)=>{p.setAttribute("data-swiper-slide-index",m)})},a=e.grid&&t.grid&&t.grid.rows>1,o=t.slidesPerGroup*(a?t.grid.rows:1),h=a&&e.slides.length%t.grid.rows!=0,f=d=>{for(let p=0;p<d;p+=1){const m=e.isElement?_t("swiper-slide",[t.slideBlankClass]):_t("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(m)}};e.slides.length%o!=0?(t.loopAddBlankSlides?(f(o-e.slides.length%o),e.recalcSlides(),e.updateSlides()):ea("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),n()):h?(t.loopAddBlankSlides?(f(t.grid.rows-e.slides.length%t.grid.rows),e.recalcSlides(),e.updateSlides()):ea("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),n()):n(),e.loopFix({slideRealIndex:s,direction:t.centeredSlides?void 0:"next"})},loopFix:function Dd(s){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:n,activeSlideIndex:a,byController:o,byMousewheel:l}=void 0===s?{}:s;const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:f,allowSlidePrev:d,allowSlideNext:p,slidesEl:m,params:_}=h,{centeredSlides:w}=_;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&_.virtual.enabled)return t&&(_.centeredSlides||0!==h.snapIndex?_.centeredSlides&&h.snapIndex<_.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0):h.slideTo(h.virtual.slides.length,0,!1,!0)),h.allowSlidePrev=d,h.allowSlideNext=p,void h.emit("loopFix");let A=_.slidesPerView;"auto"===A?A=h.slidesPerViewDynamic():(A=Math.ceil(parseFloat(_.slidesPerView,10)),w&&A%2==0&&(A+=1));const C=_.slidesPerGroupAuto?A:_.slidesPerGroup;let b=C;b%C!=0&&(b+=C-b%C),b+=_.loopAdditionalSlides,h.loopedSlides=b;const P=h.grid&&_.grid&&_.grid.rows>1;f.length<A+b?ea("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):P&&"row"===_.grid.fill&&ea("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const S=[],T=[];let O=h.activeIndex;typeof a>"u"?a=h.getSlideIndex(f.filter(H=>H.classList.contains(_.slideActiveClass))[0]):O=a;const M="next"===i||!i,R="prev"===i||!i;let I=0,F=0;const B=P?Math.ceil(f.length/_.grid.rows):f.length,V=(P?f[a].column:a)+(w&&typeof n>"u"?-A/2+.5:0);if(V<b){I=Math.max(b-V,C);for(let H=0;H<b-V;H+=1){const j=H-Math.floor(H/B)*B;if(P){const Y=B-j-1;for(let J=f.length-1;J>=0;J-=1)f[J].column===Y&&S.push(J)}else S.push(B-j-1)}}else if(V+A>B-b){F=Math.max(V-(B-2*b),C);for(let H=0;H<F;H+=1){const j=H-Math.floor(H/B)*B;P?f.forEach((Y,J)=>{Y.column===j&&T.push(J)}):T.push(j)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),R&&S.forEach(H=>{f[H].swiperLoopMoveDOM=!0,m.prepend(f[H]),f[H].swiperLoopMoveDOM=!1}),M&&T.forEach(H=>{f[H].swiperLoopMoveDOM=!0,m.append(f[H]),f[H].swiperLoopMoveDOM=!1}),h.recalcSlides(),"auto"===_.slidesPerView?h.updateSlides():P&&(S.length>0&&R||T.length>0&&M)&&h.slides.forEach((H,j)=>{h.grid.updateSlide(j,H,h.slides)}),_.watchSlidesProgress&&h.updateSlidesOffset(),t)if(S.length>0&&R)if(typeof e>"u"){const Y=h.slidesGrid[O+I]-h.slidesGrid[O];l?h.setTranslate(h.translate-Y):(h.slideTo(O+Math.ceil(I),0,!1,!0),n&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-Y,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-Y))}else n&&(h.slideTo(h.activeIndex+(P?S.length/_.grid.rows:S.length),0,!1,!0),h.touchEventsData.currentTranslate=h.translate);else if(T.length>0&&M)if(typeof e>"u"){const Y=h.slidesGrid[O-F]-h.slidesGrid[O];l?h.setTranslate(h.translate-Y):(h.slideTo(O-F,0,!1,!0),n&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-Y,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-Y))}else h.slideTo(h.activeIndex-(P?T.length/_.grid.rows:T.length),0,!1,!0);if(h.allowSlidePrev=d,h.allowSlideNext=p,h.controller&&h.controller.control&&!o){const H={slideRealIndex:e,direction:i,setTranslate:n,activeSlideIndex:a,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(j=>{!j.destroyed&&j.params.loop&&j.loopFix({...H,slideTo:j.params.slidesPerView===_.slidesPerView&&t})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...H,slideTo:h.controller.control.params.slidesPerView===_.slidesPerView&&t})}h.emit("loopFix")},loopDestroy:function zi(){const s=this,{params:e,slidesEl:t}=s;if(!e.loop||s.virtual&&s.params.virtual.enabled)return;s.recalcSlides();const i=[];s.slides.forEach(n=>{const a=typeof n.swiperSlideIndex>"u"?1*n.getAttribute("data-swiper-slide-index"):n.swiperSlideIndex;i[a]=n}),s.slides.forEach(n=>{n.removeAttribute("data-swiper-slide-index")}),i.forEach(n=>{t.append(n)}),s.recalcSlides(),s.slideTo(s.realIndex,0)}},grabCursor:{setGrabCursor:function Ou(s){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=s?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})},unsetGrabCursor:function Nu(){const s=this;s.params.watchOverflow&&s.isLocked||s.params.cssMode||(s.isElement&&(s.__preventObserver__=!0),s["container"===s.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",s.isElement&&requestAnimationFrame(()=>{s.__preventObserver__=!1}))}},events:{attachEvents:function la(){const s=this,{params:e}=s;s.onTouchStart=Hu.bind(s),s.onTouchMove=pn.bind(s),s.onTouchEnd=Vu.bind(s),s.onDocumentTouchStart=ju.bind(s),e.cssMode&&(s.onScroll=Ld.bind(s)),s.onClick=Fd.bind(s),s.onLoad=Id.bind(s),Gu(s,"on")},detachEvents:function Bd(){Gu(this,"off")}},breakpoints:{setBreakpoint:function Od(){const s=this,{realIndex:e,initialized:t,params:i,el:n}=s,a=i.breakpoints;if(!a||a&&0===Object.keys(a).length)return;const o=s.getBreakpoint(a,s.params.breakpointsBase,s.el);if(!o||s.currentBreakpoint===o)return;const h=(o in a?a[o]:void 0)||s.originalParams,f=Uu(s,i),d=Uu(s,h),p=s.params.grabCursor,m=h.grabCursor,_=i.enabled;f&&!d?(n.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),s.emitContainerClasses()):!f&&d&&(n.classList.add(`${i.containerModifierClass}grid`),(h.grid.fill&&"column"===h.grid.fill||!h.grid.fill&&"column"===i.grid.fill)&&n.classList.add(`${i.containerModifierClass}grid-column`),s.emitContainerClasses()),p&&!m?s.unsetGrabCursor():!p&&m&&s.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(S=>{if(typeof h[S]>"u")return;const T=i[S]&&i[S].enabled,O=h[S]&&h[S].enabled;T&&!O&&s[S].disable(),!T&&O&&s[S].enable()});const w=h.direction&&h.direction!==i.direction,A=i.loop&&(h.slidesPerView!==i.slidesPerView||w),C=i.loop;w&&t&&s.changeDirection(),Yt(s.params,h);const b=s.params.enabled,P=s.params.loop;Object.assign(s,{allowTouchMove:s.params.allowTouchMove,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev}),_&&!b?s.disable():!_&&b&&s.enable(),s.currentBreakpoint=o,s.emit("_beforeBreakpoint",h),t&&(A?(s.loopDestroy(),s.loopCreate(e),s.updateSlides()):!C&&P?(s.loopCreate(e),s.updateSlides()):C&&!P&&s.loopDestroy()),s.emit("breakpoint",h)},getBreakpoint:function Nd(s,e,t){if(void 0===e&&(e="window"),!s||"container"===e&&!t)return;let i=!1;const n=Qe(),a="window"===e?n.innerHeight:t.clientHeight,o=Object.keys(s).map(l=>{if("string"==typeof l&&0===l.indexOf("@")){const h=parseFloat(l.substr(1));return{value:a*h,point:l}}return{value:l,point:l}});o.sort((l,h)=>parseInt(l.value,10)-parseInt(h.value,10));for(let l=0;l<o.length;l+=1){const{point:h,value:f}=o[l];"window"===e?n.matchMedia(`(min-width: ${f}px)`).matches&&(i=h):f<=t.clientWidth&&(i=h)}return i||"max"}},checkOverflow:{checkOverflow:function Ve(){const s=this,{isLocked:e,params:t}=s,{slidesOffsetBefore:i}=t;if(i){const n=s.slides.length-1;s.isLocked=s.size>s.slidesGrid[n]+s.slidesSizesGrid[n]+2*i}else s.isLocked=1===s.snapGrid.length;!0===t.allowSlideNext&&(s.allowSlideNext=!s.isLocked),!0===t.allowSlidePrev&&(s.allowSlidePrev=!s.isLocked),e&&e!==s.isLocked&&(s.isEnd=!1),e!==s.isLocked&&s.emit(s.isLocked?"lock":"unlock")}},classes:{addClasses:function Xu(){const s=this,{classNames:e,params:t,rtl:i,el:n,device:a}=s,o=function er(s,e){const t=[];return s.forEach(i=>{"object"==typeof i?Object.keys(i).forEach(n=>{i[n]&&t.push(e+n)}):"string"==typeof i&&t.push(e+i)}),t}(["initialized",t.direction,{"free-mode":s.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&"column"===t.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),n.classList.add(...e),s.emitContainerClasses()},removeClasses:function Zu(){const{el:e,classNames:t}=this;!e||"string"==typeof e||(e.classList.remove(...t),this.emitContainerClasses())}}},ir={};class me{constructor(){let e,t;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];1===n.length&&n[0].constructor&&"Object"===Object.prototype.toString.call(n[0]).slice(8,-1)?t=n[0]:[e,t]=n,t||(t={}),t=Yt({},t),e&&!t.el&&(t.el=e);const o=at();if(t.el&&"string"==typeof t.el&&o.querySelectorAll(t.el).length>1){const d=[];return o.querySelectorAll(t.el).forEach(p=>{const m=Yt({},t,{el:p});d.push(new me(m))}),d}const l=this;l.__swiper__=!0,l.support=Oi(),l.device=ia({userAgent:t.userAgent}),l.browser=function vo(){return Kn||(Kn=function Qn(){const s=Qe(),e=ia();let t=!1;function i(){const l=s.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(i()){const l=String(s.navigator.userAgent);if(l.includes("Version/")){const[h,f]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));t=h<16||16===h&&f<2}}const n=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(s.navigator.userAgent),a=i();return{isSafari:t||a,needPerspectiveFix:t,need3dFix:a||n&&e.ios,isWebView:n}}()),Kn}(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],t.modules&&Array.isArray(t.modules)&&l.modules.push(...t.modules);const h={};l.modules.forEach(d=>{d({params:t,swiper:l,extendParams:mn(t,h),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const f=Yt({},gn,h);return l.params=Yt({},f,ir,t),l.originalParams=Yt({},l.params),l.passedParams=Yt({},t),l.params&&l.params.on&&Object.keys(l.params.on).forEach(d=>{l.on(d,l.params.on[d])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===l.params.direction,isVertical:()=>"vertical"===l.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,a=dn(qe(t,`.${i.slideClass}, swiper-slide`)[0]);return dn(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>1*t.getAttribute("data-swiper-slide-index")===e)[0])}recalcSlides(){const{slidesEl:t,params:i}=this;this.slides=qe(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const n=i.minTranslate(),o=(i.maxTranslate()-n)*e+n;i.translateTo(o,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>0===i.indexOf("swiper")||0===i.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>0===i.indexOf("swiper-slide")||0===i.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const n=e.getSlideClasses(i);t.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:n,slides:a,slidesGrid:o,slidesSizesGrid:l,size:h,activeIndex:f}=this;let d=1;if("number"==typeof n.slidesPerView)return n.slidesPerView;if(n.centeredSlides){let m,p=a[f]?Math.ceil(a[f].swiperSlideSize):0;for(let _=f+1;_<a.length;_+=1)a[_]&&!m&&(p+=Math.ceil(a[_].swiperSlideSize),d+=1,p>h&&(m=!0));for(let _=f-1;_>=0;_-=1)a[_]&&!m&&(p+=a[_].swiperSlideSize,d+=1,p>h&&(m=!0))}else if("current"===e)for(let p=f+1;p<a.length;p+=1)(t?o[p]+l[p]-o[f]<h:o[p]-o[f]<h)&&(d+=1);else for(let p=f-1;p>=0;p-=1)o[f]-o[p]<h&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function n(){const l=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let a;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&fn(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode?(n(),i.autoHeight&&e.updateAutoHeight()):(a=e.slideTo(("auto"===i.slidesPerView||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides?(e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides).length-1:e.activeIndex,0,!1,!0),a||n()),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const i=this,n=i.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e||(i.el.classList.remove(`${i.params.containerModifierClass}${n}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(a=>{"vertical"===e?a.style.width="":a.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(n()):qe(i,n())[0];return!o&&t.params.createElements&&(o=_t("div",t.params.wrapperClass),i.append(o),qe(i,`.${t.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(t,{el:i,wrapperEl:o,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===ye(i,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===ye(i,"direction")),wrongRTL:"-webkit-box"===ye(o,"display")}),!0}init(e){const t=this;if(t.initialized||!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.slideTo(t.params.loop&&t.virtual&&t.params.virtual.enabled?t.params.initialSlide+t.virtual.slidesBefore:t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach(a=>{a.complete?fn(t,a):a.addEventListener("load",o=>{fn(t,o.target)})}),aa(t),t.initialized=!0,aa(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const i=this,{params:n,el:a,wrapperEl:o,slides:l}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),a&&"string"!=typeof a&&a.removeAttribute("style"),o&&o.removeAttribute("style"),l&&l.length&&l.forEach(h=>{h.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(h=>{i.off(h)}),!1!==e&&(i.el&&"string"!=typeof i.el&&(i.el.swiper=null),function Cu(s){const e=s;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}(i)),i.destroyed=!0),null}static extendDefaults(e){Yt(ir,e)}static get extendedDefaults(){return ir}static get defaults(){return gn}static installModule(e){me.prototype.__modules__||(me.prototype.__modules__=[]);const t=me.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>me.installModule(t)),me):(me.installModule(e),me)}}function Kt(s,e,t,i){return s.params.createElements&&Object.keys(i).forEach(n=>{if(!t[n]&&!0===t.auto){let a=qe(s.el,`.${i[n]}`)[0];a||(a=_t("div",i[n]),a.className=i[n],s.el.append(a)),t[n]=a,e[n]=a}}),t}function pi(s){return void 0===s&&(s=""),`.${s.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ca(s){const e=this,{params:t,slidesEl:i}=e;t.loop&&e.loopDestroy();const n=a=>{if("string"==typeof a){const o=document.createElement("div");o.innerHTML=a,i.append(o.children[0]),o.innerHTML=""}else i.append(a)};if("object"==typeof s&&"length"in s)for(let a=0;a<s.length;a+=1)s[a]&&n(s[a]);else n(s);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update()}function qu(s){const e=this,{params:t,activeIndex:i,slidesEl:n}=e;t.loop&&e.loopDestroy();let a=i+1;const o=l=>{if("string"==typeof l){const h=document.createElement("div");h.innerHTML=l,n.prepend(h.children[0]),h.innerHTML=""}else n.prepend(l)};if("object"==typeof s&&"length"in s){for(let l=0;l<s.length;l+=1)s[l]&&o(s[l]);a=i+s.length}else o(s);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(a,0,!1)}function To(s,e){const t=this,{params:i,activeIndex:n,slidesEl:a}=t;let o=n;i.loop&&(o-=t.loopedSlides,t.loopDestroy(),t.recalcSlides());const l=t.slides.length;if(s<=0)return void t.prependSlide(e);if(s>=l)return void t.appendSlide(e);let h=o>s?o+1:o;const f=[];for(let d=l-1;d>=s;d-=1){const p=t.slides[d];p.remove(),f.unshift(p)}if("object"==typeof e&&"length"in e){for(let d=0;d<e.length;d+=1)e[d]&&a.append(e[d]);h=o>s?o+e.length:o}else a.append(e);for(let d=0;d<f.length;d+=1)a.append(f[d]);t.recalcSlides(),i.loop&&t.loopCreate(),(!i.observer||t.isElement)&&t.update(),t.slideTo(i.loop?h+t.loopedSlides:h,0,!1)}function Wd(s){const e=this,{params:t,activeIndex:i}=e;let n=i;t.loop&&(n-=e.loopedSlides,e.loopDestroy());let o,a=n;if("object"==typeof s&&"length"in s){for(let l=0;l<s.length;l+=1)o=s[l],e.slides[o]&&e.slides[o].remove(),o<a&&(a-=1);a=Math.max(a,0)}else o=s,e.slides[o]&&e.slides[o].remove(),o<a&&(a-=1),a=Math.max(a,0);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(t.loop?a+e.loopedSlides:a,0,!1)}function Le(){const s=this,e=[];for(let t=0;t<s.slides.length;t+=1)e.push(t);s.removeSlide(e)}function Ge(s){const{effect:e,swiper:t,on:i,setTranslate:n,setTransition:a,overwriteParams:o,perspective:l,recreateShadows:h,getEffectParams:f}=s;let d;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),l&&l()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const p=o?o():{};Object.assign(t.params,p),Object.assign(t.originalParams,p)}),i("setTranslate",()=>{t.params.effect===e&&n()}),i("setTransition",(p,m)=>{t.params.effect===e&&a(m)}),i("transitionEnd",()=>{if(t.params.effect===e&&h){if(!f||!f().slideShadows)return;t.slides.forEach(p=>{p.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(m=>m.remove())}),h()}}),i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(d=!0),requestAnimationFrame(()=>{d&&t.slides&&t.slides.length&&(n(),d=!1)}))})}function vn(s,e){const t=gs(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function _n(s){let{swiper:e,duration:t,transformElements:i,allSlides:n}=s;const{activeIndex:a}=e;if(e.params.virtualTranslate&&0!==t){let h,l=!1;h=n?i:i.filter(f=>{const d=f.classList.contains("swiper-slide-transform")?(l=>l.parentElement?l.parentElement:e.slides.filter(f=>f.shadowRoot&&f.shadowRoot===l.parentNode)[0])(f):f;return e.getSlideIndex(d)===a}),h.forEach(f=>{it(f,()=>{if(l||!e||e.destroyed)return;l=!0,e.animating=!1;const d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(d)})})}}function gi(s,e,t){const i=`swiper-slide-shadow${t?`-${t}`:""}${s?` swiper-slide-shadow-${s}`:""}`,n=gs(e);let a=n.querySelector(`.${i.split(" ").join(".")}`);return a||(a=_t("div",i.split(" ")),n.append(a)),a}Object.keys(ms).forEach(s=>{Object.keys(ms[s]).forEach(e=>{me.prototype[e]=ms[s][e]})}),me.use([function pd(s){let{swiper:e,on:t,emit:i}=s;const n=Qe();let a=null,o=null;const l=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},d=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{e.params.resizeObserver&&typeof n.ResizeObserver<"u"?!e||e.destroyed||!e.initialized||(a=new ResizeObserver(p=>{o=n.requestAnimationFrame(()=>{const{width:m,height:_}=e;let w=m,A=_;p.forEach(C=>{let{contentBoxSize:b,contentRect:P,target:S}=C;S&&S!==e.el||(w=P?P.width:(b[0]||b).inlineSize,A=P?P.height:(b[0]||b).blockSize)}),(w!==m||A!==_)&&l()})}),a.observe(e.el)):(n.addEventListener("resize",l),n.addEventListener("orientationchange",d))}),t("destroy",()=>{o&&n.cancelAnimationFrame(o),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null),n.removeEventListener("resize",l),n.removeEventListener("orientationchange",d)})},function Su(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const a=[],o=Qe(),l=function(d,p){void 0===p&&(p={});const _=new(o.MutationObserver||o.WebkitMutationObserver)(w=>{if(e.__preventObserver__)return;if(1===w.length)return void n("observerUpdate",w[0]);const A=function(){n("observerUpdate",w[0])};o.requestAnimationFrame?o.requestAnimationFrame(A):o.setTimeout(A,0)});_.observe(d,{attributes:typeof p.attributes>"u"||p.attributes,childList:e.isElement||(typeof p.childList>"u"||p).childList,characterData:typeof p.characterData>"u"||p.characterData}),a.push(_)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",()=>{if(e.params.observer){if(e.params.observeParents){const d=be(e.hostEl);for(let p=0;p<d.length;p+=1)l(d[p])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}}),i("destroy",()=>{a.forEach(d=>{d.disconnect()}),a.splice(0,a.length)})}]),me.use([function wt(s){let a,{swiper:e,extendParams:t,on:i,emit:n}=s;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const o=at();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const l=o.createElement("div");function h(w,A){const C=e.params.virtual;if(C.cache&&e.virtual.cache[A])return e.virtual.cache[A];let b;return C.renderSlide?(b=C.renderSlide.call(e,w,A),"string"==typeof b&&(l.innerHTML=b,b=l.children[0])):b=e.isElement?_t("swiper-slide"):_t("div",e.params.slideClass),b.setAttribute("data-swiper-slide-index",A),C.renderSlide||(b.innerHTML=w),C.cache&&(e.virtual.cache[A]=b),b}function f(w,A){const{slidesPerView:C,slidesPerGroup:b,centeredSlides:P,loop:S,initialSlide:T}=e.params;if(A&&!S&&T>0)return;const{addSlidesBefore:O,addSlidesAfter:M}=e.params.virtual,{from:R,to:I,slides:F,slidesGrid:B,offset:N}=e.virtual;e.params.cssMode||e.updateActiveIndex();const V=e.activeIndex||0;let H,j,Y;H=e.rtlTranslate?"right":e.isHorizontal()?"left":"top",P?(j=Math.floor(C/2)+b+M,Y=Math.floor(C/2)+b+O):(j=C+(b-1)+M,Y=(S?C:b)+O);let J=V-Y,G=V+j;S||(J=Math.max(J,0),G=Math.min(G,F.length-1));let Z=(e.slidesGrid[J]||0)-(e.slidesGrid[0]||0);function ae(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),n("virtualUpdate")}if(S&&V>=Y?(J-=Y,P||(Z+=e.slidesGrid[0])):S&&V<Y&&(J=-Y,P&&(Z+=e.slidesGrid[0])),Object.assign(e.virtual,{from:J,to:G,offset:Z,slidesGrid:e.slidesGrid,slidesBefore:Y,slidesAfter:j}),R===J&&I===G&&!w)return e.slidesGrid!==B&&Z!==N&&e.slides.forEach(oe=>{oe.style[H]=Z-Math.abs(e.cssOverflowAdjustment())+"px"}),e.updateProgress(),void n("virtualUpdate");if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:Z,from:J,to:G,slides:function(){const Pe=[];for(let we=J;we<=G;we+=1)Pe.push(F[we]);return Pe}()}),void(e.params.virtual.renderExternalUpdate?ae():n("virtualUpdate"));const fe=[],se=[],ee=oe=>{let Pe=oe;return oe<0?Pe=F.length+oe:Pe>=F.length&&(Pe-=F.length),Pe};if(w)e.slides.filter(oe=>oe.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(oe=>{oe.remove()});else for(let oe=R;oe<=I;oe+=1)if(oe<J||oe>G){const Pe=ee(oe);e.slides.filter(we=>we.matches(`.${e.params.slideClass}[data-swiper-slide-index="${Pe}"], swiper-slide[data-swiper-slide-index="${Pe}"]`)).forEach(we=>{we.remove()})}const Fe=S?2*F.length:F.length;for(let oe=S?-F.length:0;oe<Fe;oe+=1)if(oe>=J&&oe<=G){const Pe=ee(oe);typeof I>"u"||w?se.push(Pe):(oe>I&&se.push(Pe),oe<R&&fe.push(Pe))}if(se.forEach(oe=>{e.slidesEl.append(h(F[oe],oe))}),S)for(let oe=fe.length-1;oe>=0;oe-=1){const Pe=fe[oe];e.slidesEl.prepend(h(F[Pe],Pe))}else fe.sort((oe,Pe)=>Pe-oe),fe.forEach(oe=>{e.slidesEl.prepend(h(F[oe],oe))});qe(e.slidesEl,".swiper-slide, swiper-slide").forEach(oe=>{oe.style[H]=Z-Math.abs(e.cssOverflowAdjustment())+"px"}),ae()}i("beforeInit",()=>{if(!e.params.virtual.enabled)return;let w;if(typeof e.passedParams.virtual.slides>"u"){const A=[...e.slidesEl.children].filter(C=>C.matches(`.${e.params.slideClass}, swiper-slide`));A&&A.length&&(e.virtual.slides=[...A],w=!0,A.forEach((C,b)=>{C.setAttribute("data-swiper-slide-index",b),e.virtual.cache[b]=C,C.remove()}))}w||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,f(!1,!0)}),i("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(a),a=setTimeout(()=>{f()},100)):f())}),i("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&cn(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:function d(w){if("object"==typeof w&&"length"in w)for(let A=0;A<w.length;A+=1)w[A]&&e.virtual.slides.push(w[A]);else e.virtual.slides.push(w);f(!0)},prependSlide:function p(w){const A=e.activeIndex;let C=A+1,b=1;if(Array.isArray(w)){for(let P=0;P<w.length;P+=1)w[P]&&e.virtual.slides.unshift(w[P]);C=A+w.length,b=w.length}else e.virtual.slides.unshift(w);if(e.params.virtual.cache){const P=e.virtual.cache,S={};Object.keys(P).forEach(T=>{const O=P[T],M=O.getAttribute("data-swiper-slide-index");M&&O.setAttribute("data-swiper-slide-index",parseInt(M,10)+b),S[parseInt(T,10)+b]=O}),e.virtual.cache=S}f(!0),e.slideTo(C,0)},removeSlide:function m(w){if(typeof w>"u"||null===w)return;let A=e.activeIndex;if(Array.isArray(w))for(let C=w.length-1;C>=0;C-=1)e.params.virtual.cache&&(delete e.virtual.cache[w[C]],Object.keys(e.virtual.cache).forEach(b=>{b>w&&(e.virtual.cache[b-1]=e.virtual.cache[b],e.virtual.cache[b-1].setAttribute("data-swiper-slide-index",b-1),delete e.virtual.cache[b])})),e.virtual.slides.splice(w[C],1),w[C]<A&&(A-=1),A=Math.max(A,0);else e.params.virtual.cache&&(delete e.virtual.cache[w],Object.keys(e.virtual.cache).forEach(C=>{C>w&&(e.virtual.cache[C-1]=e.virtual.cache[C],e.virtual.cache[C-1].setAttribute("data-swiper-slide-index",C-1),delete e.virtual.cache[C])})),e.virtual.slides.splice(w,1),w<A&&(A-=1),A=Math.max(A,0);f(!0),e.slideTo(A,0)},removeAllSlides:function _(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),f(!0),e.slideTo(0,0)},update:f})},function Co(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const a=at(),o=Qe();function l(d){if(!e.enabled)return;const{rtlTranslate:p}=e;let m=d;m.originalEvent&&(m=m.originalEvent);const _=m.keyCode||m.charCode,w=e.params.keyboard.pageUpDown,A=w&&33===_,C=w&&34===_,b=37===_,P=39===_,S=38===_,T=40===_;if(!e.allowSlideNext&&(e.isHorizontal()&&P||e.isVertical()&&T||C)||!e.allowSlidePrev&&(e.isHorizontal()&&b||e.isVertical()&&S||A))return!1;if(!(m.shiftKey||m.altKey||m.ctrlKey||m.metaKey||a.activeElement&&a.activeElement.nodeName&&("input"===a.activeElement.nodeName.toLowerCase()||"textarea"===a.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(A||C||b||P||S||T)){let O=!1;if(be(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&0===be(e.el,`.${e.params.slideActiveClass}`).length)return;const M=e.el,R=M.clientWidth,I=M.clientHeight,F=o.innerWidth,B=o.innerHeight,N=ta(M);p&&(N.left-=M.scrollLeft);const V=[[N.left,N.top],[N.left+R,N.top],[N.left,N.top+I],[N.left+R,N.top+I]];for(let H=0;H<V.length;H+=1){const j=V[H];if(j[0]>=0&&j[0]<=F&&j[1]>=0&&j[1]<=B){if(0===j[0]&&0===j[1])continue;O=!0}}if(!O)return}e.isHorizontal()?((A||C||b||P)&&(m.preventDefault?m.preventDefault():m.returnValue=!1),((C||P)&&!p||(A||b)&&p)&&e.slideNext(),((A||b)&&!p||(C||P)&&p)&&e.slidePrev()):((A||C||S||T)&&(m.preventDefault?m.preventDefault():m.returnValue=!1),(C||T)&&e.slideNext(),(A||S)&&e.slidePrev()),n("keyPress",_)}}function h(){e.keyboard.enabled||(a.addEventListener("keydown",l),e.keyboard.enabled=!0)}function f(){e.keyboard.enabled&&(a.removeEventListener("keydown",l),e.keyboard.enabled=!1)}e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),i("init",()=>{e.params.keyboard.enabled&&h()}),i("destroy",()=>{e.keyboard.enabled&&f()}),Object.assign(e.keyboard,{enable:h,disable:f})},function ua(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const a=Qe();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,h,l=si();const f=[];function p(){e.enabled&&(e.mouseEntered=!0)}function m(){e.enabled&&(e.mouseEntered=!1)}function _(S){return!(e.params.mousewheel.thresholdDelta&&S.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&si()-l<e.params.mousewheel.thresholdTime)&&(S.delta>=6&&si()-l<60||(S.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),n("scroll",S.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),n("scroll",S.raw)),l=(new a.Date).getTime(),!1))}function A(S){let T=S,O=!0;if(!e.enabled||S.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const M=e.params.mousewheel;e.params.cssMode&&T.preventDefault();let R=e.el;"container"!==e.params.mousewheel.eventsTarget&&(R=document.querySelector(e.params.mousewheel.eventsTarget));const I=R&&R.contains(T.target);if(!e.mouseEntered&&!I&&!M.releaseOnEdges)return!0;T.originalEvent&&(T=T.originalEvent);let F=0;const B=e.rtlTranslate?-1:1,N=function d(S){let R=0,I=0,F=0,B=0;return"detail"in S&&(I=S.detail),"wheelDelta"in S&&(I=-S.wheelDelta/120),"wheelDeltaY"in S&&(I=-S.wheelDeltaY/120),"wheelDeltaX"in S&&(R=-S.wheelDeltaX/120),"axis"in S&&S.axis===S.HORIZONTAL_AXIS&&(R=I,I=0),F=10*R,B=10*I,"deltaY"in S&&(B=S.deltaY),"deltaX"in S&&(F=S.deltaX),S.shiftKey&&!F&&(F=B,B=0),(F||B)&&S.deltaMode&&(1===S.deltaMode?(F*=40,B*=40):(F*=800,B*=800)),F&&!R&&(R=F<1?-1:1),B&&!I&&(I=B<1?-1:1),{spinX:R,spinY:I,pixelX:F,pixelY:B}}(T);if(M.forceToAxis)if(e.isHorizontal()){if(!(Math.abs(N.pixelX)>Math.abs(N.pixelY)))return!0;F=-N.pixelX*B}else{if(!(Math.abs(N.pixelY)>Math.abs(N.pixelX)))return!0;F=-N.pixelY}else F=Math.abs(N.pixelX)>Math.abs(N.pixelY)?-N.pixelX*B:-N.pixelY;if(0===F)return!0;M.invert&&(F=-F);let V=e.getTranslate()+F*M.sensitivity;if(V>=e.minTranslate()&&(V=e.minTranslate()),V<=e.maxTranslate()&&(V=e.maxTranslate()),O=!!e.params.loop||!(V===e.minTranslate()||V===e.maxTranslate()),O&&e.params.nested&&T.stopPropagation(),e.params.freeMode&&e.params.freeMode.enabled){const H={time:si(),delta:Math.abs(F),direction:Math.sign(F)},j=h&&H.time<h.time+500&&H.delta<=h.delta&&H.direction===h.direction;if(!j){h=void 0;let Y=e.getTranslate()+F*M.sensitivity;const J=e.isBeginning,G=e.isEnd;if(Y>=e.minTranslate()&&(Y=e.minTranslate()),Y<=e.maxTranslate()&&(Y=e.maxTranslate()),e.setTransition(0),e.setTranslate(Y),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!J&&e.isBeginning||!G&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:H.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,f.length>=15&&f.shift();const Z=f.length?f[f.length-1]:void 0,ae=f[0];if(f.push(H),Z&&(H.delta>Z.delta||H.direction!==Z.direction))f.splice(0);else if(f.length>=15&&H.time-ae.time<500&&ae.delta-H.delta>=1&&H.delta<=6){const fe=F>0?.8:.2;h=H,f.splice(0),o=Ds(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,fe)},0)}o||(o=Ds(()=>{!e.destroyed&&e.params&&(h=H,f.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5))},500))}if(j||n("scroll",T),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),M.releaseOnEdges&&(Y===e.minTranslate()||Y===e.maxTranslate()))return!0}}else{const H={time:si(),delta:Math.abs(F),direction:Math.sign(F),raw:S};f.length>=2&&f.shift();const j=f.length?f[f.length-1]:void 0;if(f.push(H),j?(H.direction!==j.direction||H.delta>j.delta||H.time>j.time+150)&&_(H):_(H),function w(S){const T=e.params.mousewheel;if(S.direction<0){if(e.isEnd&&!e.params.loop&&T.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&T.releaseOnEdges)return!0;return!1}(H))return!0}return T.preventDefault?T.preventDefault():T.returnValue=!1,!1}function C(S){let T=e.el;"container"!==e.params.mousewheel.eventsTarget&&(T=document.querySelector(e.params.mousewheel.eventsTarget)),T[S]("mouseenter",p),T[S]("mouseleave",m),T[S]("wheel",A)}function b(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",A),!0):!e.mousewheel.enabled&&(C("addEventListener"),e.mousewheel.enabled=!0,!0)}function P(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,A),!0):!!e.mousewheel.enabled&&(C("removeEventListener"),e.mousewheel.enabled=!1,!0)}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&P(),e.params.mousewheel.enabled&&b()}),i("destroy",()=>{e.params.cssMode&&b(),e.mousewheel.enabled&&P()}),Object.assign(e.mousewheel,{enable:b,disable:P})},function zd(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;function a(w){let A;return w&&"string"==typeof w&&e.isElement&&(A=e.el.querySelector(w),A)?A:(w&&("string"==typeof w&&(A=[...document.querySelectorAll(w)]),e.params.uniqueNavElements&&"string"==typeof w&&A&&A.length>1&&1===e.el.querySelectorAll(w).length?A=e.el.querySelector(w):A&&1===A.length&&(A=A[0])),w&&!A?w:A)}function o(w,A){const C=e.params.navigation;(w=Ae(w)).forEach(b=>{b&&(b.classList[A?"add":"remove"](...C.disabledClass.split(" ")),"BUTTON"===b.tagName&&(b.disabled=A),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](C.lockClass))})}function l(){const{nextEl:w,prevEl:A}=e.navigation;if(e.params.loop)return o(A,!1),void o(w,!1);o(A,e.isBeginning&&!e.params.rewind),o(w,e.isEnd&&!e.params.rewind)}function h(w){w.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function f(w){w.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function d(){const w=e.params.navigation;if(e.params.navigation=Kt(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!w.nextEl&&!w.prevEl)return;let A=a(w.nextEl),C=a(w.prevEl);Object.assign(e.navigation,{nextEl:A,prevEl:C}),A=Ae(A),C=Ae(C);const b=(P,S)=>{P&&P.addEventListener("click","next"===S?f:h),!e.enabled&&P&&P.classList.add(...w.lockClass.split(" "))};A.forEach(P=>b(P,"next")),C.forEach(P=>b(P,"prev"))}function p(){let{nextEl:w,prevEl:A}=e.navigation;w=Ae(w),A=Ae(A);const C=(b,P)=>{b.removeEventListener("click","next"===P?f:h),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};w.forEach(b=>C(b,"next")),A.forEach(b=>C(b,"prev"))}t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null},i("init",()=>{!1===e.params.navigation.enabled?_():(d(),l())}),i("toEdge fromEdge lock unlock",()=>{l()}),i("destroy",()=>{p()}),i("enable disable",()=>{let{nextEl:w,prevEl:A}=e.navigation;w=Ae(w),A=Ae(A),e.enabled?l():[...w,...A].filter(C=>!!C).forEach(C=>C.classList.add(e.params.navigation.lockClass))}),i("click",(w,A)=>{let{nextEl:C,prevEl:b}=e.navigation;C=Ae(C),b=Ae(b);const P=A.target;let S=b.includes(P)||C.includes(P);if(e.isElement&&!S){const T=A.path||A.composedPath&&A.composedPath();T&&(S=T.find(O=>C.includes(O)||b.includes(O)))}if(e.params.navigation.hideOnClick&&!S){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===P||e.pagination.el.contains(P)))return;let T;C.length?T=C[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(T=b[0].classList.contains(e.params.navigation.hiddenClass)),n(!0===T?"navigationShow":"navigationHide"),[...C,...b].filter(O=>!!O).forEach(O=>O.classList.toggle(e.params.navigation.hiddenClass))}});const _=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(e.navigation,{enable:()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},disable:_,update:l,init:d,destroy:p})},function Fs(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const a="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:b=>b,formatFractionTotal:b=>b,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let o,l=0;function h(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&0===e.pagination.el.length}function f(b,P){const{bulletActiveClass:S}=e.params.pagination;b&&(b=b[("prev"===P?"previous":"next")+"ElementSibling"])&&(b.classList.add(`${S}-${P}`),(b=b[("prev"===P?"previous":"next")+"ElementSibling"])&&b.classList.add(`${S}-${P}-${P}`))}function d(b){const P=b.target.closest(pi(e.params.pagination.bulletClass));if(!P)return;b.preventDefault();const S=dn(P)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;e.slideToLoop(S)}else e.slideTo(S)}function p(){const b=e.rtl,P=e.params.pagination;if(h())return;let T,O,S=e.pagination.el;S=Ae(S);const R=e.params.loop?Math.ceil((e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(O=e.previousRealIndex||0,T=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(T=e.snapIndex,O=e.previousSnapIndex):(O=e.previousIndex||0,T=e.activeIndex||0),"bullets"===P.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const I=e.pagination.bullets;let F,B,N;if(P.dynamicBullets&&(o=Ht(I[0],e.isHorizontal()?"width":"height",!0),S.forEach(V=>{V.style[e.isHorizontal()?"width":"height"]=o*(P.dynamicMainBullets+4)+"px"}),P.dynamicMainBullets>1&&void 0!==O&&(l+=T-(O||0),l>P.dynamicMainBullets-1?l=P.dynamicMainBullets-1:l<0&&(l=0)),F=Math.max(T-l,0),B=F+(Math.min(I.length,P.dynamicMainBullets)-1),N=(B+F)/2),I.forEach(V=>{const H=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(j=>`${P.bulletActiveClass}${j}`)].map(j=>"string"==typeof j&&j.includes(" ")?j.split(" "):j).flat();V.classList.remove(...H)}),S.length>1)I.forEach(V=>{const H=dn(V);H===T?V.classList.add(...P.bulletActiveClass.split(" ")):e.isElement&&V.setAttribute("part","bullet"),P.dynamicBullets&&(H>=F&&H<=B&&V.classList.add(...`${P.bulletActiveClass}-main`.split(" ")),H===F&&f(V,"prev"),H===B&&f(V,"next"))});else{const V=I[T];if(V&&V.classList.add(...P.bulletActiveClass.split(" ")),e.isElement&&I.forEach((H,j)=>{H.setAttribute("part",j===T?"bullet-active":"bullet")}),P.dynamicBullets){const H=I[F],j=I[B];for(let Y=F;Y<=B;Y+=1)I[Y]&&I[Y].classList.add(...`${P.bulletActiveClass}-main`.split(" "));f(H,"prev"),f(j,"next")}}if(P.dynamicBullets){const V=Math.min(I.length,P.dynamicMainBullets+4),H=(o*V-o)/2-N*o,j=b?"right":"left";I.forEach(Y=>{Y.style[e.isHorizontal()?j:"top"]=`${H}px`})}}S.forEach((I,F)=>{if("fraction"===P.type&&(I.querySelectorAll(pi(P.currentClass)).forEach(B=>{B.textContent=P.formatFractionCurrent(T+1)}),I.querySelectorAll(pi(P.totalClass)).forEach(B=>{B.textContent=P.formatFractionTotal(R)})),"progressbar"===P.type){let B;B=P.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const N=(T+1)/R;let V=1,H=1;"horizontal"===B?V=N:H=N,I.querySelectorAll(pi(P.progressbarFillClass)).forEach(j=>{j.style.transform=`translate3d(0,0,0) scaleX(${V}) scaleY(${H})`,j.style.transitionDuration=`${e.params.speed}ms`})}"custom"===P.type&&P.renderCustom?(I.innerHTML=P.renderCustom(e,T+1,R),0===F&&n("paginationRender",I)):(0===F&&n("paginationRender",I),n("paginationUpdate",I)),e.params.watchOverflow&&e.enabled&&I.classList[e.isLocked?"add":"remove"](P.lockClass)})}function m(){const b=e.params.pagination;if(h())return;const P=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=Ae(S);let T="";if("bullets"===b.type){let O=e.params.loop?Math.ceil(P/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&O>P&&(O=P);for(let M=0;M<O;M+=1)T+=b.renderBullet?b.renderBullet.call(e,M,b.bulletClass):`<${b.bulletElement} ${e.isElement?'part="bullet"':""} class="${b.bulletClass}"></${b.bulletElement}>`}"fraction"===b.type&&(T=b.renderFraction?b.renderFraction.call(e,b.currentClass,b.totalClass):`<span class="${b.currentClass}"></span> / <span class="${b.totalClass}"></span>`),"progressbar"===b.type&&(T=b.renderProgressbar?b.renderProgressbar.call(e,b.progressbarFillClass):`<span class="${b.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(O=>{"custom"!==b.type&&(O.innerHTML=T||""),"bullets"===b.type&&e.pagination.bullets.push(...O.querySelectorAll(pi(b.bulletClass)))}),"custom"!==b.type&&n("paginationRender",S[0])}function _(){e.params.pagination=Kt(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const b=e.params.pagination;if(!b.el)return;let P;"string"==typeof b.el&&e.isElement&&(P=e.el.querySelector(b.el)),!P&&"string"==typeof b.el&&(P=[...document.querySelectorAll(b.el)]),P||(P=b.el),P&&0!==P.length&&(e.params.uniqueNavElements&&"string"==typeof b.el&&Array.isArray(P)&&P.length>1&&(P=[...e.el.querySelectorAll(b.el)],P.length>1&&(P=P.filter(S=>be(S,".swiper")[0]===e.el)[0])),Array.isArray(P)&&1===P.length&&(P=P[0]),Object.assign(e.pagination,{el:P}),P=Ae(P),P.forEach(S=>{"bullets"===b.type&&b.clickable&&S.classList.add(...(b.clickableClass||"").split(" ")),S.classList.add(b.modifierClass+b.type),S.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass),"bullets"===b.type&&b.dynamicBullets&&(S.classList.add(`${b.modifierClass}${b.type}-dynamic`),l=0,b.dynamicMainBullets<1&&(b.dynamicMainBullets=1)),"progressbar"===b.type&&b.progressbarOpposite&&S.classList.add(b.progressbarOppositeClass),b.clickable&&S.addEventListener("click",d),e.enabled||S.classList.add(b.lockClass)}))}function w(){const b=e.params.pagination;if(h())return;let P=e.pagination.el;P&&(P=Ae(P),P.forEach(S=>{S.classList.remove(b.hiddenClass),S.classList.remove(b.modifierClass+b.type),S.classList.remove(e.isHorizontal()?b.horizontalClass:b.verticalClass),b.clickable&&(S.classList.remove(...(b.clickableClass||"").split(" ")),S.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...b.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const b=e.params.pagination;let{el:P}=e.pagination;P=Ae(P),P.forEach(S=>{S.classList.remove(b.horizontalClass,b.verticalClass),S.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass)})}),i("init",()=>{!1===e.params.pagination.enabled?C():(_(),m(),p())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),i("snapIndexChange",()=>{p()}),i("snapGridLengthChange",()=>{m(),p()}),i("destroy",()=>{w()}),i("enable disable",()=>{let{el:b}=e.pagination;b&&(b=Ae(b),b.forEach(P=>P.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{p()}),i("click",(b,P)=>{const S=P.target,T=Ae(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&T&&T.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const O=T[0].classList.contains(e.params.pagination.hiddenClass);n(!0===O?"paginationShow":"paginationHide"),T.forEach(M=>M.classList.toggle(e.params.pagination.hiddenClass))}});const C=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=Ae(b),b.forEach(P=>P.classList.add(e.params.pagination.paginationDisabledClass))),w()};Object.assign(e.pagination,{enable:()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=Ae(b),b.forEach(P=>P.classList.remove(e.params.pagination.paginationDisabledClass))),_(),m(),p()},disable:C,render:m,update:p,init:_,destroy:w})},function Ct(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const a=at();let f,d,p,m,o=!1,l=null,h=null;function _(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:V,rtlTranslate:H}=e,{dragEl:j,el:Y}=V,J=e.params.scrollbar;let Z=d,ae=(p-d)*(e.params.loop?e.progressLoop:e.progress);H?(ae=-ae,ae>0?(Z=d-ae,ae=0):-ae+d>p&&(Z=p+ae)):ae<0?(Z=d+ae,ae=0):ae+d>p&&(Z=p-ae),e.isHorizontal()?(j.style.transform=`translate3d(${ae}px, 0, 0)`,j.style.width=`${Z}px`):(j.style.transform=`translate3d(0px, ${ae}px, 0)`,j.style.height=`${Z}px`),J.hide&&(clearTimeout(l),Y.style.opacity=1,l=setTimeout(()=>{Y.style.opacity=0,Y.style.transitionDuration="400ms"},1e3))}function A(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:V}=e,{dragEl:H,el:j}=V;H.style.width="",H.style.height="",p=e.isHorizontal()?j.offsetWidth:j.offsetHeight,m=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),d="auto"===e.params.scrollbar.dragSize?p*m:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?H.style.width=`${d}px`:H.style.height=`${d}px`,j.style.display=m>=1?"none":"",e.params.scrollbar.hide&&(j.style.opacity=0),e.params.watchOverflow&&e.enabled&&V.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function C(V){return e.isHorizontal()?V.clientX:V.clientY}function b(V){const{scrollbar:H,rtlTranslate:j}=e,{el:Y}=H;let J;J=(C(V)-ta(Y)[e.isHorizontal()?"left":"top"]-(null!==f?f:d/2))/(p-d),J=Math.max(Math.min(J,1),0),j&&(J=1-J);const G=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*J;e.updateProgress(G),e.setTranslate(G),e.updateActiveIndex(),e.updateSlidesClasses()}function P(V){const H=e.params.scrollbar,{scrollbar:j,wrapperEl:Y}=e,{el:J,dragEl:G}=j;o=!0,f=V.target===G?C(V)-V.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,V.preventDefault(),V.stopPropagation(),Y.style.transitionDuration="100ms",G.style.transitionDuration="100ms",b(V),clearTimeout(h),J.style.transitionDuration="0ms",H.hide&&(J.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),n("scrollbarDragStart",V)}function S(V){const{scrollbar:H,wrapperEl:j}=e,{el:Y,dragEl:J}=H;o&&(V.preventDefault&&V.cancelable?V.preventDefault():V.returnValue=!1,b(V),j.style.transitionDuration="0ms",Y.style.transitionDuration="0ms",J.style.transitionDuration="0ms",n("scrollbarDragMove",V))}function T(V){const H=e.params.scrollbar,{scrollbar:j,wrapperEl:Y}=e,{el:J}=j;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",Y.style.transitionDuration=""),H.hide&&(clearTimeout(h),h=Ds(()=>{J.style.opacity=0,J.style.transitionDuration="400ms"},1e3)),n("scrollbarDragEnd",V),H.snapOnRelease&&e.slideToClosest())}function O(V){const{scrollbar:H,params:j}=e,Y=H.el;if(!Y)return;const G=!!j.passiveListeners&&{passive:!1,capture:!1},Z=!!j.passiveListeners&&{passive:!0,capture:!1};if(!Y)return;const ae="on"===V?"addEventListener":"removeEventListener";Y[ae]("pointerdown",P,G),a[ae]("pointermove",S,G),a[ae]("pointerup",T,Z)}function I(){const{scrollbar:V,el:H}=e;e.params.scrollbar=Kt(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const j=e.params.scrollbar;if(!j.el)return;let Y,J;if("string"==typeof j.el&&e.isElement&&(Y=e.el.querySelector(j.el)),Y||"string"!=typeof j.el)Y||(Y=j.el);else if(Y=a.querySelectorAll(j.el),!Y.length)return;e.params.uniqueNavElements&&"string"==typeof j.el&&Y.length>1&&1===H.querySelectorAll(j.el).length&&(Y=H.querySelector(j.el)),Y.length>0&&(Y=Y[0]),Y.classList.add(e.isHorizontal()?j.horizontalClass:j.verticalClass),Y&&(J=Y.querySelector(pi(e.params.scrollbar.dragClass)),J||(J=_t("div",e.params.scrollbar.dragClass),Y.append(J))),Object.assign(V,{el:Y,dragEl:J}),j.draggable&&function M(){!e.params.scrollbar.el||!e.scrollbar.el||O("on")}(),Y&&Y.classList[e.enabled?"remove":"add"](...je(e.params.scrollbar.lockClass))}function F(){const V=e.params.scrollbar,H=e.scrollbar.el;H&&H.classList.remove(...je(e.isHorizontal()?V.horizontalClass:V.verticalClass)),function R(){!e.params.scrollbar.el||!e.scrollbar.el||O("off")}()}t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null},i("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const V=e.params.scrollbar;let{el:H}=e.scrollbar;H=Ae(H),H.forEach(j=>{j.classList.remove(V.horizontalClass,V.verticalClass),j.classList.add(e.isHorizontal()?V.horizontalClass:V.verticalClass)})}),i("init",()=>{!1===e.params.scrollbar.enabled?N():(I(),A(),_())}),i("update resize observerUpdate lock unlock changeDirection",()=>{A()}),i("setTranslate",()=>{_()}),i("setTransition",(V,H)=>{!function w(V){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${V}ms`)}(H)}),i("enable disable",()=>{const{el:V}=e.scrollbar;V&&V.classList[e.enabled?"remove":"add"](...je(e.params.scrollbar.lockClass))}),i("destroy",()=>{F()});const N=()=>{e.el.classList.add(...je(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...je(e.params.scrollbar.scrollbarDisabledClass)),F()};Object.assign(e.scrollbar,{enable:()=>{e.el.classList.remove(...je(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...je(e.params.scrollbar.scrollbarDisabledClass)),I(),A(),_()},disable:N,updateSize:A,setTranslate:_,init:I,destroy:F})},function Ls(s){let{swiper:e,extendParams:t,on:i}=s;t({parallax:{enabled:!1}});const n="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",a=(h,f)=>{const{rtl:d}=e,p=d?-1:1,m=h.getAttribute("data-swiper-parallax")||"0";let _=h.getAttribute("data-swiper-parallax-x"),w=h.getAttribute("data-swiper-parallax-y");const A=h.getAttribute("data-swiper-parallax-scale"),C=h.getAttribute("data-swiper-parallax-opacity"),b=h.getAttribute("data-swiper-parallax-rotate");if(_||w?(_=_||"0",w=w||"0"):e.isHorizontal()?(_=m,w="0"):(w=m,_="0"),_=_.indexOf("%")>=0?parseInt(_,10)*f*p+"%":_*f*p+"px",w=w.indexOf("%")>=0?parseInt(w,10)*f+"%":w*f+"px",typeof C<"u"&&null!==C){const S=C-(C-1)*(1-Math.abs(f));h.style.opacity=S}let P=`translate3d(${_}, ${w}, 0px)`;typeof A<"u"&&null!==A&&(P+=` scale(${A-(A-1)*(1-Math.abs(f))})`),b&&typeof b<"u"&&null!==b&&(P+=` rotate(${b*f*-1}deg)`),h.style.transform=P},o=()=>{const{el:h,slides:f,progress:d,snapGrid:p}=e,_=qe(h,n);e.isElement&&_.push(...qe(e.hostEl,n)),_.forEach(w=>{a(w,d)}),f.forEach((w,A)=>{let C=w.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(C+=Math.ceil(A/2)-d*(p.length-1)),C=Math.min(Math.max(C,-1),1),w.querySelectorAll(`${n}, [data-swiper-parallax-rotate]`).forEach(b=>{a(b,C)})})};i("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),i("init",()=>{e.params.parallax.enabled&&o()}),i("setTranslate",()=>{e.params.parallax.enabled&&o()}),i("setTransition",(h,f)=>{e.params.parallax.enabled&&function(h){void 0===h&&(h=e.params.speed);const{el:f,hostEl:d}=e,p=[...f.querySelectorAll(n)];e.isElement&&p.push(...d.querySelectorAll(n)),p.forEach(m=>{let _=parseInt(m.getAttribute("data-swiper-parallax-duration"),10)||h;0===h&&(_=0),m.style.transitionDuration=`${_}ms`})}(f)})},function sr(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const a=Qe();t({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let h,f,o=1,l=!1;const d=[],p={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},m={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},_={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let I,w=1;function A(){return d.length<2?1:Math.sqrt((d[1].pageX-d[0].pageX)**2+(d[1].pageY-d[0].pageY)**2)}function C(){const se=e.params.zoom,ee=p.imageWrapEl.getAttribute("data-swiper-zoom")||se.maxRatio;return se.limitToOriginalSize&&p.imageEl&&p.imageEl.naturalWidth?Math.min(p.imageEl.naturalWidth/p.imageEl.offsetWidth,ee):ee}function S(se){const ee=function P(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}();return!!(se.target.matches(ee)||e.slides.filter(Q=>Q.contains(se.target)).length>0)}function O(se){if("mouse"===se.pointerType&&d.splice(0,d.length),!S(se))return;const ee=e.params.zoom;if(h=!1,f=!1,d.push(se),!(d.length<2)){if(h=!0,p.scaleStart=A(),!p.slideEl){p.slideEl=se.target.closest(`.${e.params.slideClass}, swiper-slide`),p.slideEl||(p.slideEl=e.slides[e.activeIndex]);let Q=p.slideEl.querySelector(`.${ee.containerClass}`);if(Q&&(Q=Q.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),p.imageEl=Q,p.imageWrapEl=Q?be(p.imageEl,`.${ee.containerClass}`)[0]:void 0,!p.imageWrapEl)return void(p.imageEl=void 0);p.maxRatio=C()}if(p.imageEl){const[Q,Fe]=function b(){if(d.length<2)return{x:null,y:null};const se=p.imageEl.getBoundingClientRect();return[(d[0].pageX+(d[1].pageX-d[0].pageX)/2-se.x-a.scrollX)/o,(d[0].pageY+(d[1].pageY-d[0].pageY)/2-se.y-a.scrollY)/o]}();p.originX=Q,p.originY=Fe,p.imageEl.style.transitionDuration="0ms"}l=!0}}function M(se){if(!S(se))return;const ee=e.params.zoom,Q=e.zoom,Fe=d.findIndex(oe=>oe.pointerId===se.pointerId);Fe>=0&&(d[Fe]=se),!(d.length<2)&&(f=!0,p.scaleMove=A(),p.imageEl&&(Q.scale=p.scaleMove/p.scaleStart*o,Q.scale>p.maxRatio&&(Q.scale=p.maxRatio-1+(Q.scale-p.maxRatio+1)**.5),Q.scale<ee.minRatio&&(Q.scale=ee.minRatio+1-(ee.minRatio-Q.scale+1)**.5),p.imageEl.style.transform=`translate3d(0,0,0) scale(${Q.scale})`))}function R(se){if(!S(se)||"mouse"===se.pointerType&&"pointerout"===se.type)return;const ee=e.params.zoom,Q=e.zoom,Fe=d.findIndex(oe=>oe.pointerId===se.pointerId);Fe>=0&&d.splice(Fe,1),h&&f&&(h=!1,f=!1,p.imageEl&&(Q.scale=Math.max(Math.min(Q.scale,p.maxRatio),ee.minRatio),p.imageEl.style.transitionDuration=`${e.params.speed}ms`,p.imageEl.style.transform=`translate3d(0,0,0) scale(${Q.scale})`,o=Q.scale,l=!1,Q.scale>1&&p.slideEl?p.slideEl.classList.add(`${ee.zoomedSlideClass}`):Q.scale<=1&&p.slideEl&&p.slideEl.classList.remove(`${ee.zoomedSlideClass}`),1===Q.scale&&(p.originX=0,p.originY=0,p.slideEl=void 0)))}function F(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function V(se){if(!S(se)||!function T(se){const ee=`.${e.params.zoom.containerClass}`;return!!(se.target.matches(ee)||[...e.hostEl.querySelectorAll(ee)].filter(Q=>Q.contains(se.target)).length>0)}(se))return;const ee=e.zoom;if(!p.imageEl||!m.isTouched||!p.slideEl)return;m.isMoved||(m.width=p.imageEl.offsetWidth||p.imageEl.clientWidth,m.height=p.imageEl.offsetHeight||p.imageEl.clientHeight,m.startX=qn(p.imageWrapEl,"x")||0,m.startY=qn(p.imageWrapEl,"y")||0,p.slideWidth=p.slideEl.offsetWidth,p.slideHeight=p.slideEl.offsetHeight,p.imageWrapEl.style.transitionDuration="0ms");const Fe=m.height*ee.scale;if(m.minX=Math.min(p.slideWidth/2-m.width*ee.scale/2,0),m.maxX=-m.minX,m.minY=Math.min(p.slideHeight/2-Fe/2,0),m.maxY=-m.minY,m.touchesCurrent.x=d.length>0?d[0].pageX:se.pageX,m.touchesCurrent.y=d.length>0?d[0].pageY:se.pageY,Math.max(Math.abs(m.touchesCurrent.x-m.touchesStart.x),Math.abs(m.touchesCurrent.y-m.touchesStart.y))>5&&(e.allowClick=!1),!m.isMoved&&!l){if(e.isHorizontal()&&(Math.floor(m.minX)===Math.floor(m.startX)&&m.touchesCurrent.x<m.touchesStart.x||Math.floor(m.maxX)===Math.floor(m.startX)&&m.touchesCurrent.x>m.touchesStart.x))return m.isTouched=!1,void F();if(!e.isHorizontal()&&(Math.floor(m.minY)===Math.floor(m.startY)&&m.touchesCurrent.y<m.touchesStart.y||Math.floor(m.maxY)===Math.floor(m.startY)&&m.touchesCurrent.y>m.touchesStart.y))return m.isTouched=!1,void F()}se.cancelable&&se.preventDefault(),se.stopPropagation(),function B(){clearTimeout(I),e.touchEventsData.preventTouchMoveFromPointerMove=!0,I=setTimeout(()=>{F()})}(),m.isMoved=!0;const Pe=(ee.scale-o)/(p.maxRatio-e.params.zoom.minRatio),{originX:we,originY:st}=p;m.currentX=m.touchesCurrent.x-m.touchesStart.x+m.startX+Pe*(m.width-2*we),m.currentY=m.touchesCurrent.y-m.touchesStart.y+m.startY+Pe*(m.height-2*st),m.currentX<m.minX&&(m.currentX=m.minX+1-(m.minX-m.currentX+1)**.8),m.currentX>m.maxX&&(m.currentX=m.maxX-1+(m.currentX-m.maxX+1)**.8),m.currentY<m.minY&&(m.currentY=m.minY+1-(m.minY-m.currentY+1)**.8),m.currentY>m.maxY&&(m.currentY=m.maxY-1+(m.currentY-m.maxY+1)**.8),_.prevPositionX||(_.prevPositionX=m.touchesCurrent.x),_.prevPositionY||(_.prevPositionY=m.touchesCurrent.y),_.prevTime||(_.prevTime=Date.now()),_.x=(m.touchesCurrent.x-_.prevPositionX)/(Date.now()-_.prevTime)/2,_.y=(m.touchesCurrent.y-_.prevPositionY)/(Date.now()-_.prevTime)/2,Math.abs(m.touchesCurrent.x-_.prevPositionX)<2&&(_.x=0),Math.abs(m.touchesCurrent.y-_.prevPositionY)<2&&(_.y=0),_.prevPositionX=m.touchesCurrent.x,_.prevPositionY=m.touchesCurrent.y,_.prevTime=Date.now(),p.imageWrapEl.style.transform=`translate3d(${m.currentX}px, ${m.currentY}px,0)`}function j(){const se=e.zoom;p.slideEl&&e.activeIndex!==e.slides.indexOf(p.slideEl)&&(p.imageEl&&(p.imageEl.style.transform="translate3d(0,0,0) scale(1)"),p.imageWrapEl&&(p.imageWrapEl.style.transform="translate3d(0,0,0)"),p.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),se.scale=1,o=1,p.slideEl=void 0,p.imageEl=void 0,p.imageWrapEl=void 0,p.originX=0,p.originY=0)}function Y(se){const ee=e.zoom,Q=e.params.zoom;if(!p.slideEl){se&&se.target&&(p.slideEl=se.target.closest(`.${e.params.slideClass}, swiper-slide`)),p.slideEl||(p.slideEl=e.params.virtual&&e.params.virtual.enabled&&e.virtual?qe(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:e.slides[e.activeIndex]);let Xn=p.slideEl.querySelector(`.${Q.containerClass}`);Xn&&(Xn=Xn.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),p.imageEl=Xn,p.imageWrapEl=Xn?be(p.imageEl,`.${Q.containerClass}`)[0]:void 0}if(!p.imageEl||!p.imageWrapEl)return;let Fe,oe,Pe,we,st,ht,ct,ue,qt,ds,fs,Gn,un,qi,Xr,Zr,qr,Un;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),p.slideEl.classList.add(`${Q.zoomedSlideClass}`),typeof m.touchesStart.x>"u"&&se?(Fe=se.pageX,oe=se.pageY):(Fe=m.touchesStart.x,oe=m.touchesStart.y);const hn="number"==typeof se?se:null;1===o&&hn&&(Fe=void 0,oe=void 0);const Yr=C();ee.scale=hn||Yr,o=hn||Yr,!se||1===o&&hn?(ct=0,ue=0):(qr=p.slideEl.offsetWidth,Un=p.slideEl.offsetHeight,Pe=ta(p.slideEl).left+a.scrollX,we=ta(p.slideEl).top+a.scrollY,st=Pe+qr/2-Fe,ht=we+Un/2-oe,qt=p.imageEl.offsetWidth||p.imageEl.clientWidth,ds=p.imageEl.offsetHeight||p.imageEl.clientHeight,fs=qt*ee.scale,Gn=ds*ee.scale,un=Math.min(qr/2-fs/2,0),qi=Math.min(Un/2-Gn/2,0),Xr=-un,Zr=-qi,ct=st*ee.scale,ue=ht*ee.scale,ct<un&&(ct=un),ct>Xr&&(ct=Xr),ue<qi&&(ue=qi),ue>Zr&&(ue=Zr)),hn&&1===ee.scale&&(p.originX=0,p.originY=0),p.imageWrapEl.style.transitionDuration="300ms",p.imageWrapEl.style.transform=`translate3d(${ct}px, ${ue}px,0)`,p.imageEl.style.transitionDuration="300ms",p.imageEl.style.transform=`translate3d(0,0,0) scale(${ee.scale})`}function J(){const se=e.zoom,ee=e.params.zoom;if(!p.slideEl){p.slideEl=e.params.virtual&&e.params.virtual.enabled&&e.virtual?qe(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:e.slides[e.activeIndex];let Q=p.slideEl.querySelector(`.${ee.containerClass}`);Q&&(Q=Q.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),p.imageEl=Q,p.imageWrapEl=Q?be(p.imageEl,`.${ee.containerClass}`)[0]:void 0}!p.imageEl||!p.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),se.scale=1,o=1,p.imageWrapEl.style.transitionDuration="300ms",p.imageWrapEl.style.transform="translate3d(0,0,0)",p.imageEl.style.transitionDuration="300ms",p.imageEl.style.transform="translate3d(0,0,0) scale(1)",p.slideEl.classList.remove(`${ee.zoomedSlideClass}`),p.slideEl=void 0,p.originX=0,p.originY=0)}function G(se){const ee=e.zoom;ee.scale&&1!==ee.scale?J():Y(se)}function Z(){return{passiveListener:!!e.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!e.params.passiveListeners||{passive:!1,capture:!0}}}function ae(){const se=e.zoom;if(se.enabled)return;se.enabled=!0;const{passiveListener:ee,activeListenerWithCapture:Q}=Z();e.wrapperEl.addEventListener("pointerdown",O,ee),e.wrapperEl.addEventListener("pointermove",M,Q),["pointerup","pointercancel","pointerout"].forEach(Fe=>{e.wrapperEl.addEventListener(Fe,R,ee)}),e.wrapperEl.addEventListener("pointermove",V,Q)}function fe(){const se=e.zoom;if(!se.enabled)return;se.enabled=!1;const{passiveListener:ee,activeListenerWithCapture:Q}=Z();e.wrapperEl.removeEventListener("pointerdown",O,ee),e.wrapperEl.removeEventListener("pointermove",M,Q),["pointerup","pointercancel","pointerout"].forEach(Fe=>{e.wrapperEl.removeEventListener(Fe,R,ee)}),e.wrapperEl.removeEventListener("pointermove",V,Q)}Object.defineProperty(e.zoom,"scale",{get:()=>w,set(se){w!==se&&n("zoomChange",se,p.imageEl,p.slideEl),w=se}}),i("init",()=>{e.params.zoom.enabled&&ae()}),i("destroy",()=>{fe()}),i("touchStart",(se,ee)=>{e.zoom.enabled&&function N(se){if(!p.imageEl||m.isTouched)return;e.device.android&&se.cancelable&&se.preventDefault(),m.isTouched=!0;const Q=d.length>0?d[0]:se;m.touchesStart.x=Q.pageX,m.touchesStart.y=Q.pageY}(ee)}),i("touchEnd",(se,ee)=>{e.zoom.enabled&&function H(){const se=e.zoom;if(!p.imageEl)return;if(!m.isTouched||!m.isMoved)return m.isTouched=!1,void(m.isMoved=!1);m.isTouched=!1,m.isMoved=!1;let ee=300,Q=300;const oe=m.currentX+_.x*ee,we=m.currentY+_.y*Q;0!==_.x&&(ee=Math.abs((oe-m.currentX)/_.x)),0!==_.y&&(Q=Math.abs((we-m.currentY)/_.y));const st=Math.max(ee,Q);m.currentX=oe,m.currentY=we;const ct=m.height*se.scale;m.minX=Math.min(p.slideWidth/2-m.width*se.scale/2,0),m.maxX=-m.minX,m.minY=Math.min(p.slideHeight/2-ct/2,0),m.maxY=-m.minY,m.currentX=Math.max(Math.min(m.currentX,m.maxX),m.minX),m.currentY=Math.max(Math.min(m.currentY,m.maxY),m.minY),p.imageWrapEl.style.transitionDuration=`${st}ms`,p.imageWrapEl.style.transform=`translate3d(${m.currentX}px, ${m.currentY}px,0)`}()}),i("doubleTap",(se,ee)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&G(ee)}),i("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&j()}),i("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&j()}),Object.assign(e.zoom,{enable:ae,disable:fe,in:Y,out:J,toggle:G})},function nr(s){let{swiper:e,extendParams:t,on:i}=s;function n(f,d){const p=function(){let A,C,b;return(P,S)=>{for(C=-1,A=P.length;A-C>1;)b=A+C>>1,P[b]<=S?C=b:A=b;return A}}();let m,_;return this.x=f,this.y=d,this.lastIndex=f.length-1,this.interpolate=function(A){return A?(_=p(this.x,A),m=_-1,(A-this.x[m])*(this.y[_]-this.y[m])/(this.x[_]-this.x[m])+this.y[m]):0},this}function h(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0},i("beforeInit",()=>{typeof window<"u"&&("string"==typeof e.params.controller.control||e.params.controller.control instanceof HTMLElement)?("string"==typeof e.params.controller.control?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(d=>{if(e.controller.control||(e.controller.control=[]),d&&d.swiper)e.controller.control.push(d.swiper);else if(d){const p=`${e.params.eventsPrefix}init`,m=_=>{e.controller.control.push(_.detail[0]),e.update(),d.removeEventListener(p,m)};d.addEventListener(p,m)}}):e.controller.control=e.params.controller.control}),i("update",()=>{h()}),i("resize",()=>{h()}),i("observerUpdate",()=>{h()}),i("setTranslate",(f,d,p)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(d,p)}),i("setTransition",(f,d,p)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(d,p)}),Object.assign(e.controller,{setTranslate:function o(f,d){const p=e.controller.control;let m,_;const w=e.constructor;function A(C){if(C.destroyed)return;const b=e.rtlTranslate?-e.translate:e.translate;"slide"===e.params.controller.by&&(function a(f){e.controller.spline=e.params.loop?new n(e.slidesGrid,f.slidesGrid):new n(e.snapGrid,f.snapGrid)}(C),_=-e.controller.spline.interpolate(-b)),(!_||"container"===e.params.controller.by)&&(m=(C.maxTranslate()-C.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(m)||!Number.isFinite(m))&&(m=1),_=(b-e.minTranslate())*m+C.minTranslate()),e.params.controller.inverse&&(_=C.maxTranslate()-_),C.updateProgress(_),C.setTranslate(_,e),C.updateActiveIndex(),C.updateSlidesClasses()}if(Array.isArray(p))for(let C=0;C<p.length;C+=1)p[C]!==d&&p[C]instanceof w&&A(p[C]);else p instanceof w&&d!==p&&A(p)},setTransition:function l(f,d){const p=e.constructor,m=e.controller.control;let _;function w(A){A.destroyed||(A.setTransition(f,e),0!==f&&(A.transitionStart(),A.params.autoHeight&&Ds(()=>{A.updateAutoHeight()}),it(A.wrapperEl,()=>{m&&A.transitionEnd()})))}if(Array.isArray(m))for(_=0;_<m.length;_+=1)m[_]!==d&&m[_]instanceof p&&w(m[_]);else m instanceof p&&d!==m&&w(m)}})},function xo(s){let{swiper:e,extendParams:t,on:i}=s;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let a,o,n=null,l=(new Date).getTime();function h(G){const Z=n;0!==Z.length&&(Z.innerHTML="",Z.innerHTML=G)}function d(G){(G=Ae(G)).forEach(Z=>{Z.setAttribute("tabIndex","0")})}function p(G){(G=Ae(G)).forEach(Z=>{Z.setAttribute("tabIndex","-1")})}function m(G,Z){(G=Ae(G)).forEach(ae=>{ae.setAttribute("role",Z)})}function _(G,Z){(G=Ae(G)).forEach(ae=>{ae.setAttribute("aria-roledescription",Z)})}function A(G,Z){(G=Ae(G)).forEach(ae=>{ae.setAttribute("aria-label",Z)})}function P(G){(G=Ae(G)).forEach(Z=>{Z.setAttribute("aria-disabled",!0)})}function S(G){(G=Ae(G)).forEach(Z=>{Z.setAttribute("aria-disabled",!1)})}function T(G){if(13!==G.keyCode&&32!==G.keyCode)return;const Z=e.params.a11y,ae=G.target;if(!e.pagination||!e.pagination.el||ae!==e.pagination.el&&!e.pagination.el.contains(G.target)||G.target.matches(pi(e.params.pagination.bulletClass))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const fe=Ae(e.navigation.prevEl);Ae(e.navigation.nextEl).includes(ae)&&(e.isEnd&&!e.params.loop||e.slideNext(),h(e.isEnd?Z.lastSlideMessage:Z.nextSlideMessage)),fe.includes(ae)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),h(e.isBeginning?Z.firstSlideMessage:Z.prevSlideMessage))}e.pagination&&ae.matches(pi(e.params.pagination.bulletClass))&&ae.click()}}function M(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function R(){return M()&&e.params.pagination.clickable}const F=(G,Z,ae)=>{d(G),"BUTTON"!==G.tagName&&(m(G,"button"),G.addEventListener("keydown",T)),A(G,ae),function w(G,Z){(G=Ae(G)).forEach(ae=>{ae.setAttribute("aria-controls",Z)})}(G,Z)},B=G=>{o&&o!==G.target&&!o.contains(G.target)&&(a=!0),e.a11y.clicked=!0},N=()=>{a=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},V=G=>{l=(new Date).getTime()},H=G=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||(new Date).getTime()-l<100)return;const Z=G.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!Z||!e.slides.includes(Z))return;o=Z;const ae=e.slides.indexOf(Z)===e.activeIndex,fe=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(Z);ae||fe||G.sourceCapabilities&&G.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{a||(e.params.loop?e.slideToLoop(parseInt(Z.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf(Z),0),a=!1)}))},j=()=>{const G=e.params.a11y;G.itemRoleDescriptionMessage&&_(e.slides,G.itemRoleDescriptionMessage),G.slideRole&&m(e.slides,G.slideRole);const Z=e.slides.length;G.slideLabelMessage&&e.slides.forEach((ae,fe)=>{const se=e.params.loop?parseInt(ae.getAttribute("data-swiper-slide-index"),10):fe;A(ae,G.slideLabelMessage.replace(/\{\{index\}\}/,se+1).replace(/\{\{slidesLength\}\}/,Z))})};i("beforeInit",()=>{n=_t("span",e.params.a11y.notificationClass),n.setAttribute("aria-live","assertive"),n.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&(()=>{const G=e.params.a11y;e.el.append(n);const Z=e.el;G.containerRoleDescriptionMessage&&_(Z,G.containerRoleDescriptionMessage),G.containerMessage&&A(Z,G.containerMessage);const ae=e.wrapperEl,fe=G.id||ae.getAttribute("id")||`swiper-wrapper-${function f(G){return void 0===G&&(G=16),"x".repeat(G).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,se=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";(function C(G,Z){(G=Ae(G)).forEach(ae=>{ae.setAttribute("id",Z)})})(ae,fe),function b(G,Z){(G=Ae(G)).forEach(ae=>{ae.setAttribute("aria-live",Z)})}(ae,se),j();let{nextEl:ee,prevEl:Q}=e.navigation?e.navigation:{};ee=Ae(ee),Q=Ae(Q),ee&&ee.forEach(oe=>F(oe,fe,G.nextSlideMessage)),Q&&Q.forEach(oe=>F(oe,fe,G.prevSlideMessage)),R()&&Ae(e.pagination.el).forEach(Pe=>{Pe.addEventListener("keydown",T)}),at().addEventListener("visibilitychange",V),e.el.addEventListener("focus",H,!0),e.el.addEventListener("focus",H,!0),e.el.addEventListener("pointerdown",B,!0),e.el.addEventListener("pointerup",N,!0)})()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&j()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&function O(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:G,prevEl:Z}=e.navigation;Z&&(e.isBeginning?(P(Z),p(Z)):(S(Z),d(Z))),G&&(e.isEnd?(P(G),p(G)):(S(G),d(G)))}()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&function I(){const G=e.params.a11y;M()&&e.pagination.bullets.forEach(Z=>{e.params.pagination.clickable&&(d(Z),e.params.pagination.renderBullet||(m(Z,"button"),A(Z,G.paginationBulletMessage.replace(/\{\{index\}\}/,dn(Z)+1)))),Z.matches(pi(e.params.pagination.bulletActiveClass))?Z.setAttribute("aria-current","true"):Z.removeAttribute("aria-current")})}()}),i("destroy",()=>{e.params.a11y.enabled&&function J(){n&&n.remove();let{nextEl:G,prevEl:Z}=e.navigation?e.navigation:{};G=Ae(G),Z=Ae(Z),G&&G.forEach(fe=>fe.removeEventListener("keydown",T)),Z&&Z.forEach(fe=>fe.removeEventListener("keydown",T)),R()&&Ae(e.pagination.el).forEach(se=>{se.removeEventListener("keydown",T)}),at().removeEventListener("visibilitychange",V),e.el&&"string"!=typeof e.el&&(e.el.removeEventListener("focus",H,!0),e.el.removeEventListener("pointerdown",B,!0),e.el.removeEventListener("pointerup",N,!0))}()})},function rr(s){let{swiper:e,extendParams:t,on:i}=s;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let n=!1,a={};const o=_=>_.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),l=_=>{const w=Qe();let A;A=_?new URL(_):w.location;const C=A.pathname.slice(1).split("/").filter(T=>""!==T),b=C.length;return{key:C[b-2],value:C[b-1]}},h=(_,w)=>{const A=Qe();if(!n||!e.params.history.enabled)return;let C;C=e.params.url?new URL(e.params.url):A.location;const b=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${w}"]`):e.slides[w];let P=o(b.getAttribute("data-history"));if(e.params.history.root.length>0){let T=e.params.history.root;"/"===T[T.length-1]&&(T=T.slice(0,T.length-1)),P=`${T}/${_?`${_}/`:""}${P}`}else C.pathname.includes(_)||(P=`${_?`${_}/`:""}${P}`);e.params.history.keepQuery&&(P+=C.search);const S=A.history.state;S&&S.value===P||(e.params.history.replaceState?A.history.replaceState({value:P},null,P):A.history.pushState({value:P},null,P))},f=(_,w,A)=>{if(w)for(let C=0,b=e.slides.length;C<b;C+=1){const P=e.slides[C];if(o(P.getAttribute("data-history"))===w){const T=e.getSlideIndex(P);e.slideTo(T,_,A)}}else e.slideTo(0,_,A)},d=()=>{a=l(e.params.url),f(e.params.speed,a.value,!1)};i("init",()=>{e.params.history.enabled&&(()=>{const _=Qe();if(e.params.history){if(!_.history||!_.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);if(n=!0,a=l(e.params.url),!a.key&&!a.value)return void(e.params.history.replaceState||_.addEventListener("popstate",d));f(0,a.value,e.params.runCallbacksOnInit),e.params.history.replaceState||_.addEventListener("popstate",d)}})()}),i("destroy",()=>{e.params.history.enabled&&(()=>{const _=Qe();e.params.history.replaceState||_.removeEventListener("popstate",d)})()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{n&&h(e.params.history.key,e.activeIndex)}),i("slideChange",()=>{n&&e.params.cssMode&&h(e.params.history.key,e.activeIndex)})},function So(s){let{swiper:e,extendParams:t,emit:i,on:n}=s,a=!1;const o=at(),l=Qe();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(m,_){if(e.virtual&&e.params.virtual.enabled){const w=e.slides.filter(C=>C.getAttribute("data-hash")===_)[0];return w?parseInt(w.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(qe(e.slidesEl,`.${e.params.slideClass}[data-hash="${_}"], swiper-slide[data-hash="${_}"]`)[0])}}});const h=()=>{i("hashChange");const m=o.location.hash.replace("#",""),_=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex];if(m!==(_?_.getAttribute("data-hash"):"")){const A=e.params.hashNavigation.getSlideIndex(e,m);if(typeof A>"u"||Number.isNaN(A))return;e.slideTo(A)}},f=()=>{if(!a||!e.params.hashNavigation.enabled)return;const m=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],_=m?m.getAttribute("data-hash")||m.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&l.history&&l.history.replaceState?(l.history.replaceState(null,null,`#${_}`||""),i("hashSet")):(o.location.hash=_||"",i("hashSet"))};n("init",()=>{e.params.hashNavigation.enabled&&(()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;a=!0;const m=o.location.hash.replace("#","");if(m){const w=e.params.hashNavigation.getSlideIndex(e,m);e.slideTo(w||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&l.addEventListener("hashchange",h)})()}),n("destroy",()=>{e.params.hashNavigation.enabled&&e.params.hashNavigation.watchState&&l.removeEventListener("hashchange",h)}),n("transitionEnd _freeModeNoMomentumRelease",()=>{a&&f()}),n("slideChange",()=>{a&&e.params.cssMode&&f()})},function Po(s){let{swiper:e,extendParams:t,on:i,emit:n,params:a}=s;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,l,d,m,_,w,A,C,b,P,h=a&&a.autoplay?a.autoplay.delay:3e3,f=a&&a.autoplay?a.autoplay.delay:3e3,p=(new Date).getTime();function S(Z){!e||e.destroyed||!e.wrapperEl||Z.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",S),!(P||Z.detail&&Z.detail.bySwiperTouchMove)&&B())}const T=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?m=!0:m&&(f=d,m=!1);const Z=e.autoplay.paused?d:p+f-(new Date).getTime();e.autoplay.timeLeft=Z,n("autoplayTimeLeft",Z,Z/h),l=requestAnimationFrame(()=>{T()})},M=Z=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),T();let ae=typeof Z>"u"?e.params.autoplay.delay:Z;h=e.params.autoplay.delay,f=e.params.autoplay.delay;const fe=(()=>{let Z;return Z=e.virtual&&e.params.virtual.enabled?e.slides.filter(fe=>fe.classList.contains("swiper-slide-active"))[0]:e.slides[e.activeIndex],Z?parseInt(Z.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(fe)&&fe>0&&typeof Z>"u"&&(ae=fe,h=fe,f=fe),d=ae;const se=e.params.speed,ee=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(se,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,se,!0,!0),n("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(se,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,se,!0,!0),n("autoplay")),e.params.cssMode&&(p=(new Date).getTime(),requestAnimationFrame(()=>{M()})))};return ae>0?(clearTimeout(o),o=setTimeout(()=>{ee()},ae)):requestAnimationFrame(()=>{ee()}),ae},R=()=>{p=(new Date).getTime(),e.autoplay.running=!0,M(),n("autoplayStart")},I=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(l),n("autoplayStop")},F=(Z,ae)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),Z||(b=!0);const fe=()=>{n("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",S):B()};if(e.autoplay.paused=!0,ae)return C&&(d=e.params.autoplay.delay),C=!1,void fe();d=(d||e.params.autoplay.delay)-((new Date).getTime()-p),(!(e.isEnd&&d<0)||e.params.loop)&&(d<0&&(d=0),fe())},B=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(p=(new Date).getTime(),b?(b=!1,M(d)):M(),e.autoplay.paused=!1,n("autoplayResume"))},N=()=>{if(e.destroyed||!e.autoplay.running)return;const Z=at();"hidden"===Z.visibilityState&&(b=!0,F(!0)),"visible"===Z.visibilityState&&B()},V=Z=>{"mouse"===Z.pointerType&&(b=!0,P=!0,!e.animating&&!e.autoplay.paused&&F(!0))},H=Z=>{"mouse"===Z.pointerType&&(P=!1,e.autoplay.paused&&B())};i("init",()=>{e.params.autoplay.enabled&&(e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",V),e.el.addEventListener("pointerleave",H)),at().addEventListener("visibilitychange",N),R())}),i("destroy",()=>{e.el&&"string"!=typeof e.el&&(e.el.removeEventListener("pointerenter",V),e.el.removeEventListener("pointerleave",H)),at().removeEventListener("visibilitychange",N),e.autoplay.running&&I()}),i("_freeModeStaticRelease",()=>{(w||b)&&B()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?I():F(!0,!0)}),i("beforeTransitionStart",(Z,ae,fe)=>{e.destroyed||!e.autoplay.running||(fe||!e.params.autoplay.disableOnInteraction?F(!0,!0):I())}),i("sliderFirstMove",()=>{if(!e.destroyed&&e.autoplay.running){if(e.params.autoplay.disableOnInteraction)return void I();_=!0,w=!1,b=!1,A=setTimeout(()=>{b=!0,w=!0,F(!0)},200)}}),i("touchEnd",()=>{if(!e.destroyed&&e.autoplay.running&&_){if(clearTimeout(A),clearTimeout(o),e.params.autoplay.disableOnInteraction)return w=!1,void(_=!1);w&&e.params.cssMode&&B(),w=!1,_=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(C=!0)}),Object.assign(e.autoplay,{start:R,stop:I,pause:F,resume:B})},function ha(s){let{swiper:e,extendParams:t,on:i}=s;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let n=!1,a=!1;function o(){const f=e.thumbs.swiper;if(!f||f.destroyed)return;const d=f.clickedIndex,p=f.clickedSlide;if(p&&p.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof d>"u"||null===d)return;let m;m=f.params.loop?parseInt(f.clickedSlide.getAttribute("data-swiper-slide-index"),10):d,e.params.loop?e.slideToLoop(m):e.slideTo(m)}function l(){const{thumbs:f}=e.params;if(n)return!1;n=!0;const d=e.constructor;if(f.swiper instanceof d)e.thumbs.swiper=f.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(ps(f.swiper)){const p=Object.assign({},f.swiper);Object.assign(p,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new d(p),a=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function h(f){const d=e.thumbs.swiper;if(!d||d.destroyed)return;const p="auto"===d.params.slidesPerView?d.slidesPerViewDynamic():d.params.slidesPerView;let m=1;const _=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(m=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(m=1),m=Math.floor(m),d.slides.forEach(C=>C.classList.remove(_)),d.params.loop||d.params.virtual&&d.params.virtual.enabled)for(let C=0;C<m;C+=1)qe(d.slidesEl,`[data-swiper-slide-index="${e.realIndex+C}"]`).forEach(b=>{b.classList.add(_)});else for(let C=0;C<m;C+=1)d.slides[e.realIndex+C]&&d.slides[e.realIndex+C].classList.add(_);const w=e.params.thumbs.autoScrollOffset,A=w&&!d.params.loop;if(e.realIndex!==d.realIndex||A){const C=d.activeIndex;let b,P;if(d.params.loop){const S=d.slides.filter(T=>T.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];b=d.slides.indexOf(S),P=e.activeIndex>e.previousIndex?"next":"prev"}else b=e.realIndex,P=b>e.previousIndex?"next":"prev";A&&(b+="next"===P?w:-1*w),d.visibleSlidesIndexes&&d.visibleSlidesIndexes.indexOf(b)<0&&(d.params.centeredSlides&&(b=b>C?b-Math.floor(p/2)+1:b+Math.floor(p/2)-1),d.slideTo(b,f?0:void 0))}}e.thumbs={swiper:null},i("beforeInit",()=>{const{thumbs:f}=e.params;if(f&&f.swiper)if("string"==typeof f.swiper||f.swiper instanceof HTMLElement){const d=at(),p=()=>{const _="string"==typeof f.swiper?d.querySelector(f.swiper):f.swiper;if(_&&_.swiper)f.swiper=_.swiper,l(),h(!0);else if(_){const w=`${e.params.eventsPrefix}init`,A=C=>{f.swiper=C.detail[0],_.removeEventListener(w,A),l(),h(!0),f.swiper.update(),e.update()};_.addEventListener(w,A)}return _},m=()=>{e.destroyed||p()||requestAnimationFrame(m)};requestAnimationFrame(m)}else l(),h(!0)}),i("slideChange update resize observerUpdate",()=>{h()}),i("setTransition",(f,d)=>{const p=e.thumbs.swiper;!p||p.destroyed||p.setTransition(d)}),i("beforeDestroy",()=>{const f=e.thumbs.swiper;!f||f.destroyed||a&&f.destroy()}),Object.assign(e.thumbs,{init:l,update:h})},function Mo(s){let{swiper:e,extendParams:t,emit:i,once:n}=s;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchStart:function a(){if(e.params.cssMode)return;const h=e.getTranslate();e.setTranslate(h),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})},onTouchMove:function o(){if(e.params.cssMode)return;const{touchEventsData:h,touches:f}=e;0===h.velocities.length&&h.velocities.push({position:f[e.isHorizontal()?"startX":"startY"],time:h.touchStartTime}),h.velocities.push({position:f[e.isHorizontal()?"currentX":"currentY"],time:si()})},onTouchEnd:function l(h){let{currentPos:f}=h;if(e.params.cssMode)return;const{params:d,wrapperEl:p,rtlTranslate:m,snapGrid:_,touchEventsData:w}=e,C=si()-w.touchStartTime;if(f<-e.minTranslate())e.slideTo(e.activeIndex);else if(f>-e.maxTranslate())e.slideTo(e.slides.length<_.length?_.length-1:e.slides.length-1);else{if(d.freeMode.momentum){if(w.velocities.length>1){const I=w.velocities.pop(),F=w.velocities.pop(),N=I.time-F.time;e.velocity=(I.position-F.position)/N,e.velocity/=2,Math.abs(e.velocity)<d.freeMode.minimumVelocity&&(e.velocity=0),(N>150||si()-I.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=d.freeMode.momentumVelocityRatio,w.velocities.length=0;let b=1e3*d.freeMode.momentumRatio,S=e.translate+e.velocity*b;m&&(S=-S);let O,T=!1;const M=20*Math.abs(e.velocity)*d.freeMode.momentumBounceRatio;let R;if(S<e.maxTranslate())d.freeMode.momentumBounce?(S+e.maxTranslate()<-M&&(S=e.maxTranslate()-M),O=e.maxTranslate(),T=!0,w.allowMomentumBounce=!0):S=e.maxTranslate(),d.loop&&d.centeredSlides&&(R=!0);else if(S>e.minTranslate())d.freeMode.momentumBounce?(S-e.minTranslate()>M&&(S=e.minTranslate()+M),O=e.minTranslate(),T=!0,w.allowMomentumBounce=!0):S=e.minTranslate(),d.loop&&d.centeredSlides&&(R=!0);else if(d.freeMode.sticky){let I;for(let F=0;F<_.length;F+=1)if(_[F]>-S){I=F;break}S=Math.abs(_[I]-S)<Math.abs(_[I-1]-S)||"next"===e.swipeDirection?_[I]:_[I-1],S=-S}if(R&&n("transitionEnd",()=>{e.loopFix()}),0!==e.velocity){if(b=m?Math.abs((-S-e.translate)/e.velocity):Math.abs((S-e.translate)/e.velocity),d.freeMode.sticky){const I=Math.abs((m?-S:S)-e.translate),F=e.slidesSizesGrid[e.activeIndex];b=I<F?d.speed:I<2*F?1.5*d.speed:2.5*d.speed}}else if(d.freeMode.sticky)return void e.slideToClosest();d.freeMode.momentumBounce&&T?(e.updateProgress(O),e.setTransition(b),e.setTranslate(S),e.transitionStart(!0,e.swipeDirection),e.animating=!0,it(p,()=>{!e||e.destroyed||!w.allowMomentumBounce||(i("momentumBounce"),e.setTransition(d.speed),setTimeout(()=>{e.setTranslate(O),it(p,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(S),e.setTransition(b),e.setTranslate(S),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,it(p,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(S),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(d.freeMode.sticky)return void e.slideToClosest();d.freeMode&&i("_freeModeNoMomentumRelease")}(!d.freeMode.momentum||C>=d.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}}}})},function ko(s){let n,a,o,l,{swiper:e,extendParams:t,on:i}=s;t({grid:{rows:1,fill:"column"}});const h=()=>{let A=e.params.spaceBetween;return"string"==typeof A&&A.indexOf("%")>=0?A=parseFloat(A.replace("%",""))/100*e.size:"string"==typeof A&&(A=parseFloat(A)),A};i("init",()=>{l=e.params.grid&&e.params.grid.rows>1}),i("update",()=>{const{params:A,el:C}=e,b=A.grid&&A.grid.rows>1;l&&!b?(C.classList.remove(`${A.containerModifierClass}grid`,`${A.containerModifierClass}grid-column`),o=1,e.emitContainerClasses()):!l&&b&&(C.classList.add(`${A.containerModifierClass}grid`),"column"===A.grid.fill&&C.classList.add(`${A.containerModifierClass}grid-column`),e.emitContainerClasses()),l=b}),e.grid={initSlides:A=>{const{slidesPerView:C}=e.params,{rows:b,fill:P}=e.params.grid,S=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:A.length;o=Math.floor(S/b),n=Math.floor(S/b)===S/b?S:Math.ceil(S/b)*b,"auto"!==C&&"row"===P&&(n=Math.max(n,C*b)),a=n/b},unsetSlides:()=>{e.slides&&e.slides.forEach(A=>{A.swiperSlideGridSet&&(A.style.height="",A.style[e.getDirectionLabel("margin-top")]="")})},updateSlide:(A,C,b)=>{const{slidesPerGroup:P}=e.params,S=h(),{rows:T,fill:O}=e.params.grid,M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:b.length;let R,I,F;if("row"===O&&P>1){const B=Math.floor(A/(P*T)),N=A-T*P*B,V=0===B?P:Math.min(Math.ceil((M-B*T*P)/T),P);F=Math.floor(N/V),I=N-F*V+B*P,R=I+F*n/T,C.style.order=R}else"column"===O?(I=Math.floor(A/T),F=A-I*T,(I>o||I===o&&F===T-1)&&(F+=1,F>=T&&(F=0,I+=1))):(F=Math.floor(A/a),I=A-F*a);C.row=F,C.column=I,C.style.height=`calc((100% - ${(T-1)*S}px) / ${T})`,C.style[e.getDirectionLabel("margin-top")]=0!==F?S&&`${S}px`:"",C.swiperSlideGridSet=!0},updateWrapperSize:(A,C)=>{const{centeredSlides:b,roundLengths:P}=e.params,S=h(),{rows:T}=e.params.grid;if(e.virtualSize=(A+S)*n,e.virtualSize=Math.ceil(e.virtualSize/T)-S,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+S}px`),b){const O=[];for(let M=0;M<C.length;M+=1){let R=C[M];P&&(R=Math.floor(R)),C[M]<e.virtualSize+C[0]&&O.push(R)}C.splice(0,C.length),C.push(...O)}}}},function Wi(s){let{swiper:e}=s;Object.assign(e,{appendSlide:ca.bind(e),prependSlide:qu.bind(e),addSlide:To.bind(e),removeSlide:Wd.bind(e),removeAllSlides:Le.bind(e)})},function Do(s){let{swiper:e,extendParams:t,on:i}=s;t({fadeEffect:{crossFade:!1}}),Ge({effect:"fade",swiper:e,on:i,setTranslate:()=>{const{slides:o}=e;for(let h=0;h<o.length;h+=1){const f=e.slides[h];let p=-f.swiperSlideOffset;e.params.virtualTranslate||(p-=e.translate);let m=0;e.isHorizontal()||(m=p,p=0);const _=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(f.progress),0):1+Math.min(Math.max(f.progress,-1),0),w=vn(0,f);w.style.opacity=_,w.style.transform=`translate3d(${p}px, ${m}px, 0px)`}},setTransition:o=>{const l=e.slides.map(h=>gs(h));l.forEach(h=>{h.style.transitionDuration=`${o}ms`}),_n({swiper:e,duration:o,transformElements:l,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function Fo(s){let{swiper:e,extendParams:t,on:i}=s;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const n=(h,f,d)=>{let p=h.querySelector(d?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),m=h.querySelector(d?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");p||(p=_t("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(d?"left":"top")).split(" ")),h.append(p)),m||(m=_t("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(d?"right":"bottom")).split(" ")),h.append(m)),p&&(p.style.opacity=Math.max(-f,0)),m&&(m.style.opacity=Math.max(f,0))};Ge({effect:"cube",swiper:e,on:i,setTranslate:()=>{const{el:h,wrapperEl:f,slides:d,width:p,height:m,rtlTranslate:_,size:w,browser:A}=e,C=dt(e),b=e.params.cubeEffect,P=e.isHorizontal(),S=e.virtual&&e.params.virtual.enabled;let O,T=0;b.shadow&&(P?(O=e.wrapperEl.querySelector(".swiper-cube-shadow"),O||(O=_t("div","swiper-cube-shadow"),e.wrapperEl.append(O)),O.style.height=`${p}px`):(O=h.querySelector(".swiper-cube-shadow"),O||(O=_t("div","swiper-cube-shadow"),h.append(O))));for(let R=0;R<d.length;R+=1){const I=d[R];let F=R;S&&(F=parseInt(I.getAttribute("data-swiper-slide-index"),10));let B=90*F,N=Math.floor(B/360);_&&(B=-B,N=Math.floor(-B/360));const V=Math.max(Math.min(I.progress,1),-1);let H=0,j=0,Y=0;F%4==0?(H=4*-N*w,Y=0):(F-1)%4==0?(H=0,Y=4*-N*w):(F-2)%4==0?(H=w+4*N*w,Y=w):(F-3)%4==0&&(H=-w,Y=3*w+4*w*N),_&&(H=-H),P||(j=H,H=0);const J=`rotateX(${C(P?0:-B)}deg) rotateY(${C(P?B:0)}deg) translate3d(${H}px, ${j}px, ${Y}px)`;V<=1&&V>-1&&(T=90*F+90*V,_&&(T=90*-F-90*V)),I.style.transform=J,b.slideShadows&&n(I,V,P)}if(f.style.transformOrigin=`50% 50% -${w/2}px`,f.style["-webkit-transform-origin"]=`50% 50% -${w/2}px`,b.shadow)if(P)O.style.transform=`translate3d(0px, ${p/2+b.shadowOffset}px, ${-p/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${b.shadowScale})`;else{const R=Math.abs(T)-90*Math.floor(Math.abs(T)/90),I=1.5-(Math.sin(2*R*Math.PI/360)/2+Math.cos(2*R*Math.PI/360)/2),B=b.shadowScale/I;O.style.transform=`scale3d(${b.shadowScale}, 1, ${B}) translate3d(0px, ${m/2+b.shadowOffset}px, ${-m/2/B}px) rotateX(-89.99deg)`}const M=(A.isSafari||A.isWebView)&&A.needPerspectiveFix?-w/2:0;f.style.transform=`translate3d(0px,0,${M}px) rotateX(${C(e.isHorizontal()?0:T)}deg) rotateY(${C(e.isHorizontal()?-T:0)}deg)`,f.style.setProperty("--swiper-cube-translate-z",`${M}px`)},setTransition:h=>{const{el:f,slides:d}=e;if(d.forEach(p=>{p.style.transitionDuration=`${h}ms`,p.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(m=>{m.style.transitionDuration=`${h}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const p=f.querySelector(".swiper-cube-shadow");p&&(p.style.transitionDuration=`${h}ms`)}},recreateShadows:()=>{const h=e.isHorizontal();e.slides.forEach(f=>{const d=Math.max(Math.min(f.progress,1),-1);n(f,d,h)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function Lo(s){let{swiper:e,extendParams:t,on:i}=s;t({flipEffect:{slideShadows:!0,limitRotation:!0}});const n=(h,f)=>{let d=e.isHorizontal()?h.querySelector(".swiper-slide-shadow-left"):h.querySelector(".swiper-slide-shadow-top"),p=e.isHorizontal()?h.querySelector(".swiper-slide-shadow-right"):h.querySelector(".swiper-slide-shadow-bottom");d||(d=gi("flip",h,e.isHorizontal()?"left":"top")),p||(p=gi("flip",h,e.isHorizontal()?"right":"bottom")),d&&(d.style.opacity=Math.max(-f,0)),p&&(p.style.opacity=Math.max(f,0))};Ge({effect:"flip",swiper:e,on:i,setTranslate:()=>{const{slides:h,rtlTranslate:f}=e,d=e.params.flipEffect,p=dt(e);for(let m=0;m<h.length;m+=1){const _=h[m];let w=_.progress;e.params.flipEffect.limitRotation&&(w=Math.max(Math.min(_.progress,1),-1));const A=_.swiperSlideOffset;let b=-180*w,P=0,S=e.params.cssMode?-A-e.translate:-A,T=0;e.isHorizontal()?f&&(b=-b):(T=S,S=0,P=-b,b=0),_.style.zIndex=-Math.abs(Math.round(w))+h.length,d.slideShadows&&n(_,w);const O=`translate3d(${S}px, ${T}px, 0px) rotateX(${p(P)}deg) rotateY(${p(b)}deg)`;vn(0,_).style.transform=O}},setTransition:h=>{const f=e.slides.map(d=>gs(d));f.forEach(d=>{d.style.transitionDuration=`${h}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>{p.style.transitionDuration=`${h}ms`})}),_n({swiper:e,duration:h,transformElements:f})},recreateShadows:()=>{e.slides.forEach(h=>{let f=h.progress;e.params.flipEffect.limitRotation&&(f=Math.max(Math.min(h.progress,1),-1)),n(h,f)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function ar(s){let{swiper:e,extendParams:t,on:i}=s;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),Ge({effect:"coverflow",swiper:e,on:i,setTranslate:()=>{const{width:o,height:l,slides:h,slidesSizesGrid:f}=e,d=e.params.coverflowEffect,p=e.isHorizontal(),m=e.translate,_=p?o/2-m:l/2-m,w=p?d.rotate:-d.rotate,A=d.depth,C=dt(e);for(let b=0,P=h.length;b<P;b+=1){const S=h[b],T=f[b],M=(_-S.swiperSlideOffset-T/2)/T,R="function"==typeof d.modifier?d.modifier(M):M*d.modifier;let I=p?w*R:0,F=p?0:w*R,B=-A*Math.abs(R),N=d.stretch;"string"==typeof N&&-1!==N.indexOf("%")&&(N=parseFloat(d.stretch)/100*T);let V=p?0:N*R,H=p?N*R:0,j=1-(1-d.scale)*Math.abs(R);Math.abs(H)<.001&&(H=0),Math.abs(V)<.001&&(V=0),Math.abs(B)<.001&&(B=0),Math.abs(I)<.001&&(I=0),Math.abs(F)<.001&&(F=0),Math.abs(j)<.001&&(j=0);const Y=`translate3d(${H}px,${V}px,${B}px)  rotateX(${C(F)}deg) rotateY(${C(I)}deg) scale(${j})`;if(vn(0,S).style.transform=Y,S.style.zIndex=1-Math.abs(Math.round(R)),d.slideShadows){let G=S.querySelector(p?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),Z=S.querySelector(p?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");G||(G=gi("coverflow",S,p?"left":"top")),Z||(Z=gi("coverflow",S,p?"right":"bottom")),G&&(G.style.opacity=R>0?R:0),Z&&(Z.style.opacity=-R>0?-R:0)}}},setTransition:o=>{e.slides.map(h=>gs(h)).forEach(h=>{h.style.transitionDuration=`${o}ms`,h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${o}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function Ot(s){let{swiper:e,extendParams:t,on:i}=s;t({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const n=l=>"string"==typeof l?l:`${l}px`;Ge({effect:"creative",swiper:e,on:i,setTranslate:()=>{const{slides:l,wrapperEl:h,slidesSizesGrid:f}=e,d=e.params.creativeEffect,{progressMultiplier:p}=d,m=e.params.centeredSlides,_=dt(e);m&&(h.style.transform=`translateX(calc(50% - ${f[0]/2-e.params.slidesOffsetBefore||0}px))`);for(let w=0;w<l.length;w+=1){const A=l[w],C=A.progress,b=Math.min(Math.max(A.progress,-d.limitProgress),d.limitProgress);let P=b;m||(P=Math.min(Math.max(A.originalProgress,-d.limitProgress),d.limitProgress));const S=A.swiperSlideOffset,T=[e.params.cssMode?-S-e.translate:-S,0,0],O=[0,0,0];let M=!1;e.isHorizontal()||(T[1]=T[0],T[0]=0);let R={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};b<0?(R=d.next,M=!0):b>0&&(R=d.prev,M=!0),T.forEach((j,Y)=>{T[Y]=`calc(${j}px + (${n(R.translate[Y])} * ${Math.abs(b*p)}))`}),O.forEach((j,Y)=>{let J=R.rotate[Y]*Math.abs(b*p);O[Y]=J}),A.style.zIndex=-Math.abs(Math.round(C))+l.length;const I=T.join(", "),F=`rotateX(${_(O[0])}deg) rotateY(${_(O[1])}deg) rotateZ(${_(O[2])}deg)`,N=P<0?1+(1-R.opacity)*P*p:1-(1-R.opacity)*P*p,V=`translate3d(${I}) ${F} ${P<0?`scale(${1+(1-R.scale)*P*p})`:`scale(${1-(1-R.scale)*P*p})`}`;if(M&&R.shadow||!M){let j=A.querySelector(".swiper-slide-shadow");!j&&R.shadow&&(j=gi("creative",A)),j&&(j.style.opacity=Math.min(Math.max(Math.abs(d.shadowPerProgress?b*(1/d.limitProgress):b),0),1))}const H=vn(0,A);H.style.transform=V,H.style.opacity=N,R.origin&&(H.style.transformOrigin=R.origin)}},setTransition:l=>{const h=e.slides.map(f=>gs(f));h.forEach(f=>{f.style.transitionDuration=`${l}ms`,f.querySelectorAll(".swiper-slide-shadow").forEach(d=>{d.style.transitionDuration=`${l}ms`})}),_n({swiper:e,duration:l,transformElements:h,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})},function Is(s){let{swiper:e,extendParams:t,on:i}=s;t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),Ge({effect:"cards",swiper:e,on:i,setTranslate:()=>{const{slides:o,activeIndex:l,rtlTranslate:h}=e,f=e.params.cardsEffect,{startTranslate:d,isTouched:p}=e.touchEventsData,m=h?-e.translate:e.translate;for(let _=0;_<o.length;_+=1){const w=o[_],A=w.progress,C=Math.min(Math.max(A,-4),4);let b=w.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(b-=o[0].swiperSlideOffset);let P=e.params.cssMode?-b-e.translate:-b,S=0;const T=-100*Math.abs(C);let O=1,M=-f.perSlideRotate*C,R=f.perSlideOffset-.75*Math.abs(C);const I=e.virtual&&e.params.virtual.enabled?e.virtual.from+_:_;if((I===l||I===l-1)&&C>0&&C<1&&(p||e.params.cssMode)&&m<d||(I===l||I===l+1)&&C<0&&C>-1&&(p||e.params.cssMode)&&m>d){const j=(1-Math.abs((Math.abs(C)-.5)/.5))**.5;M+=-28*C*j,O+=-.5*j,R+=96*j,S=-25*j*Math.abs(C)+"%"}if(P=C<0?`calc(${P}px ${h?"-":"+"} (${R*Math.abs(C)}%))`:C>0?`calc(${P}px ${h?"-":"+"} (-${R*Math.abs(C)}%))`:`${P}px`,!e.isHorizontal()){const j=S;S=P,P=j}const V=`\n        translate3d(${P}, ${S}, ${T}px)\n        rotateZ(${f.rotate?h?-M:M:0}deg)\n        scale(${C<0?""+(1+(1-O)*C):""+(1-(1-O)*C)})\n      `;if(f.slideShadows){let j=w.querySelector(".swiper-slide-shadow");j||(j=gi("cards",w)),j&&(j.style.opacity=Math.min(Math.max((Math.abs(C)-.5)/.5,0),1))}w.style.zIndex=-Math.abs(Math.round(A))+o.length,vn(0,w).style.transform=V}},setTransition:o=>{const l=e.slides.map(h=>gs(h));l.forEach(h=>{h.style.transitionDuration=`${o}ms`,h.querySelectorAll(".swiper-slide-shadow").forEach(f=>{f.style.transitionDuration=`${o}ms`})}),_n({swiper:e,duration:o,transformElements:l})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}]);const or=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function wn(s){return"object"==typeof s&&null!==s&&s.constructor&&"Object"===Object.prototype.toString.call(s).slice(8,-1)&&!s.__swiper__}function da(s,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof s[i]>"u"?s[i]=e[i]:wn(e[i])&&wn(s[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?s[i]=e[i]:da(s[i],e[i]):s[i]=e[i]})}function fa(s){return void 0===s&&(s=""),s.replace(/-[a-z]/g,e=>e.toUpperCase().replace("-",""))}const Bo=s=>{if(parseFloat(s)===Number(s))return Number(s);if("true"===s||""===s)return!0;if("false"===s)return!1;if("null"===s)return null;if("undefined"!==s){if("string"==typeof s&&s.includes("{")&&s.includes("}")&&s.includes('"')){let e;try{e=JSON.parse(s)}catch{e=s}return e}return s}},Qu=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function pa(s,e,t){const i={},n={};da(i,gn);const a=[...or,"on"],o=a.map(h=>h.replace(/_/,""));a.forEach(h=>{h=h.replace("_",""),typeof s[h]<"u"&&(n[h]=s[h])});const l=[...s.attributes];return"string"==typeof e&&typeof t<"u"&&l.push({name:e,value:wn(t)?{...t}:t}),l.forEach(h=>{const f=Qu.filter(d=>0===h.name.indexOf(`${d}-`))[0];if(f){const d=fa(f),p=fa(h.name.split(`${f}-`)[1]);typeof n[d]>"u"&&(n[d]={}),!0===n[d]&&(n[d]={enabled:!0}),n[d][p]=Bo(h.value)}else{const d=fa(h.name);if(!o.includes(d))return;const p=Bo(h.value);n[d]&&Qu.includes(h.name)&&!wn(p)?(n[d].constructor!==Object&&(n[d]={}),n[d].enabled=!!p):n[d]=p}}),da(i,n),i.navigation?i.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next",...!0!==i.navigation?i.navigation:{}}:!1===i.navigation&&delete i.navigation,i.scrollbar?i.scrollbar={el:".swiper-scrollbar",...!0!==i.scrollbar?i.scrollbar:{}}:!1===i.scrollbar&&delete i.scrollbar,i.pagination?i.pagination={el:".swiper-pagination",...!0!==i.pagination?i.pagination:{}}:!1===i.pagination&&delete i.pagination,{params:i,passedParams:n}}const Vd=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",eh=typeof window>"u"||typeof HTMLElement>"u"?class $d{}:HTMLElement,ga='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',th=(s,e)=>{if(typeof CSSStyleSheet<"u"&&s.adoptedStyleSheets){const t=new CSSStyleSheet;t.replaceSync(e),s.adoptedStyleSheets=[t]}else{const t=document.createElement("style");t.rel="stylesheet",t.textContent=e,s.appendChild(t)}};class Ti extends eh{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return ga}static get prevButtonSvg(){return ga.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[Vd,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const e=this.slideSlots||0,t=[...this.querySelectorAll("[slot^=slide-]")].map(i=>parseInt(i.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=t.length?Math.max(...t)+1:0,this.rendered)if(this.slideSlots>e)for(let i=e;i<this.slideSlots;i+=1){const n=document.createElement("swiper-slide");n.setAttribute("part",`slide slide-${i+1}`);const a=document.createElement("slot");a.setAttribute("name",`slide-${i+1}`),n.appendChild(a),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(n)}else if(this.slideSlots<e){const i=this.swiper.slides;for(let n=i.length-1;n>=0;n-=1)n>this.slideSlots&&i[n].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),e.length&&th(this.shadowRoot,e),this.cssLinks().forEach(i=>{if(this.shadowRoot.querySelector(`link[href="${i}"]`))return;const a=document.createElement("link");a.rel="stylesheet",a.href=i,this.shadowRoot.appendChild(a)});const t=document.createElement("div");t.classList.add("swiper"),t.part="container",t.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((i,n)=>`\n        <swiper-slide part="slide slide-${n}">\n          <slot name="slide-${n}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${function Io(s){return void 0===s&&(s={}),s.navigation&&typeof s.navigation.nextEl>"u"&&typeof s.navigation.prevEl>"u"}(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${function Hd(s){return void 0===s&&(s={}),s.pagination&&typeof s.pagination.el>"u"}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${function Ku(s){return void 0===s&&(s={}),s.scrollbar&&typeof s.scrollbar.el>"u"}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(t),this.rendered=!0}initialize(){var e=this;if(this.initialized)return;this.initialized=!0;const{params:t,passedParams:i}=pa(this);this.swiperParams=t,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new me(this.shadowRoot.querySelector(".swiper"),{...t.virtual?{}:{observer:!0},...t,touchEventsTarget:"container",onAny:function(n){"observerUpdate"===n&&e.calcSlideSlots();const a=t.eventsPrefix?`${t.eventsPrefix}${n.toLowerCase()}`:n.toLowerCase();for(var o=arguments.length,l=new Array(o>1?o-1:0),h=1;h<o;h++)l[h-1]=arguments[h];const f=new CustomEvent(a,{detail:l,bubbles:"hashChange"!==n,cancelable:!0});e.dispatchEvent(f)}})}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(e,t){const{params:i,passedParams:n}=pa(this,e,t);this.passedParams=n,this.swiperParams=i,(!this.swiper||this.swiper.params[e]!==t)&&function lr(s){let{swiper:e,slides:t,passedParams:i,changedParams:n,nextEl:a,prevEl:o,scrollbarEl:l,paginationEl:h}=s;const f=n.filter(F=>"children"!==F&&"direction"!==F&&"wrapperClass"!==F),{params:d,pagination:p,navigation:m,scrollbar:_,virtual:w,thumbs:A}=e;let C,b,P,S,T,O,M,R;n.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(C=!0),n.includes("controller")&&i.controller&&i.controller.control&&d.controller&&!d.controller.control&&(b=!0),n.includes("pagination")&&i.pagination&&(i.pagination.el||h)&&(d.pagination||!1===d.pagination)&&p&&!p.el&&(P=!0),n.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||l)&&(d.scrollbar||!1===d.scrollbar)&&_&&!_.el&&(S=!0),n.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||a)&&(d.navigation||!1===d.navigation)&&m&&!m.prevEl&&!m.nextEl&&(T=!0);const I=F=>{e[F]&&(e[F].destroy(),"navigation"===F?(e.isElement&&(e[F].prevEl.remove(),e[F].nextEl.remove()),d[F].prevEl=void 0,d[F].nextEl=void 0,e[F].prevEl=void 0,e[F].nextEl=void 0):(e.isElement&&e[F].el.remove(),d[F].el=void 0,e[F].el=void 0))};n.includes("loop")&&e.isElement&&(d.loop&&!i.loop?O=!0:!d.loop&&i.loop?M=!0:R=!0),f.forEach(F=>{if(wn(d[F])&&wn(i[F]))Object.assign(d[F],i[F]),("navigation"===F||"pagination"===F||"scrollbar"===F)&&"enabled"in i[F]&&!i[F].enabled&&I(F);else{const B=i[F];!0!==B&&!1!==B||"navigation"!==F&&"pagination"!==F&&"scrollbar"!==F?d[F]=i[F]:!1===B&&I(F)}}),f.includes("controller")&&!b&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),n.includes("children")&&t&&w&&d.virtual.enabled?(w.slides=t,w.update(!0)):n.includes("virtual")&&w&&d.virtual.enabled&&(t&&(w.slides=t),w.update(!0)),n.includes("children")&&t&&d.loop&&(R=!0),C&&A.init()&&A.update(!0),b&&(e.controller.control=d.controller.control),P&&(e.isElement&&(!h||"string"==typeof h)&&(h=document.createElement("div"),h.classList.add("swiper-pagination"),h.part.add("pagination"),e.el.appendChild(h)),h&&(d.pagination.el=h),p.init(),p.render(),p.update()),S&&(e.isElement&&(!l||"string"==typeof l)&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(d.scrollbar.el=l),_.init(),_.updateSize(),_.setTranslate()),T&&(e.isElement&&((!a||"string"==typeof a)&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),a.innerHTML=e.hostEl.constructor.nextButtonSvg,a.part.add("button-next"),e.el.appendChild(a)),(!o||"string"==typeof o)&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),a&&(d.navigation.nextEl=a),o&&(d.navigation.prevEl=o),m.init(),m.update()),n.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),n.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),n.includes("direction")&&e.changeDirection(i.direction,!1),(O||R)&&e.loopDestroy(),(M||R)&&e.loopCreate(),e.update()}({swiper:this.swiper,passedParams:this.passedParams,changedParams:[fa(e)],..."navigation"===e&&n[e]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},..."pagination"===e&&n[e]?{paginationEl:".swiper-pagination"}:{},..."scrollbar"===e&&n[e]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(e,t,i){this.initialized&&("true"===t&&null===i&&(i=!1),this.updateSwiperOnPropChange(e,i))}static get observedAttributes(){return or.filter(t=>t.includes("_")).map(t=>t.replace(/[A-Z]/g,i=>`-${i}`).replace("_","").toLowerCase())}}or.forEach(s=>{"init"!==s&&(s=s.replace("_",""),Object.defineProperty(Ti.prototype,s,{configurable:!0,get(){return(this.passedParams||{})[s]},set(e){this.passedParams||(this.passedParams={}),this.passedParams[s]=e,this.initialized&&this.updateSwiperOnPropChange(s,e)}}))});typeof window<"u"&&(window.SwiperElementRegisterParams=s=>{or.push(...s)});var $=ne(3953),sh=ne(6532),nh=ne(345);const ur=new $.nKC("ngx-mask config"),rh=new $.nKC("new ngx-mask config"),Ro=new $.nKC("initial ngx-mask config"),ah={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:s=>s,outputTransformFn:s=>s,maskFilled:new $.bkB,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}};let Oo=(()=>{class s{constructor(){this._config=(0,$.WQX)(ur),this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.hiddenInput=this._config.hiddenInput,this.clearIfNotMatch=this._config.clearIfNotMatch,this.specialCharacters=this._config.specialCharacters,this.patterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime,this.leadZero=this._config.leadZero,this.apm=this._config.apm,this.inputTransformFn=this._config.inputTransformFn,this.outputTransformFn=this._config.outputTransformFn,this.keepCharacterPositions=this._config.keepCharacterPositions,this._shift=new Set,this.maskExpression="",this.actualValue="",this.showKeepCharacterExp="",this.shownMaskExpression="",this.deletedSpecialCharacter=!1,this._formatWithSeparators=(t,i,n,a)=>{var o;let l=[],h="";if(Array.isArray(n)){var f,d;const A=new RegExp(n.map(C=>"[\\^$.|?*+()".indexOf(C)>=0?`\\${C}`:C).join("|"));l=t.split(A),h=null!==(f=null===(d=t.match(A))||void 0===d?void 0:d[0])&&void 0!==f?f:""}else l=t.split(n),h=n;const p=l.length>1?`${h}${l[1]}`:"";let m=null!==(o=l[0])&&void 0!==o?o:"";const _=this.separatorLimit.replace(/\s/g,"");_&&+_&&(m="-"===m[0]?`-${m.slice(1,m.length).slice(0,_.length)}`:m.slice(0,_.length));const w=/(\d+)(\d{3})/;for(;i&&w.test(m);)m=m.replace(w,"$1"+i+"$2");return void 0===a?m+p:0===a?m:m+p.substring(0,a+1)},this.percentage=t=>{const i=t.replace(",","."),n=Number(i);return!isNaN(n)&&n>=0&&n<=100},this.getPrecision=t=>{const i=t.split(".");return i.length>1?Number(i[i.length-1]):1/0},this.checkAndRemoveSuffix=t=>{for(let l=(null===(i=this.suffix)||void 0===i?void 0:i.length)-1;l>=0;l--){var i,n,a,o;const h=this.suffix.substring(l,null===(n=this.suffix)||void 0===n?void 0:n.length);if(t.includes(h)&&l!==(null===(a=this.suffix)||void 0===a?void 0:a.length)-1&&(l-1<0||!t.includes(this.suffix.substring(l-1,null===(o=this.suffix)||void 0===o?void 0:o.length))))return t.replace(h,"")}return t},this.checkInputPrecision=(t,i,n)=>{if(i<1/0){var a,o;if(Array.isArray(n)){const d=n.find(p=>p!==this.thousandSeparator);n=d||n[0]}const l=new RegExp(this._charToRegExpExpression(n)+`\\d{${i}}.*$`),h=t.match(l),f=null!==(a=h&&(null===(o=h[0])||void 0===o?void 0:o.length))&&void 0!==a?a:0;f-1>i&&(t=t.substring(0,t.length-(f-1-i))),0===i&&this._compareOrIncludes(t[t.length-1],n,this.thousandSeparator)&&(t=t.substring(0,t.length-1))}return t}}applyMaskWithPattern(t,i){const[n,a]=i;return this.customPattern=a,this.applyMask(t,n)}applyMask(t,i,n=0,a=!1,o=!1,l=(()=>{})){var h,f;if(!i||"string"!=typeof t)return"";let d=0,p="",m=!1,_=!1,w=1,A=!1;t.slice(0,this.prefix.length)===this.prefix&&!this.showMaskTyped&&(t=t.slice(this.prefix.length,t.length)),this.suffix&&(null===(h=t)||void 0===h?void 0:h.length)>0&&(t=this.checkAndRemoveSuffix(t)),"("===t&&this.prefix&&(t="");const C=t.toString().split("");if(this.allowNegativeNumbers&&"-"===t.slice(d,d+1)&&(p+=t.slice(d,d+1)),"IP"===i){const ee=t.split(".");this.ipError=this._validIP(ee),i="099.099.099.099"}const b=[];for(let ee=0;ee<t.length;ee++){var P,S;null!==(P=t[ee])&&void 0!==P&&P.match("\\d")&&b.push(null!==(S=t[ee])&&void 0!==S?S:"")}if("CPF_CNPJ"===i&&(this.cpfCnpjError=11!==b.length&&14!==b.length,i=b.length>11?"00.000.000/0000-00":"000.000.000-00"),i.startsWith("percent")){if(t.match("[a-z]|[A-Z]")||t.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!o){t=this._stripToDecimal(t);const Fe=this.getPrecision(i);t=this.checkInputPrecision(t,Fe,this.decimalMarker)}const ee="string"==typeof this.decimalMarker?this.decimalMarker:".";if(t.indexOf(ee)>0&&!this.percentage(t.substring(0,t.indexOf(ee)))){let Fe=t.substring(0,t.indexOf(ee)-1);this.allowNegativeNumbers&&"-"===t.slice(d,d+1)&&!o&&(Fe=t.substring(0,t.indexOf(ee))),t=`${Fe}${t.substring(t.indexOf(ee),t.length)}`}let Q="";Q=this.allowNegativeNumbers&&"-"===t.slice(d,d+1)?t.slice(d+1,d+t.length):t,p=this.percentage(Q)?this._splitPercentZero(t):this._splitPercentZero(t.substring(0,t.length-1))}else if(i.startsWith("separator")){(t.match("[w\u0430-\u044f\u0410-\u042f]")||t.match("[\u0401\u0451\u0410-\u044f]")||t.match("[a-z]|[A-Z]")||t.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\]:";<>.?/]/)||t.match("[^A-Za-z0-9,]"))&&(t=this._stripToDecimal(t)),t="-"===t[0]&&this.allowNegativeNumbers?t.length>2&&"0"===t[1]&&t[2]!==this.thousandSeparator&&!this._compareOrIncludes(t[2],this.decimalMarker,this.thousandSeparator)&&!o?t.slice(0,t.length-1):t:t.length>1&&"0"===t[0]&&t[1]!==this.thousandSeparator&&!this._compareOrIncludes(t[1],this.decimalMarker,this.thousandSeparator)&&!o?t.slice(0,t.length-1):t,o&&(t=this._compareOrIncludes(t[t.length-1],this.decimalMarker,this.thousandSeparator)?t.slice(0,t.length-1):t);const ee=this._charToRegExpExpression(this.thousandSeparator);let Q='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(ee,"");if(Array.isArray(this.decimalMarker))for(const ht of this.decimalMarker)Q=Q.replace(this._charToRegExpExpression(ht),"");else Q=Q.replace(this._charToRegExpExpression(this.decimalMarker),"");const Fe=new RegExp("["+Q+"]");(t.match(Fe)||1===t.length&&this._compareOrIncludes(t,this.decimalMarker,this.thousandSeparator))&&(t=t.substring(0,t.length-1));const oe=this.getPrecision(i),Pe=(t=this.checkInputPrecision(t,oe,this.decimalMarker)).replace(new RegExp(ee,"g"),"");p=this._formatWithSeparators(Pe,this.thousandSeparator,this.decimalMarker,oe);const we=p.indexOf(",")-t.indexOf(","),st=p.length-t.length;if(st>0&&p[n]!==this.thousandSeparator){_=!0;let ht=0;do{this._shift.add(n+ht),ht++}while(ht<st)}else p[n-1]===this.decimalMarker||-4===st||-3===st||","===p[n]?(this._shift.clear(),this._shift.add(n-1)):0!==we&&n>0&&!(p.indexOf(",")>=n&&n>3)||!(p.indexOf(".")>=n&&n>3)&&st<=0?(this._shift.clear(),_=!0,w=st,this._shift.add(n+=st)):this._shift.clear()}else for(let ee=0,Q=C[0];ee<C.length;ee++,Q=null!==(T=C[ee])&&void 0!==T?T:""){var T,O,M,R,I,F,B,N,V,H,j,Y;if(d===i.length)break;const Fe="*"in this.patterns;if(this._checkSymbolMask(Q,null!==(O=i[d])&&void 0!==O?O:"")&&"?"===i[d+1])p+=Q,d+=2;else if("*"===i[d+1]&&m&&this._checkSymbolMask(Q,null!==(M=i[d+2])&&void 0!==M?M:""))p+=Q,d+=3,m=!1;else if(this._checkSymbolMask(Q,null!==(R=i[d])&&void 0!==R?R:"")&&"*"===i[d+1]&&!Fe)p+=Q,m=!0;else if("?"===i[d+1]&&this._checkSymbolMask(Q,null!==(I=i[d+2])&&void 0!==I?I:""))p+=Q,d+=3;else if(this._checkSymbolMask(Q,null!==(F=i[d])&&void 0!==F?F:"")){if("H"===i[d]&&(this.apm?Number(Q)>9:Number(Q)>2)){n+=1,d+=1,this._shiftStep(i,d,C.length),ee--,this.leadZeroDateTime&&(p+="0");continue}if("h"===i[d]&&(this.apm?1===p.length&&Number(p)>1||"1"===p&&Number(Q)>2||1===t.slice(d-1,d).length&&Number(t.slice(d-1,d))>2||"1"===t.slice(d-1,d)&&Number(Q)>2:"2"===p&&Number(Q)>3||("2"===p.slice(d-2,d)||"2"===p.slice(d-3,d)||"2"===p.slice(d-4,d)||"2"===p.slice(d-1,d))&&Number(Q)>3&&d>10)){n+=1,d+=1,ee--;continue}if(("m"===i[d]||"s"===i[d])&&Number(Q)>5){n+=1,d+=1,this._shiftStep(i,d,C.length),ee--,this.leadZeroDateTime&&(p+="0");continue}const oe=31,Pe=t[d],we=t[d+1],st=t[d+2],ht=t[d-1],ct=t[d-2],ue=t[d-3],qt=t.slice(d-3,d-1),ds=t.slice(d-1,d+1),fs=t.slice(d,d+2),Gn=t.slice(d-2,d);if("d"===i[d]){const un="M0"===i.slice(0,2),qi="M0"===i.slice(0,2)&&this.specialCharacters.includes(ct);if(Number(Q)>3&&this.leadZeroDateTime||!un&&(Number(fs)>oe||Number(ds)>oe||this.specialCharacters.includes(we))||(qi?Number(ds)>oe||!this.specialCharacters.includes(Pe)&&this.specialCharacters.includes(st)||this.specialCharacters.includes(Pe):Number(fs)>oe||this.specialCharacters.includes(we))){n+=1,d+=1,this._shiftStep(i,d,C.length),ee--,this.leadZeroDateTime&&(p+="0");continue}}if("M"===i[d]){const qi=0===d&&(Number(Q)>2||Number(fs)>12||this.specialCharacters.includes(we)),Xr=i.slice(d+2,d+3),Zr=qt.includes(Xr)&&(this.specialCharacters.includes(ct)&&Number(ds)>12&&!this.specialCharacters.includes(Pe)||this.specialCharacters.includes(Pe)||this.specialCharacters.includes(ue)&&Number(Gn)>12&&!this.specialCharacters.includes(ht)||this.specialCharacters.includes(ht)),qr=Number(qt)<=oe&&!this.specialCharacters.includes(qt)&&this.specialCharacters.includes(ht)&&(Number(fs)>12||this.specialCharacters.includes(we)),Un=Number(fs)>12&&5===d||this.specialCharacters.includes(we)&&5===d,hn=Number(qt)>oe&&!this.specialCharacters.includes(qt)&&!this.specialCharacters.includes(Gn)&&Number(Gn)>12,Yr=Number(qt)<=oe&&!this.specialCharacters.includes(qt)&&!this.specialCharacters.includes(ht)&&Number(ds)>12;if(Number(Q)>1&&this.leadZeroDateTime||qi||Zr||Yr||hn||qr||Un&&!this.leadZeroDateTime){n+=1,d+=1,this._shiftStep(i,d,C.length),ee--,this.leadZeroDateTime&&(p+="0");continue}}p+=Q,d++}else if(" "===Q&&" "===i[d]||"/"===Q&&"/"===i[d])p+=Q,d++;else if(-1!==this.specialCharacters.indexOf(null!==(B=i[d])&&void 0!==B?B:""))p+=i[d],d++,this._shiftStep(i,d,C.length),ee--;else if("9"===i[d]&&this.showMaskTyped)this._shiftStep(i,d,C.length);else if(this.patterns[null!==(N=i[d])&&void 0!==N?N:""]&&null!==(V=this.patterns[null!==(H=i[d])&&void 0!==H?H:""])&&void 0!==V&&V.optional){var J,G;C[d]&&"099.099.099.099"!==i&&"000.000.000-00"!==i&&"00.000.000/0000-00"!==i&&!i.match(/^9+\.0+$/)&&!(null!==(J=this.patterns[null!==(G=i[d])&&void 0!==G?G:""])&&void 0!==J&&J.optional)&&(p+=C[d]),i.includes("9*")&&i.includes("0*")&&d++,d++,ee--}else"*"===this.maskExpression[d+1]&&this._findSpecialChar(null!==(j=this.maskExpression[d+2])&&void 0!==j?j:"")&&this._findSpecialChar(Q)===this.maskExpression[d+2]&&m||"?"===this.maskExpression[d+1]&&this._findSpecialChar(null!==(Y=this.maskExpression[d+2])&&void 0!==Y?Y:"")&&this._findSpecialChar(Q)===this.maskExpression[d+2]&&m?(d+=3,p+=Q):this.showMaskTyped&&this.specialCharacters.indexOf(Q)<0&&Q!==this.placeHolderCharacter&&1===this.placeHolderCharacter.length&&(A=!0)}p.length+1===i.length&&-1!==this.specialCharacters.indexOf(null!==(f=i[i.length-1])&&void 0!==f?f:"")&&(p+=i[i.length-1]);let Z=n+1;for(;this._shift.has(Z);)w++,Z++;let ae=a&&!i.startsWith("separator")?d:this._shift.has(n)?w:0;A&&ae--,l(ae,_),w<0&&this._shift.clear();let fe=!1;o&&(fe=C.every(ee=>this.specialCharacters.includes(ee)));let se=`${this.prefix}${fe?"":p}${this.suffix}`;if(0===p.length&&(se=this.dropSpecialCharacters?`${p}`:`${this.prefix}${p}`),p.includes("-")&&this.prefix&&this.allowNegativeNumbers){if(o&&"-"===p)return"";se=`-${this.prefix}${p.split("-").join("")}${this.suffix}`}return se}_findDropSpecialChar(t){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(i=>i===t):this._findSpecialChar(t)}_findSpecialChar(t){return this.specialCharacters.find(i=>i===t)}_checkSymbolMask(t,i){var n,a,o;return this.patterns=this.customPattern?this.customPattern:this.patterns,null!==(n=(null===(a=this.patterns[i])||void 0===a?void 0:a.pattern)&&(null===(o=this.patterns[i])||void 0===o?void 0:o.pattern.test(t)))&&void 0!==n&&n}_stripToDecimal(t){return t.split("").filter((i,n)=>{const a="string"==typeof this.decimalMarker?i===this.decimalMarker:this.decimalMarker.includes(i);return i.match("^-?\\d")||i===this.thousandSeparator||a||"-"===i&&0===n&&this.allowNegativeNumbers}).join("")}_charToRegExpExpression(t){return t&&(" "===t?"\\s":"[\\^$.|?*+()".indexOf(t)>=0?`\\${t}`:t)}_shiftStep(t,i,n){const a=/[*?]/g.test(t.slice(0,i))?n:i;this._shift.add(a+this.prefix.length||0)}_compareOrIncludes(t,i,n){return Array.isArray(i)?i.filter(a=>a!==n).includes(t):t===i}_validIP(t){return!(4===t.length&&!t.some((i,n)=>t.length!==n+1?""===i||Number(i)>255:""===i||Number(i.substring(0,3))>255))}_splitPercentZero(t){const i=t.indexOf("string"==typeof this.decimalMarker?this.decimalMarker:".");if(-1===i){const n=parseInt(t,10);return isNaN(n)?"":n.toString()}{const n=parseInt(t.substring(0,i),10),a=t.substring(i+1),o=isNaN(n)?"":n.toString();return""===o?"":o+("string"==typeof this.decimalMarker?this.decimalMarker:".")+a}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=$.jDH({token:s,factory:s.\u0275fac}),s})(),oh=(()=>{class s extends Oo{constructor(){super(...arguments),this.isNumberValue=!1,this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this._maskExpressionArray=[],this.triggerOnMaskChange=!1,this._emitValue=!1,this._previousValue="",this._currentValue="",this.onChange=t=>{},this.document=(0,$.WQX)(Ze.qQ),this._config=(0,$.WQX)(ur),this._elementRef=(0,$.WQX)($.aKT,{optional:!0}),this._renderer=(0,$.WQX)($.sFG,{optional:!0})}applyMask(t,i,n=0,a=!1,o=!1,l=(()=>{})){var h;if(!i)return t!==this.actualValue?this.actualValue:t;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||"#")),!t&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const f=t&&"number"==typeof this.selStart&&null!==(h=t[this.selStart])&&void 0!==h?h:"";let d="";if(void 0!==this.hiddenInput&&!this.writingValue){let w=t&&1===t.length?t.split(""):this.actualValue.split("");"object"==typeof this.selStart&&"object"==typeof this.selEnd?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):""!==t&&w.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(t.length>w.length?w.splice(this.selStart,0,f):t.length<w.length&&(w.length-t.length==1?w.splice(o?this.selStart-1:t.length-1,1):w.splice(this.selStart,this.selEnd-this.selStart))):w=[],this.showMaskTyped&&(this.hiddenInput||(t=this.removeMask(t))),d=this.actualValue.length&&w.length<=t.length?this.shiftTypedSymbols(w.join("")):t}if(a&&(this.hiddenInput||!this.hiddenInput)&&(d=t),this.deletedSpecialCharacter&&n&&(this.specialCharacters.includes(this.actualValue.slice(n,n+1))?n+=1:"M0"!==i.slice(n-1,n+1)&&(n-=2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&1===this.placeHolderCharacter.length&&!this.leadZeroDateTime&&(t=this.removeMask(t)),d=this.maskChanged?t:d&&d.length?d:t,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!a){const w=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(w),this.actualValue?this.actualValue:this.prefix+this.maskIsShown+this.suffix}const p=super.applyMask(d,i,n,a,o,l);if(this.actualValue=this.getActualValue(p),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.specialCharacters=this.specialCharacters.filter(w=>!this._compareOrIncludes(w,this.decimalMarker,this.thousandSeparator))),(p||""===p)&&(this._previousValue=this._currentValue,this._currentValue=p,this._emitValue=this._previousValue!==this._currentValue||this.maskChanged||this._previousValue===this._currentValue&&a),this._emitValue&&this.formControlResult(p),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?o?this.hideInput(p,this.maskExpression):this.hideInput(p,this.maskExpression)+this.maskIsShown.slice(p.length):p;const m=p.length,_=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const w=this._numberSkipedSymbols(p);return p+_.slice(m+w)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?p+_:p+_.slice(m)}_numberSkipedSymbols(t){const i=/(^|\D)(\d\D)/g;let n=i.exec(t),a=0;for(;null!=n;)a+=1,n=i.exec(t);return a}applyValueChanges(t,i,n,a=(()=>{})){var o;const l=null===(o=this._elementRef)||void 0===o?void 0:o.nativeElement;l&&(l.value=this.applyMask(l.value,this.maskExpression,t,i,n,a),l!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(t,i){return t.split("").map((n,a)=>{var o,l,h,f,d;return this.patterns&&this.patterns[null!==(o=i[a])&&void 0!==o?o:""]&&null!==(l=this.patterns[null!==(h=i[a])&&void 0!==h?h:""])&&void 0!==l&&l.symbol?null===(f=this.patterns[null!==(d=i[a])&&void 0!==d?d:""])||void 0===f?void 0:f.symbol:n}).join("")}getActualValue(t){const i=t.split("").filter((n,a)=>{var o;const l=null!==(o=this.maskExpression[a])&&void 0!==o?o:"";return this._checkSymbolMask(n,l)||this.specialCharacters.includes(l)&&n===l});return i.join("")===t?i.join(""):t}shiftTypedSymbols(t){let i="";return(t&&t.split("").map((a,o)=>{var l;if(this.specialCharacters.includes(null!==(l=t[o+1])&&void 0!==l?l:"")&&t[o+1]!==this.maskExpression[o+1])return i=a,t[o+1];if(i.length){const h=i;return i="",h}return a})||[]).join("")}numberToString(t){return!t&&0!==t||this.maskExpression.startsWith("separator")&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith("separator")&&this.separatorLimit.length>14&&String(t).length>14?String(t):Number(t).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace("/-/","-")}showMaskInInput(t){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(t){if("IP"===this.maskExpression)return this._checkForIp(t);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(t)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){var t;const i=null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement;i&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==i.value.replace(this.placeHolderCharacter,"").length&&(this.formElementProperty=["value",""],this.applyMask("",this.maskExpression))}set formElementProperty([t,i]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>{var n,a;return null===(n=this._renderer)||void 0===n?void 0:n.setProperty(null===(a=this._elementRef)||void 0===a?void 0:a.nativeElement,t,i)})}checkDropSpecialCharAmount(t){return t.split("").filter(n=>this._findDropSpecialChar(n)).length}removeMask(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(t){if("#"===t)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const i=[];for(let a=0;a<t.length;a++){var n;const o=null!==(n=t[a])&&void 0!==n?n:"";o&&o.match("\\d")&&i.push(o)}return i.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:i.length>3&&i.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:i.length>6&&i.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(t){const i=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,n=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===t)return i;const a=[];for(let l=0;l<t.length;l++){var o;const h=null!==(o=t[l])&&void 0!==o?o:"";h&&h.match("\\d")&&a.push(h)}return a.length<=3?i.slice(a.length,i.length):a.length>3&&a.length<=6?i.slice(a.length+1,i.length):a.length>6&&a.length<=9?i.slice(a.length+2,i.length):a.length>9&&a.length<11?i.slice(a.length+3,i.length):11===a.length?"":12===a.length?n.slice(17===t.length?16:15,n.length):a.length>12&&a.length<=14?n.slice(a.length+4,n.length):""}_getActiveElement(t=this.document){var i;const n=null==t||null===(i=t.activeElement)||void 0===i?void 0:i.shadowRoot;return null!=n&&n.activeElement?this._getActiveElement(n):t.activeElement}formControlResult(t){if(this.writingValue||!this.triggerOnMaskChange&&this.maskChanged)return this.maskChanged&&this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(t)))))),void(this.maskChanged=!1);Array.isArray(this.dropSpecialCharacters)?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(t)),this.dropSpecialCharacters))))):this.onChange(this.outputTransformFn(this._toNumber(this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===t?this._checkSymbols(this._removeSuffix(this._removePrefix(t))):t)))}_toNumber(t){if(!this.isNumberValue||""===t||this.maskExpression.startsWith("separator")&&(this.leadZero||!this.dropSpecialCharacters))return t;if(String(t).length>16&&this.separatorLimit.length>14)return String(t);const i=Number(t);if(this.maskExpression.startsWith("separator")&&Number.isNaN(i)){const n=String(t).replace(",",".");return Number(n)}return Number.isNaN(i)?t:i}_removeMask(t,i){return this.maskExpression.startsWith("percent")&&t.includes(".")?t:t&&t.replace(this._regExpForRemove(i),"")}_removePrefix(t){return this.prefix?t&&t.replace(this.prefix,""):t}_removeSuffix(t){return this.suffix?t&&t.replace(this.suffix,""):t}_retrieveSeparatorValue(t){const i=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(n=>this.dropSpecialCharacters.includes(n)):this.specialCharacters;return this._removeMask(t,i)}_regExpForRemove(t){return new RegExp(t.map(i=>`\\${i}`).join("|"),"gi")}_replaceDecimalMarkerToDot(t){const i=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return t.replace(this._regExpForRemove(i),".")}_checkSymbols(t){if(""===t)return t;this.maskExpression.startsWith("percent")&&","===this.decimalMarker&&(t=t.replace(",","."));const i=this._retrieveSeparatorPrecision(this.maskExpression),n=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(t));return this.isNumberValue&&i?t===this.decimalMarker?null:this.separatorLimit.length>14?String(n):this._checkPrecision(this.maskExpression,n):n}_retrieveSeparatorPrecision(t){const i=t.match(new RegExp("^separator\\.([^d]*)"));return i?Number(i[1]):null}_checkPrecision(t,i){const n=t.slice(10,11);return t.indexOf("2")>0||this.leadZero&&Number(n)>1?(","===this.decimalMarker&&this.leadZero&&(i=i.replace(",",".")),this.leadZero?Number(i).toFixed(Number(n)):Number(i).toFixed(2)):this.numberToString(i)}_repeatPatternSymbols(t){return t.match(/{[0-9]+}/)&&t.split("").reduce((i,n,a)=>{if(this._start="{"===n?a:this._start,"}"!==n)return this._findSpecialChar(n)?i+n:i;this._end=a;const o=Number(t.slice(this._start+1,this._end)),l=new Array(o+1).join(t[this._start-1]);if(t.slice(0,this._start).length>1&&t.includes("S")){const h=t.slice(0,this._start-1);return h.includes("{")?i+l:h+i+l}return i+l},"")||t}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}}return s.\u0275fac=(()=>{let e;return function(i){return(e||(e=$.xGo(s)))(i||s)}})(),s.\u0275prov=$.jDH({token:s,factory:s.\u0275fac}),s})(),lh=(()=>{class s{constructor(t){this._maskService=t,this.defaultOptions={},this._maskExpressionArray=[],this.mask=""}transform(t,i,{patterns:n,...a}={}){const o={maskExpression:i,...this.defaultOptions,...a,patterns:{...this._maskService.patterns,...n}};if(Object.entries(o).forEach(([l,h])=>{this._maskService[l]=h}),i.includes("||"))return i.split("||").length>1?(this._maskExpressionArray=i.split("||").sort((l,h)=>l.length-h.length),this._setMask(t),this._maskService.applyMask(`${t}`,this.mask)):(this._maskExpressionArray=[],this._maskService.applyMask(`${t}`,this.mask));if(i.includes("{"))return this._maskService.applyMask(`${t}`,this._maskService._repeatPatternSymbols(i));if(i.startsWith("separator")){a.decimalMarker&&(this._maskService.decimalMarker=a.decimalMarker),a.thousandSeparator&&(this._maskService.thousandSeparator=a.thousandSeparator),a.leadZero&&(this._maskService.leadZero=a.leadZero),t=String(t);const l=this._maskService.currentLocaleDecimalMarker();Array.isArray(this._maskService.decimalMarker)||(t=this._maskService.decimalMarker!==l?t.replace(l,this._maskService.decimalMarker):t),this._maskService.leadZero&&t&&!1!==this._maskService.dropSpecialCharacters&&(t=this._maskService._checkPrecision(i,t)),","===this._maskService.decimalMarker&&(t=t.toString().replace(".",",")),this._maskService.isNumberValue=!0}return this._maskService.applyMask(`${t}`,i)}_setMask(t){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(i=>{var n,a;const o=(null===(n=this._maskService.removeMask(t))||void 0===n?void 0:n.length)<=(null===(a=this._maskService.removeMask(i))||void 0===a?void 0:a.length);if(t&&o)return this.mask=i,o;{var l;const h=null!==(l=this._maskExpressionArray[this._maskExpressionArray.length-1])&&void 0!==l?l:"";this.mask=h}})}}return s.\u0275fac=function(t){return new(t||s)($.rXU(oh,16))},s.\u0275pipe=$.EJ8({name:"mask",type:s,pure:!0}),s})();function ma(s,e){return e instanceof Function?{...s,...e()}:{...s,...e}}let Bs=(()=>{class s{static forRoot(t){return{ngModule:s,providers:[{provide:rh,useValue:t},{provide:Ro,useValue:ah},{provide:ur,useFactory:ma,deps:[Ro,rh]},oh]}}static forChild(){return{ngModule:s}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=$.$C({type:s}),s.\u0275inj=$.G2t({}),s})();function Ud(s,e){if(1&s&&($.j41(0,"ion-button",16),$.nrm(1,"ion-icon",17),$.k0s()),2&s){const t=$.XpG();$.Y8G("href",null==t.merchant?null:t.merchant.urlFacebook)}}function hr(s,e){if(1&s&&($.j41(0,"ion-button",16),$.nrm(1,"ion-icon",18),$.k0s()),2&s){const t=$.XpG();$.Y8G("href",null==t.merchant?null:t.merchant.urlInstagram)}}function mi(s,e){if(1&s&&($.j41(0,"ion-button",16),$.nrm(1,"ion-icon",19),$.k0s()),2&s){const t=$.XpG();$.Y8G("href",null==t.merchant?null:t.merchant.urlLinkedin)}}function uh(s,e){if(1&s&&($.j41(0,"ion-button",16),$.nrm(1,"ion-icon",20),$.k0s()),2&s){const t=$.XpG();$.Y8G("href",null==t.merchant?null:t.merchant.urlSite)}}function hh(s,e){if(1&s&&($.j41(0,"ion-button",16),$.nrm(1,"ion-icon",21),$.k0s()),2&s){const t=$.XpG();$.Y8G("href",null==t.merchant?null:t.merchant.urlTikTok)}}function Xd(s,e){if(1&s&&($.j41(0,"ion-button",16),$.nrm(1,"ion-icon",22),$.k0s()),2&s){const t=$.XpG();$.Y8G("href",null==t.merchant?null:t.merchant.whatsAppChannel)}}function No(s,e){if(1&s&&($.j41(0,"ion-button",16),$.nrm(1,"ion-icon",23),$.k0s()),2&s){const t=$.XpG();$.Y8G("href",null==t.merchant?null:t.merchant.urlTwitter)}}function zo(s,e){if(1&s&&($.j41(0,"div"),$.nrm(1,"img",26),$.k0s()),2&s){const t=e.$implicit;$.R7$(),$.Y8G("src",t.urlImage,$.B4B)}}function Zd(s,e){if(1&s&&($.j41(0,"div",24),$.DNE(1,zo,2,1,"div",25),$.k0s()),2&s){const t=$.XpG();$.R7$(),$.Y8G("ngForOf",t.propagandas)}}function qd(s,e){if(1&s&&($.j41(0,"object",29)(1,"p"),$.EFF(2,"Your browser does not support PDFs. "),$.j41(3,"a",30),$.EFF(4,"Download the PDF"),$.k0s()()()),2&s){const t=$.XpG(2);$.Y8G("data",t.trustedUrl,$.f$h),$.R7$(3),$.Y8G("href",t.trustedUrl,$.B4B)}}function ch(s,e){if(1&s&&($.j41(0,"div",27),$.DNE(1,qd,5,2,"object",28),$.k0s()),2&s){const t=$.XpG();$.R7$(),$.Y8G("ngIf",null==t.merchant?null:t.merchant.weeklySales)}}function Yd(s,e){if(1&s&&($.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-subtitle"),$.EFF(3,"Getting in touch"),$.k0s(),$.j41(4,"ion-card-title"),$.EFF(5),$.k0s()(),$.j41(6,"ion-card-content")(7,"ion-button",31),$.EFF(8,"Contact us"),$.k0s()()()),2&s){const t=$.XpG();$.R7$(5),$.SpI(" ",null==t.merchant?null:t.merchant.name,""),$.R7$(2),$.Y8G("href","tel:"+(null==t.merchant?null:t.merchant.phoneNumber))}}typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",Ti),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class jd extends eh{constructor(){super(),this.attachShadow({mode:"open"})}render(){const e=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(th(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),e){const t=document.createElement("div");t.classList.add("swiper-lazy-preloader"),t.part.add("preloader"),this.shadowRoot.appendChild(t)}}initialize(){this.render()}connectedCallback(){this.initialize()}}));const bn=[{path:"",component:(()=>{var s;class e{constructor(i,n,a){this.http=i,this.route=n,this.sanitizer=a,this.lista={latitude:40.73566,longitude:-74.17237},this.customIcon=new Re.Icon({iconUrl:"./assets/marker-icon.png",iconSize:[25,41]}),this.show=!1,this.propagandas=[],this.aba="promocoes"}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id")||"",console.log(this.id),this.getDados()}getDados(){this.http.doGet(`linklistfy/store/${this.id}`,{}).subscribe({next:i=>{var n,a;this.merchant=i.data,this.trustedUrl=this.sanitizer.bypassSecurityTrustResourceUrl((null===(n=i.data)||void 0===n?void 0:n.weeklySales)+"?#zoom=0&view=&toolbar=0&statusbar=0&messages=0&navpanes=0&scrollbar=0&embedded=true"),this.lista={latitude:i.data.latitude,longitude:i.data.longitude},this.propagandas=null===(a=i.data)||void 0===a?void 0:a.adverts.filter(l=>!0===l.isDeal),0===this.propagandas.length&&(this.aba="circular"),this.map2.panTo(new Re.LatLng(i.data.latitude,i.data.longitude)),Re.marker(new Re.LatLng(i.data.latitude,i.data.longitude),{icon:this.customIcon}).addTo(this.map2)},error:i=>this.error={text:i,tipo:0}})}ionViewDidEnter(){this.map2=new Re.Map("mapId2").setView([this.lista.latitude,this.lista.longitude],16),Re.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"OpenStreetMap"}).addTo(this.map2),Re.marker(new Re.LatLng(this.lista.latitude,this.lista.longitude),{icon:this.customIcon}).addTo(this.map2)}ionViewWillLeave(){this.map2.off(),this.map2.remove()}}return(s=e).\u0275fac=function(i){return new(i||s)($.rXU(sh.k),$.rXU(Qr.nX),$.rXU(nh.up))},s.\u0275cmp=$.VBU({type:s,selectors:[["app-home"]],decls:50,vars:28,consts:[[3,"fullscreen"],[1,"ion-text-center"],["alt","logo",1,"logo",3,"src"],[1,"botoes"],["shape","round","color","light","target","_blank",3,"href",4,"ngIf"],["value","promocoes",3,"ngModelChange","ngModel"],[3,"value","disabled"],["class","promocoes",4,"ngIf"],["class","circular",4,"ngIf"],["color","dark","expand","block","target","_blank",3,"href"],[1,"ion-padding"],["id","mapId2",2,"width","100%","height","200px","margin","20px 0","border-radius","14px"],[4,"ngIf"],["href","https://sweepstouch.com","target","_blank"],["src","./assets/logosweeps.png"],[1,"sky"],["shape","round","color","light","target","_blank",3,"href"],["slot","icon-only","name","logo-facebook"],["slot","icon-only","name","logo-instagram"],["slot","icon-only","name","logo-linkedin"],["slot","icon-only","name","tv-outline"],["slot","icon-only","name","logo-tiktok"],["slot","icon-only","name","logo-whatsapp"],["slot","icon-only","name","logo-twitter"],[1,"promocoes"],[4,"ngFor","ngForOf"],[3,"src"],[1,"circular"],["type","application/pdf","width","100%","height","100%",3,"data",4,"ngIf"],["type","application/pdf","width","100%","height","100%",3,"data"],[3,"href"],["color","dark","expand","block",3,"href"]],template:function(i,n){1&i&&($.j41(0,"ion-content",0)(1,"header",1),$.nrm(2,"img",2),$.j41(3,"h1"),$.EFF(4),$.j41(5,"small"),$.EFF(6),$.nI1(7,"mask"),$.k0s()(),$.EFF(8),$.j41(9,"div",3),$.DNE(10,Ud,2,1,"ion-button",4)(11,hr,2,1,"ion-button",4)(12,mi,2,1,"ion-button",4)(13,uh,2,1,"ion-button",4)(14,hh,2,1,"ion-button",4)(15,Xd,2,1,"ion-button",4)(16,No,2,1,"ion-button",4),$.k0s()(),$.j41(17,"ion-card")(18,"ion-card-header")(19,"ion-segment",5),$.mxI("ngModelChange",function(o){return $.DH7(n.aba,o)||(n.aba=o),o}),$.j41(20,"ion-segment-button",6)(21,"ion-label"),$.EFF(22,"Promotions"),$.k0s()(),$.j41(23,"ion-segment-button",6)(24,"ion-label"),$.EFF(25,"Circular"),$.k0s()()()(),$.j41(26,"ion-card-content"),$.DNE(27,Zd,2,1,"div",7)(28,ch,2,1,"div",8),$.k0s()(),$.j41(29,"ion-card")(30,"ion-card-header")(31,"ion-card-subtitle"),$.EFF(32,"You can check out what our customers says"),$.k0s(),$.j41(33,"ion-card-title"),$.EFF(34),$.k0s()(),$.j41(35,"ion-card-content")(36,"ion-button",9),$.EFF(37,"See our Reviews"),$.k0s()()(),$.j41(38,"div",10)(39,"h3"),$.EFF(40,"Location"),$.k0s(),$.nrm(41,"div",11),$.k0s(),$.DNE(42,Yd,9,2,"ion-card",12),$.k0s(),$.j41(43,"ion-footer")(44,"ion-toolbar")(45,"ion-title")(46,"a",13),$.nrm(47,"img",14),$.k0s()()(),$.j41(48,"div",15),$.EFF(49,"\xa9\ufe0f SkyForce"),$.k0s()()),2&i&&($.Y8G("fullscreen",!0),$.R7$(2),$.Y8G("src",null==n.merchant?null:n.merchant.urlImage,$.B4B),$.R7$(2),$.SpI(" ",null==n.merchant?null:n.merchant.name," "),$.R7$(2),$.JRh($.i5U(7,25,null==n.merchant?null:n.merchant.phoneNumber,"(000)000-0000")),$.R7$(2),$.SpI(" ",null==n.merchant?null:n.merchant.address," "),$.R7$(2),$.Y8G("ngIf",null==n.merchant?null:n.merchant.urlFacebook),$.R7$(),$.Y8G("ngIf",null==n.merchant?null:n.merchant.urlInstagram),$.R7$(),$.Y8G("ngIf",null==n.merchant?null:n.merchant.urlLinkedin),$.R7$(),$.Y8G("ngIf",null==n.merchant?null:n.merchant.urlSite),$.R7$(),$.Y8G("ngIf",null==n.merchant?null:n.merchant.urlTikTok),$.R7$(),$.Y8G("ngIf",null==n.merchant?null:n.merchant.whatsAppChannel),$.R7$(),$.Y8G("ngIf",null==n.merchant?null:n.merchant.urlTwitter),$.R7$(3),$.R50("ngModel",n.aba),$.R7$(),$.Y8G("value","promocoes")("disabled",0===n.propagandas.length),$.R7$(3),$.Y8G("value","circular")("disabled",!(null!=n.merchant&&n.merchant.weeklySales)),$.R7$(4),$.Y8G("ngIf","promocoes"===n.aba&&(null==n.merchant?null:n.merchant.adverts.length)>0),$.R7$(),$.Y8G("ngIf","circular"===n.aba&&(null==n.merchant?null:n.merchant.weeklySales)),$.R7$(6),$.SpI(" ",null==n.merchant?null:n.merchant.name,""),$.R7$(2),$.yjJ("href","https://www.google.com/maps/place/?q=",null==n.merchant?null:n.merchant.latitude,",",null==n.merchant?null:n.merchant.longitude,",place_id:",null==n.merchant?null:n.merchant.googleLinkReview,"&review_solicitation=1"),$.R7$(6),$.Y8G("ngIf",null==n.merchant?null:n.merchant.email))},dependencies:[Ze.Sq,Ze.bT,rt.BC,rt.vS,Pt.Jm,Pt.b_,Pt.I9,Pt.ME,Pt.HW,Pt.tN,Pt.W9,Pt.M0,Pt.iq,Pt.he,Pt.Gp,Pt.eP,Pt.BC,Pt.ai,Pt.Je,lh],styles:["ion-content[_ngcontent-%COMP%]{max-width:767px;--background: #f7f7f7}header[_ngcontent-%COMP%]{background:#d9d8da;padding:30px 20px;border-radius:0 0 10% 10%;color:#1a181b}.botoes[_ngcontent-%COMP%]{padding:20px 0 0}ion-card[_ngcontent-%COMP%]{box-shadow:none}ion-card-title[_ngcontent-%COMP%]{font-size:1.4rem}swiper-container[_ngcontent-%COMP%]{overflow:hidden}swiper-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}pdf-viewer[_ngcontent-%COMP%]{height:100vh}object[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{display:block;background:#000;border:none;height:100vh;width:100%}.sky[_ngcontent-%COMP%]{background:#3891ff;color:#fff;padding:5px 10px;text-align:center;font-size:12px;font-weight:900}small[_ngcontent-%COMP%]{display:block}"]}),e})()}];let Kd=(()=>{var s;class e{}return(s=e).\u0275fac=function(i){return new(i||s)},s.\u0275mod=$.$C({type:s}),s.\u0275inj=$.G2t({imports:[Qr.iI.forChild(bn),Qr.iI]}),e})();var de=ne(9842);function va(s,e,t){e||(e=[]);var i=e.length++;return Object.defineProperty({},"_",{set:function(a){e[i]=a,s.apply(t,e)}})}function Rs(s,e){if(e.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ie(s,e){Rs(s,e),e.add(s)}function E(s,e,t){if("function"==typeof s?s===e:s.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function Ee(s,e,t){return t(E(s,e))}var re=ne(467);function k(s,e,t){Rs(s,e),e.set(s,t)}function c(s,e){return s.get(E(s,e))}function x(s,e,t){return s.set(E(s,e),t),t}var _a,cr,dh,vi,Di,Os,fh,_i,Yi,Wo,Ns,vs={d:(s,e)=>{for(var t in e)vs.o(e,t)&&!vs.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:e[t]})},o:(s,e)=>Object.prototype.hasOwnProperty.call(s,e)},Se=globalThis.pdfjsLib={};vs.d(Se,{AbortException:()=>r,AnnotationEditorLayer:()=>$b,AnnotationEditorParamsType:()=>Me,AnnotationEditorType:()=>Ne,AnnotationEditorUIManager:()=>rl,AnnotationLayer:()=>ib,AnnotationMode:()=>Ki,CMapCompressionType:()=>$o,ColorPicker:()=>Es,DOMSVGFactory:()=>uf,DrawLayer:()=>Bi,FeatureTest:()=>X,GlobalWorkerOptions:()=>ss,ImageKind:()=>wa,InvalidPDFException:()=>mh,MissingPDFException:()=>_s,OPS:()=>Tt,PDFDataRangeTransport:()=>P0,PDFDateString:()=>Im,PDFWorker:()=>Ui,PasswordResponses:()=>ph,PermissionFlag:()=>$i,PixelsPerInch:()=>ws,RenderingCancelledException:()=>hf,TextLayer:()=>ns,UnexpectedResponseException:()=>vr,Util:()=>q,VerbosityLevel:()=>pr,XfaLayer:()=>L0,build:()=>Tw,createValidAbsoluteUrl:()=>gh,fetchData:()=>yh,getDocument:()=>ww,getFilenameFromUrl:()=>X_,getPdfFilenameFromUrl:()=>Z_,getXfaPageViewport:()=>q_,isDataScheme:()=>Eh,isPdfFile:()=>cf,noContextMenu:()=>Ai,normalizeUnicode:()=>_h,setLayerDimensions:()=>br,shadow:()=>ze,version:()=>kw});const Mt=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),zs=[1,0,0,1,0,0],An=[.001,0,0,.001,0,0],Ki={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ne={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Me={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},$i={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},wa={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},pr={ERRORS:0,WARNINGS:1,INFOS:5},$o={NONE:0,BINARY:1},Tt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},ph={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let gr=pr.WARNINGS;function tf(){return gr}function Ws(s){gr>=pr.INFOS&&console.log(`Info: ${s}`)}function De(s){gr>=pr.WARNINGS&&console.log(`Warning: ${s}`)}function Ke(s){throw new Error(s)}function xt(s,e){s||Ke(e)}function gh(s,e=null,t=null){if(!s)return null;try{if(t&&"string"==typeof s){if(t.addDefaultProtocol&&s.startsWith("www.")){const n=s.match(/\./g);(null==n?void 0:n.length)>=2&&(s=`http://${s}`)}if(t.tryConvertEncoding)try{s=function wi(s){return decodeURIComponent(escape(s))}(s)}catch{}}const i=e?new URL(s,e):new URL(s);if(function sf(s){switch(null==s?void 0:s.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch{}return null}function ze(s,e,t,i=!1){return Object.defineProperty(s,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Ji=function(){function e(t,i){this.constructor===e&&Ke("Cannot initialize BaseException."),this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class ba extends Ji{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Aa extends Ji{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class mh extends Ji{constructor(e){super(e,"InvalidPDFException")}}class _s extends Ji{constructor(e){super(e,"MissingPDFException")}}class vr extends Ji{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class nf extends Ji{constructor(e){super(e,"FormatError")}}class r extends Ji{constructor(e){super(e,"AbortException")}}function u(s){("object"!=typeof s||void 0===(null==s?void 0:s.length))&&Ke("Invalid argument for bytesToString");const e=s.length,t=8192;if(e<t)return String.fromCharCode.apply(null,s);const i=[];for(let n=0;n<e;n+=t){const a=Math.min(n+t,e),o=s.subarray(n,a);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function g(s){"string"!=typeof s&&Ke("Invalid argument for stringToBytes");const e=s.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=255&s.charCodeAt(i);return t}function D(s){const e=Object.create(null);for(const[t,i]of s)e[t]=i;return e}class X{static get isLittleEndian(){return ze(this,"isLittleEndian",function W(){const s=new Uint8Array(4);return s[0]=1,1===new Uint32Array(s.buffer,0,1)[0]}())}static get isEvalSupported(){return ze(this,"isEvalSupported",function U(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){var e;return typeof navigator<"u"&&"string"==typeof(null===(e=navigator)||void 0===e?void 0:e.platform)?ze(this,"platform",{isMac:navigator.platform.includes("Mac")}):ze(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return ze(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const ie=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));class q{static makeHexColor(e,t,i){return`#${ie[e]}${ie[t]}${ie[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),n=this.applyTransform(e.slice(2,4),t),a=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],n[0],a[0],o[0]),Math.min(i[1],n[1],a[1],o[1]),Math.max(i[0],n[0],a[0],o[0]),Math.max(i[1],n[1],a[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],o=e[2]*t[1]+e[3]*t[3],l=(i+o)/2,h=Math.sqrt((i+o)**2-4*(i*o-(e[2]*t[0]+e[3]*t[2])*(e[0]*t[1]+e[1]*t[3])))/2,d=l-h||1;return[Math.sqrt(l+h||1),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),n=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>n)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>o?null:[i,a,n,o]}static bezierBoundingBox(e,t,i,n,a,o,l,h,f){return f?(f[0]=Math.min(f[0],e,l),f[1]=Math.min(f[1],t,h),f[2]=Math.max(f[2],e,l),f[3]=Math.max(f[3],t,h)):f=[Math.min(e,l),Math.min(t,h),Math.max(e,l),Math.max(t,h)],E(q,this,Oe).call(this,e,i,a,l,t,n,o,h,3*(3*(i-a)-e+l),6*(e-2*i+a),3*(i-e),f),E(q,this,Oe).call(this,e,i,a,l,t,n,o,h,3*(3*(n-o)-t+h),6*(t-2*n+o),3*(n-t),f),f}}function _e(s,e,t,i,n,a,o,l,h,f){if(h<=0||h>=1)return;const d=1-h,p=h*h,m=p*h,_=d*(d*(d*s+3*h*e)+3*p*t)+m*i,w=d*(d*(d*n+3*h*a)+3*p*o)+m*l;f[0]=Math.min(f[0],_),f[1]=Math.min(f[1],w),f[2]=Math.max(f[2],_),f[3]=Math.max(f[3],w)}function Oe(s,e,t,i,n,a,o,l,h,f,d,p){if(Math.abs(h)<1e-12)return void(Math.abs(f)>=1e-12&&E(_a,this,_e).call(this,s,e,t,i,n,a,o,l,-d/f,p));const m=f**2-4*d*h;if(m<0)return;const _=Math.sqrt(m),w=2*h;E(_a,this,_e).call(this,s,e,t,i,n,a,o,l,(-f+_)/w,p),E(_a,this,_e).call(this,s,e,t,i,n,a,o,l,(-f-_)/w,p)}_a=q;let jo=null,vh=null;function _h(s){return jo||(jo=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,vh=new Map([["\ufb05","\u017ft"]])),s.replaceAll(jo,(e,t,i)=>t?t.normalize("NFKC"):vh.get(i))}const Go="pdfjs_internal_id_";class Hs{constructor(){this.constructor===Hs&&Ke("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,n,a){return"none"}destroy(e=!1){}}var Uo=new WeakMap;class ya{constructor({enableHWA:e=!1}={}){k(this,Uo,!1),this.constructor===ya&&Ke("Cannot initialize BaseCanvasFactory."),x(Uo,this,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!c(Uo,this)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ke("Abstract method `_createCanvas` called.")}}class Ea{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Ea&&Ke("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}fetch({name:e}){var t=this;return(0,re.A)(function*(){if(!t.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const i=t.baseUrl+e+(t.isCompressed?".bcmap":"");return t._fetchData(i,t.isCompressed?$o.BINARY:$o.NONE).catch(a=>{throw new Error(`Unable to load ${t.isCompressed?"binary ":""}CMap at: ${i}`)})})()}_fetchData(e,t){Ke("Abstract method `_fetchData` called.")}}class yn{constructor({baseUrl:e=null}){this.constructor===yn&&Ke("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}fetch({filename:e}){var t=this;return(0,re.A)(function*(){if(!t.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const i=`${t.baseUrl}${e}`;return t._fetchData(i).catch(n=>{throw new Error(`Unable to load font data at: ${i}`)})})()}_fetchData(e){Ke("Abstract method `_fetchData` called.")}}class Ca{constructor(){this.constructor===Ca&&Ke("Cannot initialize BaseSVGFactory.")}create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const n=this._createSVG("svg:svg");return n.setAttribute("version","1.1"),i||(n.setAttribute("width",`${e}px`),n.setAttribute("height",`${t}px`)),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox",`0 0 ${e} ${t}`),n}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ke("Abstract method `_createSVG` called.")}}const es="http://www.w3.org/2000/svg";class ws{}cr=ws,(0,de.A)(ws,"CSS",96),(0,de.A)(ws,"PDF",72),(0,de.A)(ws,"PDF_TO_CSS_UNITS",cr.CSS/cr.PDF);var Xo=new WeakMap,xa=new WeakMap,En=new WeakMap,wr=new WeakMap,bi=new WeakMap,af=new WeakMap,Cn=new WeakMap,pe=new WeakSet;function oi(s){return c(xa,s)||x(xa,s,new Map)}function Zo(s){return c(af,s)||x(af,s,new Map)}function qo(s){if(!c(En,s)){const e=c(bi,s).createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const i=c(bi,s).createElementNS(es,"svg");i.setAttribute("width",0),i.setAttribute("height",0),x(En,s,c(bi,s).createElementNS(es,"defs")),e.append(i),i.append(c(En,s)),c(bi,s).body.append(e)}return c(En,s)}function of(s){if(1===s.length){const l=s[0],h=new Array(256);for(let d=0;d<256;d++)h[d]=l[d]/255;const f=h.join(",");return[f,f,f]}const[e,t,i]=s,n=new Array(256),a=new Array(256),o=new Array(256);for(let l=0;l<256;l++)n[l]=e[l]/255,a[l]=t[l]/255,o[l]=i[l]/255;return[n.join(","),a.join(","),o.join(",")]}function Yo(s){if(void 0===c(Xo,this)){x(Xo,this,"");const e=c(bi,this).URL;e!==c(bi,this).baseURI&&(Eh(e)?De('#createUrl: ignore "data:"-URL for performance reasons.'):x(Xo,this,e.split("#",1)[0]))}return`url(${c(Xo,this)}#${s})`}function G_(s){const e=c(bi,this).createElementNS(es,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),s.append(e)}function km(s){const e=c(bi,this).createElementNS(es,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),s.append(e)}function Ko(s){const e=c(bi,this).createElementNS(es,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",s),Ee(pe,this,qo).append(e),e}function wh(s,e,t){const i=c(bi,this).createElementNS(es,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",t),s.append(i)}function bh(s,e,t,i){const n=c(bi,this).createElementNS(es,"feComponentTransfer");i.append(n),E(pe,this,wh).call(this,n,"feFuncR",s),E(pe,this,wh).call(this,n,"feFuncG",e),E(pe,this,wh).call(this,n,"feFuncB",t)}function Tm(s,e){const t=c(bi,this).createElementNS(es,"feComponentTransfer");e.append(t),E(pe,this,wh).call(this,t,"feFuncA",s)}function Ah(s){return Ee(pe,this,qo).style.color=s,ff(getComputedStyle(Ee(pe,this,qo)).getPropertyValue("color"))}function yh(s){return lf.apply(this,arguments)}function lf(){return(lf=(0,re.A)(function*(s,e="text"){if(Jo(s,document.baseURI)){const t=yield fetch(s);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const n=new XMLHttpRequest;n.open("GET",s,!0),n.responseType=e,n.onreadystatechange=()=>{if(n.readyState===XMLHttpRequest.DONE){if(200===n.status||0===n.status){switch(e){case"arraybuffer":case"blob":case"json":return void t(n.response)}return void t(n.responseText)}i(new Error(n.statusText))}},n.send(null)})})).apply(this,arguments)}class Dm extends Ea{_fetchData(e,t){return yh(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):g(i),compressionType:t}))}}class Fm extends yn{_fetchData(e){return yh(e,"arraybuffer").then(t=>new Uint8Array(t))}}class uf extends Ca{_createSVG(e){return document.createElementNS(es,e)}}class Qo{constructor({viewBox:e,scale:t,rotation:i,offsetX:n=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=n,this.offsetY=a;const l=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let f,d,p,m,_,w,A,C;switch((i%=360)<0&&(i+=360),i){case 180:f=-1,d=0,p=0,m=1;break;case 90:f=0,d=1,p=1,m=0;break;case 270:f=0,d=-1,p=-1,m=0;break;case 0:f=1,d=0,p=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(p=-p,m=-m),0===f?(_=Math.abs(h-e[1])*t+n,w=Math.abs(l-e[0])*t+a,A=(e[3]-e[1])*t,C=(e[2]-e[0])*t):(_=Math.abs(l-e[0])*t+n,w=Math.abs(h-e[1])*t+a,A=(e[2]-e[0])*t,C=(e[3]-e[1])*t),this.transform=[f*t,d*t,p*t,m*t,_-f*t*l-p*t*h,w-d*t*l-m*t*h],this.width=A,this.height=C}get rawDims(){const{viewBox:e}=this;return ze(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:n=this.offsetY,dontFlip:a=!1}={}){return new Qo({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:n,dontFlip:a})}convertToViewportPoint(e,t){return q.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=q.applyTransform([e[0],e[1]],this.transform),i=q.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return q.applyInverseTransform([e,t],this.transform)}}class hf extends Ji{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Eh(s){const e=s.length;let t=0;for(;t<e&&""===s[t].trim();)t++;return"data:"===s.substring(t,t+5).toLowerCase()}function cf(s){return"string"==typeof s&&/\.pdf$/i.test(s)}function X_(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function Z_(s,e="document.pdf"){if("string"!=typeof s)return e;if(Eh(s))return De('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(s);let a=i.exec(n[1])||i.exec(n[2])||i.exec(n[3]);if(a&&(a=a[0],a.includes("%")))try{a=i.exec(decodeURIComponent(a))[0]}catch{}return a||e}class Lm{constructor(){(0,de.A)(this,"started",Object.create(null)),(0,de.A)(this,"times",[])}time(e){e in this.started&&De(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||De(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:n,end:a}of this.times)e.push(`${i.padEnd(t)} ${a-n}ms\n`);return e.join("")}}function Jo(s,e){try{const{protocol:t}=e?new URL(s,e):new URL(s);return"http:"===t||"https:"===t}catch{return!1}}function Ai(s){s.preventDefault()}let df;class Im{static toDateObject(e){if(!e||"string"!=typeof e)return null;df||(df=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=df.exec(e);if(!t)return null;const i=parseInt(t[1],10);let n=parseInt(t[2],10);n=n>=1&&n<=12?n-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let h=parseInt(t[6],10);h=h>=0&&h<=59?h:0;const f=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,"-"===f?(o+=d,l+=p):"+"===f&&(o-=d,l-=p),new Date(Date.UTC(i,n,a,o,l,h))}}function q_(s,{scale:e=1,rotation:t=0}){const{width:i,height:n}=s.attributes.style,a=[0,0,parseInt(i),parseInt(n)];return new Qo({viewBox:a,scale:e,rotation:t})}function ff(s){if(s.startsWith("#")){const e=parseInt(s.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(e=>parseInt(e)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(De(`Not a valid color format: "${s}"`),[0,0,0])}function bt(s){const{a:e,b:t,c:i,d:n,e:a,f:o}=s.getTransform();return[e,t,i,n,a,o]}function Vs(s){const{a:e,b:t,c:i,d:n,e:a,f:o}=s.getTransform().invertSelf();return[e,t,i,n,a,o]}function br(s,e,t=!1,i=!0){if(e instanceof Qo){const{pageWidth:n,pageHeight:a}=e.rawDims,{style:o}=s,l=X.isCSSRoundSupported,h=`var(--scale-factor) * ${n}px`,f=`var(--scale-factor) * ${a}px`,d=l?`round(${h}, 1px)`:`calc(${h})`,p=l?`round(${f}, 1px)`:`calc(${f})`;t&&e.rotation%180!=0?(o.width=p,o.height=d):(o.width=d,o.height=p)}i&&s.setAttribute("data-main-rotation",e.rotation)}var el=new WeakMap,tl=new WeakMap,ts=new WeakMap,il=new WeakMap,$s=new WeakSet;class K_{constructor(e){Ie(this,$s),k(this,el,null),k(this,tl,null),k(this,ts,void 0),k(this,il,null),x(ts,this,e)}render(){const e=x(el,this,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=c(ts,this)._uiManager._signal;e.addEventListener("contextmenu",Ai,{signal:t}),e.addEventListener("pointerdown",Q_,{signal:t});const i=x(il,this,document.createElement("div"));i.className="buttons",e.append(i);const n=c(ts,this).toolbarPosition;if(n){const{style:a}=e,o="ltr"===c(ts,this)._uiManager.direction?1-n[0]:n[0];a.insetInlineEnd=100*o+"%",a.top=`calc(${100*n[1]}% + var(--editor-toolbar-vert-offset))`}return E($s,this,t1).call(this),e}hide(){var e;c(el,this).classList.add("hidden"),null===(e=c(tl,this))||void 0===e||e.hideDropdown()}show(){c(el,this).classList.remove("hidden")}addAltTextButton(e){E($s,this,pf).call(this,e),c(il,this).prepend(e,Ee($s,this,Bm))}addColorPicker(e){x(tl,this,e);const t=e.renderButton();E($s,this,pf).call(this,t),c(il,this).prepend(t,Ee($s,this,Bm))}remove(){var e;c(el,this).remove(),null===(e=c(tl,this))||void 0===e||e.destroy(),x(tl,this,null)}}function Q_(s){s.stopPropagation()}function J_(s){c(ts,this)._focusEventsAllowed=!1,s.preventDefault(),s.stopPropagation()}function e1(s){c(ts,this)._focusEventsAllowed=!0,s.preventDefault(),s.stopPropagation()}function pf(s){const e=c(ts,this)._uiManager._signal;s.addEventListener("focusin",E($s,this,J_).bind(this),{capture:!0,signal:e}),s.addEventListener("focusout",E($s,this,e1).bind(this),{capture:!0,signal:e}),s.addEventListener("contextmenu",Ai,{signal:e})}function t1(){const s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(ts,this).editorType}-button`),E($s,this,pf).call(this,s),s.addEventListener("click",e=>{c(ts,this)._uiManager.delete()},{signal:c(ts,this)._uiManager._signal}),c(il,this).append(s)}function Bm(s){const e=document.createElement("div");return e.className="divider",e}var gf=new WeakMap,Sa=new WeakMap,sl=new WeakMap,Ch=new WeakSet;class i1{constructor(e){Ie(this,Ch),k(this,gf,null),k(this,Sa,null),k(this,sl,void 0),x(sl,this,e)}show(e,t,i){const[n,a]=E(Ch,this,n1).call(this,t,i),{style:o}=c(Sa,this)||x(Sa,this,E(Ch,this,s1).call(this));e.append(c(Sa,this)),o.insetInlineEnd=100*n+"%",o.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){c(Sa,this).remove()}}function s1(){const s=x(Sa,this,document.createElement("div"));s.className="editToolbar",s.setAttribute("role","toolbar"),s.addEventListener("contextmenu",Ai,{signal:c(sl,this)._signal});const e=x(gf,this,document.createElement("div"));return e.className="buttons",s.append(e),E(Ch,this,r1).call(this),s}function n1(s,e){let t=0,i=0;for(const n of s){const a=n.y+n.height;if(a<t)continue;const o=n.x+(e?n.width:0);a>t?(i=o,t=a):e?o>i&&(i=o):o<i&&(i=o)}return[e?1-i:i,t]}function r1(){const s=document.createElement("button");s.className="highlightButton",s.tabIndex=0,s.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");s.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const t=c(sl,this)._signal;s.addEventListener("contextmenu",Ai,{signal:t}),s.addEventListener("click",()=>{c(sl,this).highlightSelection("floating_button")},{signal:t}),c(gf,this).append(s)}function xh(s,e,t){for(const i of t)e.addEventListener(i,s[i].bind(s))}var mf=new WeakMap;class o1{constructor(){k(this,mf,0)}get id(){var e,t;return`pdfjs_internal_editor_${x(mf,this,(e=c(mf,this),t=e++,e)),t}`}}var vf=new WeakMap,_f=new WeakMap,Fi=new WeakMap,wf=new WeakSet;class Rm{constructor(){Ie(this,wf),k(this,vf,function rf(){var s,e;if(typeof crypto<"u"&&"function"==typeof(null===(s=crypto)||void 0===s?void 0:s.randomUUID))return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&"function"==typeof(null===(e=crypto)||void 0===e?void 0:e.getRandomValues))crypto.getRandomValues(t);else for(let i=0;i<32;i++)t[i]=Math.floor(255*Math.random());return u(t)}()),k(this,_f,0),k(this,Fi,null)}static get _isSVGFittingCanvas(){const i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),n=new Image;return n.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',ze(this,"_isSVGFittingCanvas",n.decode().then(()=>(i.drawImage(n,0,0,1,1,0,0,1,3),0===new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0])))}getFromFile(e){var t=this;return(0,re.A)(function*(){const{lastModified:i,name:n,size:a,type:o}=e;return E(wf,t,Om).call(t,`${i}_${n}_${a}_${o}`,e)})()}getFromUrl(e){var t=this;return(0,re.A)(function*(){return E(wf,t,Om).call(t,e,e)})()}getFromId(e){var t=this;return(0,re.A)(function*(){c(Fi,t)||x(Fi,t,new Map);const i=c(Fi,t).get(e);return i?i.bitmap?(i.refCounter+=1,i):i.file?t.getFromFile(i.file):t.getFromUrl(i.url):null})()}getSvgUrl(e){const t=c(Fi,this).get(e);return null!=t&&t.isSvg?t.svgUrl:null}deleteId(e){c(Fi,this)||x(Fi,this,new Map);const t=c(Fi,this).get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(vf,this)}_`)}}function Om(s,e){return bf.apply(this,arguments)}function bf(){return(bf=(0,re.A)(function*(s,e){var t;c(Fi,this)||x(Fi,this,new Map);let i=c(Fi,this).get(s);if(null===i)return null;if(null!==(t=i)&&void 0!==t&&t.bitmap)return i.refCounter+=1,i;try{var n,a;let o;if(i||(i={bitmap:null,id:`image_${c(vf,this)}_${x(_f,this,(n=c(_f,this),a=n++,n)),a}`,refCounter:0,isSvg:!1}),"string"==typeof e?(i.url=e,o=yield yh(e,"blob")):o=i.file=e,"image/svg+xml"===o.type){const l=dh._isSVGFittingCanvas,h=new FileReader,f=new Image,d=new Promise((p,m)=>{f.onload=()=>{i.bitmap=f,i.isSvg=!0,p()},h.onload=(0,re.A)(function*(){const _=i.svgUrl=h.result;f.src=(yield l)?`${_}#svgView(preserveAspectRatio(none))`:_}),f.onerror=h.onerror=m});h.readAsDataURL(o),yield d}else i.bitmap=yield createImageBitmap(o);i.refCounter=1}catch(o){console.error(o),i=null}return c(Fi,this).set(s,i),i&&c(Fi,this).set(i.id,i),i})).apply(this,arguments)}dh=Rm;var Qt=new WeakMap,Pa=new WeakMap,Af=new WeakMap,Vt=new WeakMap;class l1{constructor(e=128){k(this,Qt,[]),k(this,Pa,!1),k(this,Af,void 0),k(this,Vt,-1),x(Af,this,e)}add({cmd:e,undo:t,post:i,mustExec:n,type:a=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(n&&e(),c(Pa,this))return;const h={cmd:e,undo:t,post:i,type:a};if(-1===c(Vt,this))return c(Qt,this).length>0&&(c(Qt,this).length=0),x(Vt,this,0),void c(Qt,this).push(h);if(o&&c(Qt,this)[c(Vt,this)].type===a)return l&&(h.undo=c(Qt,this)[c(Vt,this)].undo),void(c(Qt,this)[c(Vt,this)]=h);const f=c(Vt,this)+1;f===c(Af,this)?c(Qt,this).splice(0,1):(x(Vt,this,f),f<c(Qt,this).length&&c(Qt,this).splice(f)),c(Qt,this).push(h)}undo(){if(-1===c(Vt,this))return;x(Pa,this,!0);const{undo:e,post:t}=c(Qt,this)[c(Vt,this)];e(),null==t||t(),x(Pa,this,!1),x(Vt,this,c(Vt,this)-1)}redo(){if(c(Vt,this)<c(Qt,this).length-1){x(Vt,this,c(Vt,this)+1),x(Pa,this,!0);const{cmd:e,post:t}=c(Qt,this)[c(Vt,this)];e(),null==t||t(),x(Pa,this,!1)}}hasSomethingToUndo(){return-1!==c(Vt,this)}hasSomethingToRedo(){return c(Vt,this)<c(Qt,this).length-1}destroy(){x(Qt,this,null)}}var Nm=new WeakSet;class nl{constructor(e){Ie(this,Nm),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=X.platform;for(const[i,n,a={}]of e)for(const o of i){const l=o.startsWith("mac+");t&&l?(this.callbacks.set(o.slice(4),{callback:n,options:a}),this.allKeys.add(o.split("+").at(-1))):!t&&!l&&(this.callbacks.set(o,{callback:n,options:a}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(E(Nm,this,u1).call(this,t));if(!i)return;const{callback:n,options:{bubbles:a=!1,args:o=[],checker:l=null}}=i;l&&!l(e,t)||(n.bind(e,...o,t)(),a||(t.stopPropagation(),t.preventDefault()))}}function u1(s){s.altKey&&this.buffer.push("alt"),s.ctrlKey&&this.buffer.push("ctrl"),s.metaKey&&this.buffer.push("meta"),s.shiftKey&&this.buffer.push("shift"),this.buffer.push(s.key);const e=this.buffer.join("+");return this.buffer.length=0,e}class Sh{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function Y_(s){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of s.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;s.set(t,ff(i))}e.remove()}(e),ze(this,"_colors",e)}convert(e){const t=ff(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,n]of this._colors)if(n.every((a,o)=>a===t[o]))return Sh._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?q.makeHexColor(...t):e}}(0,de.A)(Sh,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let rl=(()=>{var s=new WeakMap,e=new WeakMap,t=new WeakMap,i=new WeakMap,n=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,h=new WeakMap,f=new WeakMap,d=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap,w=new WeakMap,A=new WeakMap,C=new WeakMap,b=new WeakMap,P=new WeakMap,S=new WeakMap,T=new WeakMap,O=new WeakMap,M=new WeakMap,R=new WeakMap,I=new WeakMap,F=new WeakMap,B=new WeakMap,N=new WeakMap,V=new WeakMap,H=new WeakMap,j=new WeakMap,Y=new WeakMap,J=new WeakMap,G=new WeakMap,Z=new WeakMap,ae=new WeakMap,fe=new WeakMap,se=new WeakMap,ee=new WeakMap,Q=new WeakMap,Fe=new WeakMap,oe=new WeakMap,Pe=new WeakMap,we=new WeakMap,st=new WeakMap,ht=new WeakMap,ct=new WeakMap,ue=new WeakSet;class qt{static get _keyboardManager(){const z=qt.prototype,K=ke=>c(ht,ke).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&ke.hasSomethingToControl(),le=(ke,{target:Te})=>{if(Te instanceof HTMLInputElement){const{type:nt}=Te;return"text"!==nt&&"number"!==nt}return!0},he=this.TRANSLATE_SMALL,ge=this.TRANSLATE_BIG;return ze(this,"_keyboardManager",new nl([[["ctrl+a","mac+meta+a"],z.selectAll,{checker:le}],[["ctrl+z","mac+meta+z"],z.undo,{checker:le}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],z.redo,{checker:le}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],z.delete,{checker:le}],[["Enter","mac+Enter"],z.addNewEditorFromKeyboard,{checker:(ke,{target:Te})=>!(Te instanceof HTMLButtonElement)&&c(ht,ke).contains(Te)&&!ke.isEnterHandled}],[[" ","mac+ "],z.addNewEditorFromKeyboard,{checker:(ke,{target:Te})=>!(Te instanceof HTMLButtonElement)&&c(ht,ke).contains(document.activeElement)}],[["Escape","mac+Escape"],z.unselectAll],[["ArrowLeft","mac+ArrowLeft"],z.translateSelectedEditors,{args:[-he,0],checker:K}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],z.translateSelectedEditors,{args:[-ge,0],checker:K}],[["ArrowRight","mac+ArrowRight"],z.translateSelectedEditors,{args:[he,0],checker:K}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],z.translateSelectedEditors,{args:[ge,0],checker:K}],[["ArrowUp","mac+ArrowUp"],z.translateSelectedEditors,{args:[0,-he],checker:K}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],z.translateSelectedEditors,{args:[0,-ge],checker:K}],[["ArrowDown","mac+ArrowDown"],z.translateSelectedEditors,{args:[0,he],checker:K}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],z.translateSelectedEditors,{args:[0,ge],checker:K}]]))}constructor(z,K,le,he,ge,ke,Te,nt,ot,Rt){Ie(this,ue),k(this,s,new AbortController),k(this,e,null),k(this,t,new Map),k(this,i,new Map),k(this,n,null),k(this,a,null),k(this,o,null),k(this,l,new l1),k(this,h,0),k(this,f,new Set),k(this,d,null),k(this,p,null),k(this,m,new Set),k(this,_,!1),k(this,w,!1),k(this,A,null),k(this,C,null),k(this,b,null),k(this,P,!1),k(this,S,null),k(this,T,new o1),k(this,O,!1),k(this,M,!1),k(this,R,null),k(this,I,null),k(this,F,null),k(this,B,Ne.NONE),k(this,N,new Set),k(this,V,null),k(this,H,null),k(this,j,null),k(this,Y,this.blur.bind(this)),k(this,J,this.focus.bind(this)),k(this,G,this.copy.bind(this)),k(this,Z,this.cut.bind(this)),k(this,ae,this.paste.bind(this)),k(this,fe,this.keydown.bind(this)),k(this,se,this.keyup.bind(this)),k(this,ee,this.onEditingAction.bind(this)),k(this,Q,this.onPageChanging.bind(this)),k(this,Fe,this.onScaleChanging.bind(this)),k(this,oe,this.onRotationChanging.bind(this)),k(this,Pe,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),k(this,we,[0,0]),k(this,st,null),k(this,ht,null),k(this,ct,null),this._signal=c(s,this).signal,x(ht,this,z),x(ct,this,K),x(n,this,le),this._eventBus=he,this._eventBus._on("editingaction",c(ee,this)),this._eventBus._on("pagechanging",c(Q,this)),this._eventBus._on("scalechanging",c(Fe,this)),this._eventBus._on("rotationchanging",c(oe,this)),E(ue,this,Xr).call(this),E(ue,this,kC).call(this),E(ue,this,Un).call(this),x(a,this,ge.annotationStorage),x(A,this,ge.filterFactory),x(H,this,ke),x(b,this,Te||null),x(_,this,nt),x(w,this,ot),x(F,this,Rt||null),this.viewParameters={realScale:ws.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){var z,K,le;null===(z=c(s,this))||void 0===z||z.abort(),x(s,this,null),this._signal=null,this._eventBus._off("editingaction",c(ee,this)),this._eventBus._off("pagechanging",c(Q,this)),this._eventBus._off("scalechanging",c(Fe,this)),this._eventBus._off("rotationchanging",c(oe,this));for(const he of c(i,this).values())he.destroy();c(i,this).clear(),c(t,this).clear(),c(m,this).clear(),x(e,this,null),c(N,this).clear(),c(l,this).destroy(),null===(K=c(n,this))||void 0===K||K.destroy(),null===(le=c(S,this))||void 0===le||le.hide(),x(S,this,null),c(C,this)&&(clearTimeout(c(C,this)),x(C,this,null)),c(st,this)&&(clearTimeout(c(st,this)),x(st,this,null))}mlGuess(z){var K=this;return(0,re.A)(function*(){var le;return(null===(le=c(F,K))||void 0===le?void 0:le.guess(z))||null})()}isMLEnabledFor(z){var K=this;return(0,re.A)(function*(){var le;return!!(yield null===(le=c(F,K))||void 0===le?void 0:le.isEnabledFor(z))})()}get useNewAltTextFlow(){return c(w,this)}get hcmFilter(){return ze(this,"hcmFilter",c(H,this)?c(A,this).addHCMFilter(c(H,this).foreground,c(H,this).background):"none")}get direction(){return ze(this,"direction",getComputedStyle(c(ht,this)).direction)}get highlightColors(){return ze(this,"highlightColors",c(b,this)?new Map(c(b,this).split(",").map(z=>z.split("=").map(K=>K.trim()))):null)}get highlightColorNames(){return ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,z=>z.reverse())):null)}setMainHighlightColorPicker(z){x(I,this,z)}editAltText(z){var K;null===(K=c(n,this))||void 0===K||K.editAltText(this,z)}switchToMode(z,K){this._eventBus.on("annotationeditormodechanged",K,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:z})}setPreference(z,K){this._eventBus.dispatch("setpreference",{source:this,name:z,value:K})}onPageChanging({pageNumber:z}){x(h,this,z-1)}focusMainContainer(){c(ht,this).focus()}findParent(z,K){for(const le of c(i,this).values()){const{x:he,y:ge,width:ke,height:Te}=le.div.getBoundingClientRect();if(z>=he&&z<=he+ke&&K>=ge&&K<=ge+Te)return le}return null}disableUserSelect(z=!1){c(ct,this).classList.toggle("noUserSelect",z)}addShouldRescale(z){c(m,this).add(z)}removeShouldRescale(z){c(m,this).delete(z)}onScaleChanging({scale:z}){this.commitOrRemove(),this.viewParameters.realScale=z*ws.PDF_TO_CSS_UNITS;for(const K of c(m,this))K.onScaleChanging()}onRotationChanging({pagesRotation:z}){this.commitOrRemove(),this.viewParameters.rotation=z}highlightSelection(z=""){const K=document.getSelection();if(!K||K.isCollapsed)return;const{anchorNode:le,anchorOffset:he,focusNode:ge,focusOffset:ke}=K,Te=K.toString(),ot=E(ue,this,ds).call(this,K).closest(".textLayer"),Rt=this.getSelectionBoxes(ot);if(!Rt)return;K.empty();const ii=E(ue,this,fs).call(this,ot),Mi=c(B,this)===Ne.NONE,fd=()=>{null==ii||ii.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:z,boxes:Rt,anchorNode:le,anchorOffset:he,focusNode:ge,focusOffset:ke,text:Te}),Mi&&this.showAllEditors("highlight",!0,!0)};Mi?this.switchToMode(Ne.HIGHLIGHT,fd):fd()}addToAnnotationStorage(z){!z.isEmpty()&&c(a,this)&&!c(a,this).has(z.id)&&c(a,this).setValue(z.id,z)}blur(){if(this.isShiftKeyDown=!1,c(P,this)&&(x(P,this,!1),E(ue,this,qi).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:z}=document;for(const K of c(N,this))if(K.div.contains(z)){x(R,this,[K,z]),K._focusEventsAllowed=!1;break}}focus(){if(!c(R,this))return;const[z,K]=c(R,this);x(R,this,null),K.addEventListener("focusin",()=>{z._focusEventsAllowed=!0},{once:!0,signal:this._signal}),K.focus()}addEditListeners(){E(ue,this,Un).call(this),E(ue,this,Yr).call(this)}removeEditListeners(){E(ue,this,hn).call(this),E(ue,this,Xn).call(this)}dragOver(z){for(const{type:K}of z.dataTransfer.items)for(const le of c(p,this))if(le.isHandlingMimeForPasting(K))return z.dataTransfer.dropEffect="copy",void z.preventDefault()}drop(z){for(const K of z.dataTransfer.items)for(const le of c(p,this))if(le.isHandlingMimeForPasting(K.type))return le.paste(K,this.currentLayer),void z.preventDefault()}copy(z){var K;if(z.preventDefault(),null===(K=c(e,this))||void 0===K||K.commitOrRemove(),!this.hasSelection)return;const le=[];for(const he of c(N,this)){const ge=he.serialize(!0);ge&&le.push(ge)}0!==le.length&&z.clipboardData.setData("application/pdfjs",JSON.stringify(le))}cut(z){this.copy(z),this.delete()}paste(z){z.preventDefault();const{clipboardData:K}=z;for(const ge of K.items)for(const ke of c(p,this))if(ke.isHandlingMimeForPasting(ge.type))return void ke.paste(ge,this.currentLayer);let le=K.getData("application/pdfjs");if(!le)return;try{le=JSON.parse(le)}catch(ge){return void De(`paste: "${ge.message}".`)}if(!Array.isArray(le))return;this.unselectAll();const he=this.currentLayer;try{const ge=[];for(const nt of le){const ot=he.deserialize(nt);if(!ot)return;ge.push(ot)}this.addCommands({cmd:()=>{for(const nt of ge)E(ue,this,z_).call(this,nt);E(ue,this,W_).call(this,ge)},undo:()=>{for(const nt of ge)nt.remove()},mustExec:!0})}catch(ge){De(`paste: "${ge.message}".`)}}keydown(z){!this.isShiftKeyDown&&"Shift"===z.key&&(this.isShiftKeyDown=!0),c(B,this)!==Ne.NONE&&!this.isEditorHandlingKeyboard&&qt._keyboardManager.exec(this,z)}keyup(z){this.isShiftKeyDown&&"Shift"===z.key&&(this.isShiftKeyDown=!1,c(P,this)&&(x(P,this,!1),E(ue,this,qi).call(this,"main_toolbar")))}onEditingAction({name:z}){switch(z){case"undo":case"redo":case"delete":case"selectAll":this[z]();break;case"highlightSelection":this.highlightSelection("context_menu")}}setEditingState(z){z?(E(ue,this,Zr).call(this),E(ue,this,Yr).call(this),E(ue,this,Pi).call(this,{isEditing:c(B,this)!==Ne.NONE,isEmpty:E(ue,this,dd).call(this),hasSomethingToUndo:c(l,this).hasSomethingToUndo(),hasSomethingToRedo:c(l,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(ue,this,qr).call(this),E(ue,this,Xn).call(this),E(ue,this,Pi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(z){if(!c(p,this)){x(p,this,z);for(const K of c(p,this))E(ue,this,Kr).call(this,K.defaultPropertiesToUpdate)}}getId(){return c(T,this).id}get currentLayer(){return c(i,this).get(c(h,this))}getLayer(z){return c(i,this).get(z)}get currentPageIndex(){return c(h,this)}addLayer(z){c(i,this).set(z.pageIndex,z),c(O,this)?z.enable():z.disable()}removeLayer(z){c(i,this).delete(z.pageIndex)}updateMode(z,K=null,le=!1){if(c(B,this)!==z){if(x(B,this,z),z===Ne.NONE)return this.setEditingState(!1),void E(ue,this,DC).call(this);this.setEditingState(!0),E(ue,this,TC).call(this),this.unselectAll();for(const he of c(i,this).values())he.updateMode(z);if(!K&&le)return void this.addNewEditorFromKeyboard();if(K)for(const he of c(t,this).values())if(he.annotationElementId===K){this.setSelected(he),he.enterInEditMode();break}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(z){z!==c(B,this)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:z})}updateParams(z,K){var le;if(c(p,this)){switch(z){case Me.CREATE:return void this.currentLayer.addNewEditor();case Me.HIGHLIGHT_DEFAULT_COLOR:null===(le=c(I,this))||void 0===le||le.updateColor(K);break;case Me.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(j,this)||x(j,this,new Map)).set(z,K),this.showAllEditors("highlight",K)}for(const he of c(N,this))he.updateParams(z,K);for(const he of c(p,this))he.updateDefaultParams(z,K)}}showAllEditors(z,K,le=!1){var he,ge;for(const Te of c(t,this).values())Te.editorType===z&&Te.show(K);(null===(he=null===(ge=c(j,this))||void 0===ge?void 0:ge.get(Me.HIGHLIGHT_SHOW_ALL))||void 0===he||he)!==K&&E(ue,this,Kr).call(this,[[Me.HIGHLIGHT_SHOW_ALL,K]])}enableWaiting(z=!1){if(c(M,this)!==z){x(M,this,z);for(const K of c(i,this).values())z?K.disableClick():K.enableClick(),K.div.classList.toggle("waiting",z)}}getEditors(z){const K=[];for(const le of c(t,this).values())le.pageIndex===z&&K.push(le);return K}getEditor(z){return c(t,this).get(z)}addEditor(z){c(t,this).set(z.id,z)}removeEditor(z){var K;z.div.contains(document.activeElement)&&(c(C,this)&&clearTimeout(c(C,this)),x(C,this,setTimeout(()=>{this.focusMainContainer(),x(C,this,null)},0))),c(t,this).delete(z.id),this.unselect(z),z.annotationElementId&&c(f,this).has(z.annotationElementId)||null===(K=c(a,this))||void 0===K||K.remove(z.id)}addDeletedAnnotationElement(z){c(f,this).add(z.annotationElementId),this.addChangedExistingAnnotation(z),z.deleted=!0}isDeletedAnnotationElement(z){return c(f,this).has(z)}removeDeletedAnnotationElement(z){c(f,this).delete(z.annotationElementId),this.removeChangedExistingAnnotation(z),z.deleted=!1}setActiveEditor(z){c(e,this)!==z&&(x(e,this,z),z&&E(ue,this,Kr).call(this,z.propertiesToUpdate))}updateUI(z){Ee(ue,this,FC)===z&&E(ue,this,Kr).call(this,z.propertiesToUpdate)}toggleSelected(z){if(c(N,this).has(z))return c(N,this).delete(z),z.unselect(),void E(ue,this,Pi).call(this,{hasSelectedEditor:this.hasSelection});c(N,this).add(z),z.select(),E(ue,this,Kr).call(this,z.propertiesToUpdate),E(ue,this,Pi).call(this,{hasSelectedEditor:!0})}setSelected(z){for(const K of c(N,this))K!==z&&K.unselect();c(N,this).clear(),c(N,this).add(z),z.select(),E(ue,this,Kr).call(this,z.propertiesToUpdate),E(ue,this,Pi).call(this,{hasSelectedEditor:!0})}isSelected(z){return c(N,this).has(z)}get firstSelectedEditor(){return c(N,this).values().next().value}unselect(z){z.unselect(),c(N,this).delete(z),E(ue,this,Pi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==c(N,this).size}get isEnterHandled(){return 1===c(N,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){c(l,this).undo(),E(ue,this,Pi).call(this,{hasSomethingToUndo:c(l,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(ue,this,dd).call(this)})}redo(){c(l,this).redo(),E(ue,this,Pi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(l,this).hasSomethingToRedo(),isEmpty:E(ue,this,dd).call(this)})}addCommands(z){c(l,this).add(z),E(ue,this,Pi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(ue,this,dd).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const z=[...c(N,this)];this.addCommands({cmd:()=>{for(const he of z)he.remove()},undo:()=>{for(const he of z)E(ue,this,z_).call(this,he)},mustExec:!0})}commitOrRemove(){var z;null===(z=c(e,this))||void 0===z||z.commitOrRemove()}hasSomethingToControl(){return c(e,this)||this.hasSelection}selectAll(){for(const z of c(N,this))z.commit();E(ue,this,W_).call(this,c(t,this).values())}unselectAll(){if((!c(e,this)||(c(e,this).commitOrRemove(),c(B,this)===Ne.NONE))&&this.hasSelection){for(const z of c(N,this))z.unselect();c(N,this).clear(),E(ue,this,Pi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(z,K,le=!1){if(le||this.commitOrRemove(),!this.hasSelection)return;c(we,this)[0]+=z,c(we,this)[1]+=K;const[he,ge]=c(we,this),ke=[...c(N,this)];c(st,this)&&clearTimeout(c(st,this)),x(st,this,setTimeout(()=>{x(st,this,null),c(we,this)[0]=c(we,this)[1]=0,this.addCommands({cmd:()=>{for(const nt of ke)c(t,this).has(nt.id)&&nt.translateInPage(he,ge)},undo:()=>{for(const nt of ke)c(t,this).has(nt.id)&&nt.translateInPage(-he,-ge)},mustExec:!1})},1e3));for(const nt of ke)nt.translateInPage(z,K)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),x(d,this,new Map);for(const z of c(N,this))c(d,this).set(z,{savedX:z.x,savedY:z.y,savedPageIndex:z.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(d,this))return!1;this.disableUserSelect(!1);const z=c(d,this);x(d,this,null);let K=!1;for(const[{x:he,y:ge,pageIndex:ke},Te]of z)Te.newX=he,Te.newY=ge,Te.newPageIndex=ke,K||(K=he!==Te.savedX||ge!==Te.savedY||ke!==Te.savedPageIndex);if(!K)return!1;const le=(he,ge,ke,Te)=>{if(c(t,this).has(he.id)){const nt=c(i,this).get(Te);nt?he._setParentAndPosition(nt,ge,ke):(he.pageIndex=Te,he.x=ge,he.y=ke)}};return this.addCommands({cmd:()=>{for(const[he,{newX:ge,newY:ke,newPageIndex:Te}]of z)le(he,ge,ke,Te)},undo:()=>{for(const[he,{savedX:ge,savedY:ke,savedPageIndex:Te}]of z)le(he,ge,ke,Te)},mustExec:!0}),!0}dragSelectedEditors(z,K){if(c(d,this))for(const le of c(d,this).keys())le.drag(z,K)}rebuild(z){if(null===z.parent){const K=this.getLayer(z.pageIndex);K?(K.changeParent(z),K.addOrRebuild(z)):(this.addEditor(z),this.addToAnnotationStorage(z),z.rebuild())}else z.parent.addOrRebuild(z)}get isEditorHandlingKeyboard(){var z;return(null===(z=this.getActive())||void 0===z?void 0:z.shouldGetKeyboardEvents())||1===c(N,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(z){return c(e,this)===z}getActive(){return c(e,this)}getMode(){return c(B,this)}get imageManager(){return ze(this,"imageManager",new Rm)}getSelectionBoxes(z){if(!z)return null;const K=document.getSelection();for(let ot=0,Rt=K.rangeCount;ot<Rt;ot++)if(!z.contains(K.getRangeAt(ot).commonAncestorContainer))return null;const{x:le,y:he,width:ge,height:ke}=z.getBoundingClientRect();let Te;switch(z.getAttribute("data-main-rotation")){case"90":Te=(ot,Rt,ii,Mi)=>({x:(Rt-he)/ke,y:1-(ot+ii-le)/ge,width:Mi/ke,height:ii/ge});break;case"180":Te=(ot,Rt,ii,Mi)=>({x:1-(ot+ii-le)/ge,y:1-(Rt+Mi-he)/ke,width:ii/ge,height:Mi/ke});break;case"270":Te=(ot,Rt,ii,Mi)=>({x:1-(Rt+Mi-he)/ke,y:(ot-le)/ge,width:Mi/ke,height:ii/ge});break;default:Te=(ot,Rt,ii,Mi)=>({x:(ot-le)/ge,y:(Rt-he)/ke,width:ii/ge,height:Mi/ke})}const nt=[];for(let ot=0,Rt=K.rangeCount;ot<Rt;ot++){const ii=K.getRangeAt(ot);if(!ii.collapsed)for(const{x:Mi,y:fd,width:H_,height:V_}of ii.getClientRects())0===H_||0===V_||nt.push(Te(Mi,fd,H_,V_))}return 0===nt.length?null:nt}addChangedExistingAnnotation({annotationElementId:z,id:K}){(c(o,this)||x(o,this,new Map)).set(z,K)}removeChangedExistingAnnotation({annotationElementId:z}){var K;null===(K=c(o,this))||void 0===K||K.delete(z)}renderAnnotationElement(z){var K;const le=null===(K=c(o,this))||void 0===K?void 0:K.get(z.data.id);if(!le)return;const he=c(a,this).getRawValue(le);he&&(c(B,this)===Ne.NONE&&!he.hasBeenModified||he.renderAnnotationElement(z))}}function ds({anchorNode:ve}){return ve.nodeType===Node.TEXT_NODE?ve.parentElement:ve}function fs(ve){const{currentLayer:z}=this;if(z.hasTextLayer(ve))return z;for(const K of c(i,this).values())if(K.hasTextLayer(ve))return K;return null}function Gn(){const ve=document.getSelection();if(!ve||ve.isCollapsed)return;const K=E(ue,this,ds).call(this,ve).closest(".textLayer"),le=this.getSelectionBoxes(K);le&&(c(S,this)||x(S,this,new i1(this)),c(S,this).show(K,le,"ltr"===this.direction))}function un(){var ve;const z=document.getSelection();var K;if(!z||z.isCollapsed)return void(c(V,this)&&(null===(K=c(S,this))||void 0===K||K.hide(),x(V,this,null),E(ue,this,Pi).call(this,{hasSelectedText:!1})));const{anchorNode:le}=z;if(le===c(V,this))return;const ge=E(ue,this,ds).call(this,z).closest(".textLayer");var ke;if(ge){if(null===(ve=c(S,this))||void 0===ve||ve.hide(),x(V,this,le),E(ue,this,Pi).call(this,{hasSelectedText:!0}),(c(B,this)===Ne.HIGHLIGHT||c(B,this)===Ne.NONE)&&(c(B,this)===Ne.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),x(P,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const Te=c(B,this)===Ne.HIGHLIGHT?E(ue,this,fs).call(this,ge):null;null==Te||Te.toggleDrawing();const nt=this._signal,ot=Rt=>{"pointerup"===Rt.type&&0!==Rt.button||(null==Te||Te.toggleDrawing(!0),window.removeEventListener("pointerup",ot),window.removeEventListener("blur",ot),"pointerup"===Rt.type&&E(ue,this,qi).call(this,"main_toolbar"))};window.addEventListener("pointerup",ot,{signal:nt}),window.addEventListener("blur",ot,{signal:nt})}}else c(V,this)&&(null===(ke=c(S,this))||void 0===ke||ke.hide(),x(V,this,null),E(ue,this,Pi).call(this,{hasSelectedText:!1}))}function qi(ve=""){c(B,this)===Ne.HIGHLIGHT?this.highlightSelection(ve):c(_,this)&&E(ue,this,Gn).call(this)}function Xr(){document.addEventListener("selectionchange",E(ue,this,un).bind(this),{signal:this._signal})}function Zr(){const ve=this._signal;window.addEventListener("focus",c(J,this),{signal:ve}),window.addEventListener("blur",c(Y,this),{signal:ve})}function qr(){window.removeEventListener("focus",c(J,this)),window.removeEventListener("blur",c(Y,this))}function Un(){const ve=this._signal;window.addEventListener("keydown",c(fe,this),{signal:ve}),window.addEventListener("keyup",c(se,this),{signal:ve})}function hn(){window.removeEventListener("keydown",c(fe,this)),window.removeEventListener("keyup",c(se,this))}function Yr(){const ve=this._signal;document.addEventListener("copy",c(G,this),{signal:ve}),document.addEventListener("cut",c(Z,this),{signal:ve}),document.addEventListener("paste",c(ae,this),{signal:ve})}function Xn(){document.removeEventListener("copy",c(G,this)),document.removeEventListener("cut",c(Z,this)),document.removeEventListener("paste",c(ae,this))}function kC(){const ve=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:ve}),document.addEventListener("drop",this.drop.bind(this),{signal:ve})}function Pi(ve){Object.entries(ve).some(([K,le])=>c(Pe,this)[K]!==le)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(Pe,this),ve)}),c(B,this)===Ne.HIGHLIGHT&&!1===ve.hasSelectedEditor&&E(ue,this,Kr).call(this,[[Me.HIGHLIGHT_FREE,!0]]))}function Kr(ve){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:ve})}function TC(){if(!c(O,this)){x(O,this,!0);for(const ve of c(i,this).values())ve.enable();for(const ve of c(t,this).values())ve.enable()}}function DC(){if(this.unselectAll(),c(O,this)){x(O,this,!1);for(const ve of c(i,this).values())ve.disable();for(const ve of c(t,this).values())ve.disable()}}function z_(ve){const z=c(i,this).get(ve.pageIndex);z?z.addOrRebuild(ve):(this.addEditor(ve),this.addToAnnotationStorage(ve))}function FC(ve){let z=null;for(z of c(N,ve));return z}function dd(){if(0===c(t,this).size)return!0;if(1===c(t,this).size)for(const ve of c(t,this).values())return ve.isEmpty();return!1}function W_(ve){for(const z of c(N,this))z.unselect();c(N,this).clear();for(const z of ve)z.isEmpty()||(c(N,this).add(z),z.select());E(ue,this,Pi).call(this,{hasSelectedEditor:this.hasSelection})}return(0,de.A)(qt,"TRANSLATE_SMALL",1),(0,de.A)(qt,"TRANSLATE_BIG",10),qt})(),zm=(()=>{var s,e=new WeakMap,t=new WeakMap,i=new WeakMap,n=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,h=new WeakSet;class f{constructor(_){Ie(this,h),k(this,e,""),k(this,t,!1),k(this,i,null),k(this,n,null),k(this,a,null),k(this,o,!1),k(this,l,null),x(l,this,_)}static initialize(_){f._l10nPromise||(f._l10nPromise=_)}render(){var _=this;return(0,re.A)(function*(){const w=x(i,_,document.createElement("button"));w.className="altText";const A=yield f._l10nPromise.get("pdfjs-editor-alt-text-button-label");w.textContent=A,w.setAttribute("aria-label",A),w.tabIndex="0";const C=c(l,_)._uiManager._signal;w.addEventListener("contextmenu",Ai,{signal:C}),w.addEventListener("pointerdown",P=>P.stopPropagation(),{signal:C});const b=P=>{P.preventDefault(),c(l,_)._uiManager.editAltText(c(l,_))};return w.addEventListener("click",b,{capture:!0,signal:C}),w.addEventListener("keydown",P=>{P.target===w&&"Enter"===P.key&&(x(o,_,!0),b(P))},{signal:C}),yield E(h,_,d).call(_),w})()}finish(){c(i,this)&&(c(i,this).focus({focusVisible:c(o,this)}),x(o,this,!1))}isEmpty(){return!c(e,this)&&!c(t,this)}get data(){return{altText:c(e,this),decorative:c(t,this)}}set data({altText:_,decorative:w}){c(e,this)===_&&c(t,this)===w||(x(e,this,_),x(t,this,w),E(h,this,d).call(this))}toggle(_=!1){c(i,this)&&(!_&&c(a,this)&&(clearTimeout(c(a,this)),x(a,this,null)),c(i,this).disabled=!_)}destroy(){var _;null===(_=c(i,this))||void 0===_||_.remove(),x(i,this,null),x(n,this,null)}}function d(){return p.apply(this,arguments)}function p(){return(p=(0,re.A)(function*(){const m=c(i,this);if(!m)return;var _;if(!c(e,this)&&!c(t,this))return m.classList.remove("done"),void(null===(_=c(n,this))||void 0===_||_.remove());m.classList.add("done"),s._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(C=>{m.setAttribute("aria-label",C)});let w=c(n,this);if(!w){x(n,this,w=document.createElement("span")),w.className="tooltip",w.setAttribute("role","tooltip");const C=w.id=`alt-text-tooltip-${c(l,this).id}`;m.setAttribute("aria-describedby",C);const b=100,P=c(l,this)._uiManager._signal;P.addEventListener("abort",()=>{clearTimeout(c(a,this)),x(a,this,null)},{once:!0}),m.addEventListener("mouseenter",()=>{x(a,this,setTimeout(()=>{x(a,this,null),c(n,this).classList.add("show"),c(l,this)._reportTelemetry({action:"alt_text_tooltip"})},b))},{signal:P}),m.addEventListener("mouseleave",()=>{var S;c(a,this)&&(clearTimeout(c(a,this)),x(a,this,null)),null===(S=c(n,this))||void 0===S||S.classList.remove("show")},{signal:P})}w.innerText=c(t,this)?yield s._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(e,this),w.parentNode||m.append(w);const A=c(l,this).getImageForAltText();null==A||A.setAttribute("aria-describedby",w.id)})).apply(this,arguments)}return s=f,(0,de.A)(f,"_l10nPromise",null),f})();var al=new WeakMap,js=new WeakMap,yi=new WeakMap,Ph=new WeakMap,ol=new WeakMap,li=new WeakMap,ll=new WeakMap,Mh=new WeakMap,kh=new WeakMap,Ei=new WeakMap,yf=new WeakMap,ul=new WeakMap,xn=new WeakMap,Ef=new WeakMap,hl=new WeakMap,Ar=new WeakMap,Sn=new WeakMap,Th=new WeakMap,Dh=new WeakMap,is=new WeakMap,Cf=new WeakMap,Wm=new WeakMap,At=new WeakSet;class Ce{static get _resizerKeyboardManager(){const e=Ce.prototype._resizeWithKeyboard,t=rl.TRANSLATE_SMALL,i=rl.TRANSLATE_BIG;return ze(this,"_resizerKeyboardManager",new nl([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Ce.prototype._stopResizingWithKeyboard]]))}constructor(e){Ie(this,At),k(this,al,null),k(this,js,null),k(this,yi,null),k(this,Ph,!1),k(this,ol,!1),k(this,li,null),k(this,ll,null),k(this,Mh,this.focusin.bind(this)),k(this,kh,this.focusout.bind(this)),k(this,Ei,null),k(this,yf,""),k(this,ul,!1),k(this,xn,null),k(this,Ef,!1),k(this,hl,!1),k(this,Ar,!1),k(this,Sn,null),k(this,Th,0),k(this,Dh,0),k(this,is,null),(0,de.A)(this,"_initialOptions",Object.create(null)),(0,de.A)(this,"_isVisible",!0),(0,de.A)(this,"_uiManager",null),(0,de.A)(this,"_focusEventsAllowed",!0),(0,de.A)(this,"_l10nPromise",null),k(this,Cf,!1),k(this,Wm,Ce._zIndex++),this.constructor===Ce&&Ke("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:n,pageX:a,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,n],this.pageTranslation=[a,o];const[l,h]=this.parentDimensions;this.x=e.x/l,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new m1({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(Ce._l10nPromise||(Ce._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(a=>[a,e.get(a.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),null!=i&&i.strings)for(const a of i.strings)Ce._l10nPromise.set(a,e.get(a));if(-1!==Ce._borderLineWidth)return;const n=getComputedStyle(document.documentElement);Ce._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ke("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(Cf,this)}set _isDraggable(e){var t;x(Cf,this,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(Wm,this)}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):E(At,this,Fh).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(ul,this)?x(ul,this,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=e.relatedTarget;null!=i&&i.closest(`#${this.id}`)||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,n){const[a,o]=this.parentDimensions;[i,n]=this.screenToPageTranslation(i,n),this.x=(e+i)/a,this.y=(t+n)/o,this.fixAndSetPosition()}translate(e,t){E(At,this,Hm).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(xn,this)||x(xn,this,[this.x,this.y]),E(At,this,Hm).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(xn,this)||x(xn,this,[this.x,this.y]);const[i,n]=this.parentDimensions;if(this.x+=e/i,this.y+=t/n,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,h]=this.getBaseTranslation();a+=l,o+=h,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(xn,this)&&(c(xn,this)[0]!==this.x||c(xn,this)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Ce,n=i/e,a=i/t;switch(this.rotation){case 90:return[-n,a];case 180:return[n,a];case 270:return[n,-a];default:return[-n,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:n,y:a,width:o,height:l}=this;if(o*=t,l*=i,n*=t,a*=i,this._mustFixPosition)switch(e){case 0:n=Math.max(0,Math.min(t-o,n)),a=Math.max(0,Math.min(i-l,a));break;case 90:n=Math.max(0,Math.min(t-l,n)),a=Math.min(i,Math.max(o,a));break;case 180:n=Math.min(t,Math.max(o,n)),a=Math.min(i,Math.max(l,a));break;case 270:n=Math.min(t,Math.max(l,n)),a=Math.max(0,Math.min(i-o,a))}this.x=n/=t,this.y=a/=i;const[h,f]=this.getBaseTranslation();n+=h,a+=f;const{style:d}=this.div;d.left=`${(100*n).toFixed(2)}%`,d.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){return Vm.call(Ce,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Vm.call(Ce,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this,n=t*e,a=i*e;return X.isCSSRoundSupported?[Math.round(n),Math.round(a)]:[n,a]}setDims(e,t){const[i,n]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,c(ol,this)||(this.div.style.height=`${(100*t/n).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,n=i.endsWith("%"),a=!c(ol,this)&&t.endsWith("%");if(n&&a)return;const[o,l]=this.parentDimensions;n||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!c(ol,this)&&!a&&(e.height=`${(100*parseFloat(t)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;null===(e=c(yi,this))||void 0===e||e.finish()}addEditToolbar(){var e=this;return(0,re.A)(function*(){return c(Ei,e)||c(hl,e)||(x(Ei,e,new K_(e)),e.div.append(c(Ei,e).render()),c(yi,e)&&c(Ei,e).addAltTextButton(yield c(yi,e).render())),c(Ei,e)})()}removeEditToolbar(){var e;c(Ei,this)&&(c(Ei,this).remove(),x(Ei,this,null),null===(e=c(yi,this))||void 0===e||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){var e=this;return(0,re.A)(function*(){c(yi,e)||(zm.initialize(Ce._l10nPromise),x(yi,e,new zm(e)),c(al,e)&&(c(yi,e).data=c(al,e),x(al,e,null)),yield e.addEditToolbar())})()}get altTextData(){var e;return null===(e=c(yi,this))||void 0===e?void 0:e.data}set altTextData(e){c(yi,this)&&(c(yi,this).data=e)}hasAltText(){var e;return!(null!==(e=c(yi,this))&&void 0!==e&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(Ph,this)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",c(Mh,this),{signal:e}),this.div.addEventListener("focusout",c(kh,this),{signal:e});const[t,i]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*i/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[n,a]=this.getInitialTranslation();return this.translate(n,a),xh(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=X.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(x(ul,this,!0),this._isDraggable?E(At,this,d1).call(this,e):E(At,this,Um).call(this,e))}moveInDOM(){c(Sn,this)&&clearTimeout(c(Sn,this)),x(Sn,this,setTimeout(()=>{var e;x(Sn,this,null),null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const n=this.parentScale,[a,o]=this.pageDimensions,[l,h]=this.pageTranslation,f=e/n,d=t/n,p=this.x*a,m=this.y*o,_=this.width*a,w=this.height*o;switch(i){case 0:return[p+f+l,o-m-d-w+h,p+f+_+l,o-m-d+h];case 90:return[p+d+l,o-m+f+h,p+d+w+l,o-m+f+_+h];case 180:return[p-f-_+l,o-m+d+h,p-f+l,o-m+d+w+h];case 270:return[p-d-w+l,o-m-f-_+h,p-d+l,o-m-f+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,n,a,o]=e,l=a-i,h=o-n;switch(this.rotation){case 0:return[i,t-o,l,h];case 90:return[i,t-n,h,l];case 180:return[a,t-n,l,h];case 270:return[a,t-o,h,l];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){x(hl,this,!0)}disableEditMode(){x(hl,this,!1)}isInEditMode(){return c(hl,this)}shouldGetKeyboardEvents(){return c(Ar,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;const i=this._uiManager._signal;null===(e=this.div)||void 0===e||e.addEventListener("focusin",c(Mh,this),{signal:i}),null===(t=this.div)||void 0===t||t.addEventListener("focusout",c(kh,this),{signal:i})}rotate(e){}serialize(e=!1,t=null){Ke("An editor must be serializable")}static deserialize(e,t,i){const n=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});n.rotation=e.rotation,x(al,n,e.accessibilityData);const[a,o]=n.pageDimensions,[l,h,f,d]=n.getRectInCurrentCoords(e.rect,o);return n.x=l/a,n.y=h/o,n.width=f/a,n.height=d/o,n}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.div.removeEventListener("focusin",c(Mh,this)),this.div.removeEventListener("focusout",c(kh,this)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(Sn,this)&&(clearTimeout(c(Sn,this)),x(Sn,this,null)),E(At,this,Fh).call(this),this.removeEditToolbar(),c(is,this)){for(const e of c(is,this).values())clearTimeout(e);x(is,this,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(At,this,h1).call(this),c(li,this).classList.remove("hidden"),xh(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),x(ll,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(li,this).children;if(!c(js,this)){x(js,this,Array.from(t));const o=E(At,this,f1).bind(this),l=E(At,this,p1).bind(this),h=this._uiManager._signal;for(const f of c(js,this)){const d=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",o,{signal:h}),f.addEventListener("blur",l,{signal:h}),f.addEventListener("focus",E(At,this,g1).bind(this,d),{signal:h}),Ce._l10nPromise.get(`pdfjs-editor-resizer-label-${d}`).then(p=>f.setAttribute("aria-label",p))}}const i=c(js,this)[0];let n=0;for(const o of t){if(o===i)break;n++}const a=(360-this.rotation+this.parentRotation)%360/90*(c(js,this).length/4);if(a!==n){if(a<n)for(let l=0;l<n-a;l++)c(li,this).append(c(li,this).firstChild);else if(a>n)for(let l=0;l<a-n;l++)c(li,this).firstChild.before(c(li,this).lastChild);let o=0;for(const l of t){const f=c(js,this)[o++].getAttribute("data-resizer-name");Ce._l10nPromise.get(`pdfjs-editor-resizer-label-${f}`).then(d=>l.setAttribute("aria-label",d))}}E(At,this,Xm).call(this,0),x(Ar,this,!0),c(li,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(Ar,this)&&E(At,this,Gm).call(this,c(yf,this),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){E(At,this,Fh).call(this),this.div.focus()}select(){var e,t;this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor"),c(Ei,this)?null===(t=c(Ei,this))||void 0===t||t.show():this.addEditToolbar().then(()=>{var i,n;null!==(i=this.div)&&void 0!==i&&i.classList.contains("selectedEditor")&&(null===(n=c(Ei,this))||void 0===n||n.show())})}unselect(){var e,t,i,n;null===(e=c(li,this))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(i=this.div)&&void 0!==i&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(n=c(Ei,this))||void 0===n||n.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(Ef,this)}set isEditing(e){x(Ef,this,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){x(ol,this,!0);const i=e/t,{style:n}=this.div;n.aspectRatio=i,n.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(is,this)||x(is,this,new Map);const{action:i}=e;let n=c(is,this).get(i);return n&&clearTimeout(n),n=setTimeout(()=>{this._reportTelemetry(e),c(is,this).delete(i),0===c(is,this).size&&x(is,this,null)},Ce._telemetryTimeout),void c(is,this).set(i,n)}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),x(Ph,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),x(Ph,this,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===t.nodeName&&t.classList.contains("annotationContent")&&t.remove()}}function Hm([s,e],t,i){[t,i]=this.screenToPageTranslation(t,i),this.x+=t/s,this.y+=i/e,this.fixAndSetPosition()}function Vm(s,e,t){switch(t){case 90:return[e,-s];case 180:return[-s,-e];case 270:return[-e,s];default:return[s,e]}}function $m(s){switch(s){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function h1(){if(c(li,this))return;x(li,this,document.createElement("div")),c(li,this).classList.add("resizers");const s=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const t of s){const i=document.createElement("div");c(li,this).append(i),i.classList.add("resizer",t),i.setAttribute("data-resizer-name",t),i.addEventListener("pointerdown",E(At,this,c1).bind(this,t),{signal:e}),i.addEventListener("contextmenu",Ai,{signal:e}),i.tabIndex=-1}this.div.prepend(c(li,this))}function c1(s,e){var t;e.preventDefault();const{isMac:i}=X.platform;if(0!==e.button||e.ctrlKey&&i)return;null===(t=c(yi,this))||void 0===t||t.toggle(!1);const n=E(At,this,Gm).bind(this,s),a=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,l={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",n,l),window.addEventListener("contextmenu",Ai,{signal:o});const h=this.x,f=this.y,d=this.width,p=this.height,m=this.parent.div.style.cursor,_=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const w=()=>{var A;this.parent.togglePointerEvents(!0),null===(A=c(yi,this))||void 0===A||A.toggle(!0),this._isDraggable=a,window.removeEventListener("pointerup",w),window.removeEventListener("blur",w),window.removeEventListener("pointermove",n,l),window.removeEventListener("contextmenu",Ai),this.parent.div.style.cursor=m,this.div.style.cursor=_,E(At,this,jm).call(this,h,f,d,p)};window.addEventListener("pointerup",w,{signal:o}),window.addEventListener("blur",w,{signal:o})}function jm(s,e,t,i){const n=this.x,a=this.y,o=this.width,l=this.height;n===s&&a===e&&o===t&&l===i||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=n,this.y=a;const[h,f]=this.parentDimensions;this.setDims(h*o,f*l),this.fixAndSetPosition()},undo:()=>{this.width=t,this.height=i,this.x=s,this.y=e;const[h,f]=this.parentDimensions;this.setDims(h*t,f*i),this.fixAndSetPosition()},mustExec:!0})}function Gm(s,e){const[t,i]=this.parentDimensions,n=this.x,a=this.y,o=this.width,l=this.height,h=vi.MIN_SIZE/t,f=vi.MIN_SIZE/i,d=J=>Math.round(1e4*J)/1e4,p=E(At,this,$m).call(this,this.rotation),m=(J,G)=>[p[0]*J+p[2]*G,p[1]*J+p[3]*G],_=E(At,this,$m).call(this,360-this.rotation);let A,C,b=!1,P=!1;switch(s){case"topLeft":b=!0,A=(J,G)=>[0,0],C=(J,G)=>[J,G];break;case"topMiddle":A=(J,G)=>[J/2,0],C=(J,G)=>[J/2,G];break;case"topRight":b=!0,A=(J,G)=>[J,0],C=(J,G)=>[0,G];break;case"middleRight":P=!0,A=(J,G)=>[J,G/2],C=(J,G)=>[0,G/2];break;case"bottomRight":b=!0,A=(J,G)=>[J,G],C=(J,G)=>[0,0];break;case"bottomMiddle":A=(J,G)=>[J/2,G],C=(J,G)=>[J/2,0];break;case"bottomLeft":b=!0,A=(J,G)=>[0,G],C=(J,G)=>[J,0];break;case"middleLeft":P=!0,A=(J,G)=>[0,G/2],C=(J,G)=>[J,G/2]}const S=A(o,l),T=C(o,l);let O=m(...T);const M=d(n+O[0]),R=d(a+O[1]);let I=1,F=1,[B,N]=this.screenToPageTranslation(e.movementX,e.movementY);if([B,N]=[_[0]*(J=B/t)+_[2]*(G=N/i),_[1]*J+_[3]*G],b){const J=Math.hypot(o,l);I=F=Math.max(Math.min(Math.hypot(T[0]-S[0]-B,T[1]-S[1]-N)/J,1/o,1/l),h/o,f/l)}else P?I=Math.max(h,Math.min(1,Math.abs(T[0]-S[0]-B)))/o:F=Math.max(f,Math.min(1,Math.abs(T[1]-S[1]-N)))/l;var J,G;const V=d(o*I),H=d(l*F);O=m(...C(V,H));const j=M-O[0],Y=R-O[1];this.width=V,this.height=H,this.x=j,this.y=Y,this.setDims(t*V,i*H),this.fixAndSetPosition()}function Um(s){const{isMac:e}=X.platform;s.ctrlKey&&!e||s.shiftKey||s.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}function d1(s){const e=this._uiManager.isSelected(this);let t,i;this._uiManager.setUpDragSession();const n=this._uiManager._signal;e&&(this.div.classList.add("moving"),t={passive:!0,capture:!0,signal:n},x(Th,this,s.clientX),x(Dh,this,s.clientY),i=o=>{const{clientX:l,clientY:h}=o,[f,d]=this.screenToPageTranslation(l-c(Th,this),h-c(Dh,this));x(Th,this,l),x(Dh,this,h),this._uiManager.dragSelectedEditors(f,d)},window.addEventListener("pointermove",i,t));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),e&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,t)),x(ul,this,!1),this._uiManager.endDragSession()||E(At,this,Um).call(this,s)};window.addEventListener("pointerup",a,{signal:n}),window.addEventListener("blur",a,{signal:n})}function f1(s){vi._resizerKeyboardManager.exec(this,s)}function p1(s){var e;c(Ar,this)&&(null===(e=s.relatedTarget)||void 0===e?void 0:e.parentNode)!==c(li,this)&&E(At,this,Fh).call(this)}function g1(s){x(yf,this,c(Ar,this)?s:"")}function Xm(s){if(c(js,this))for(const e of c(js,this))e.tabIndex=s}function Fh(){if(x(Ar,this,!1),E(At,this,Xm).call(this,-1),c(ll,this)){const{savedX:s,savedY:e,savedWidth:t,savedHeight:i}=c(ll,this);E(At,this,jm).call(this,s,e,t,i),x(ll,this,null)}}vi=Ce,(0,de.A)(Ce,"_borderLineWidth",-1),(0,de.A)(Ce,"_colorManager",new Sh),(0,de.A)(Ce,"_zIndex",1),(0,de.A)(Ce,"_telemetryTimeout",1e3);class m1 extends Ce{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Zm=3285377520,ji=4294901760,bs=65535;class qm{constructor(e){this.h1=e?4294967295&e:Zm,this.h2=e?4294967295&e:Zm}update(e){let t,i;if("string"==typeof e){t=new Uint8Array(2*e.length),i=0;for(let A=0,C=e.length;A<C;A++){const b=e.charCodeAt(A);b<=255?t[i++]=b:(t[i++]=b>>>8,t[i++]=255&b)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),i=t.byteLength}const n=i>>2,a=i-4*n,o=new Uint32Array(t.buffer,0,n);let l=0,h=0,f=this.h1,d=this.h2;const p=3432918353,m=461845907,_=p&bs,w=m&bs;for(let A=0;A<n;A++)1&A?(l=o[A],l=l*p&ji|l*_&bs,l=l<<15|l>>>17,l=l*m&ji|l*w&bs,f^=l,f=f<<13|f>>>19,f=5*f+3864292196):(h=o[A],h=h*p&ji|h*_&bs,h=h<<15|h>>>17,h=h*m&ji|h*w&bs,d^=h,d=d<<13|d>>>19,d=5*d+3864292196);switch(l=0,a){case 3:l^=t[4*n+2]<<16;case 2:l^=t[4*n+1]<<8;case 1:l^=t[4*n],l=l*p&ji|l*_&bs,l=l<<15|l>>>17,l=l*m&ji|l*w&bs,1&n?f^=l:d^=l}this.h1=f,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&ji|36045*e&bs,t=4283543511*t&ji|(2950163797*(t<<16|e>>>16)&ji)>>>16,e^=t>>>1,e=444984403*e&ji|60499*e&bs,t=3301882366*t&ji|(3120437893*(t<<16|e>>>16)&ji)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const xf=Object.freeze({map:null,hash:"",transfer:void 0});var cl=new WeakMap,dl=new WeakMap,Jt=new WeakMap,Ym=new WeakSet;class Sf{constructor(){Ie(this,Ym),k(this,cl,!1),k(this,dl,null),k(this,Jt,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=c(Jt,this).get(e);return void 0===i?t:Object.assign(t,i)}getRawValue(e){return c(Jt,this).get(e)}remove(e){if(c(Jt,this).delete(e),0===c(Jt,this).size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const t of c(Jt,this).values())if(t instanceof Ce)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=c(Jt,this).get(e);let n=!1;if(void 0!==i)for(const[a,o]of Object.entries(t))i[a]!==o&&(n=!0,i[a]=o);else n=!0,c(Jt,this).set(e,t);n&&E(Ym,this,v1).call(this),t instanceof Ce&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(Jt,this).has(e)}getAll(){return c(Jt,this).size>0?D(c(Jt,this)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return c(Jt,this).size}resetModified(){c(cl,this)&&(x(cl,this,!1),"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new Km(this)}get serializable(){if(0===c(Jt,this).size)return xf;const e=new Map,t=new qm,i=[],n=Object.create(null);let a=!1;for(const[o,l]of c(Jt,this)){const h=l instanceof Ce?l.serialize(!1,n):l;h&&(e.set(o,h),t.update(`${o}:${JSON.stringify(h)}`),a||(a=!!h.bitmap))}if(a)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:xf}get editorStats(){let e=null;const t=new Map;for(const a of c(Jt,this).values()){var i;if(!(a instanceof Ce))continue;const o=a.telemetryFinalData;if(!o)continue;const{type:l}=o;t.has(l)||t.set(l,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const h=(i=e)[l]||(i[l]=new Map);for(const[f,d]of Object.entries(o)){var n;if("type"===f)continue;let p=h.get(f);p||(p=new Map,h.set(f,p));const m=null!==(n=p.get(d))&&void 0!==n?n:0;p.set(d,m+1)}}for(const[a,o]of t)e[a]=o.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){x(dl,this,null)}get modifiedIds(){if(c(dl,this))return c(dl,this);const e=[];for(const t of c(Jt,this).values())!(t instanceof Ce)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return x(dl,this,{ids:new Set(e),hash:e.join(",")})}}function v1(){c(cl,this)||(x(cl,this,!0),"function"==typeof this.onSetModified&&this.onSetModified())}var Pf=new WeakMap;class Km extends Sf{constructor(e){super(),k(this,Pf,void 0);const{map:t,hash:i,transfer:n}=e.serializable,a=structuredClone(t,n?{transfer:n}:null);x(Pf,this,{map:a,hash:i,transfer:n})}get print(){Ke("Should not call PrintAnnotationStorage.print")}get serializable(){return c(Pf,this)}get modifiedIds(){return ze(this,"modifiedIds",{ids:new Set,hash:""})}}var Lh=new WeakMap;class _1{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){k(this,Lh,new Set),this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(Lh,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont({systemFontInfo:e,_inspectFont:t}){var i=this;return(0,re.A)(function*(){if(e&&!c(Lh,i).has(e.loadedName)){if(xt(!i.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),i.isFontLoadingAPISupported){const{loadedName:n,src:a,style:o}=e,l=new FontFace(n,a,o);i.addNativeFontFace(l);try{yield l.load(),c(Lh,i).add(n),null==t||t(e)}catch{De(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),i.removeNativeFontFace(l)}return}Ke("Not implemented: loadSystemFont without the Font Loading API.")}})()}bind(e){var t=this;return(0,re.A)(function*(){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void(yield t.loadSystemFont(e));if(t.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){t.addNativeFontFace(n);try{yield n.loaded}catch(a){throw De(`Failed to load font '${n.family}': '${a}'.`),e.disableFontFace=!0,a}}return}const i=e.createFontFaceRule();if(i){if(t.insertRule(i),t.isSyncFontLoadingSupported)return;yield new Promise(n=>{const a=t._queueLoadingCallback(n);t._prepareFontLoadEvent(e,a)})}})()}get isFontLoadingAPISupported(){var e;return ze(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}get isSyncFontLoadingSupported(){var e;let t=!1;return(Mt||typeof navigator<"u"&&"string"==typeof(null===(e=navigator)||void 0===e?void 0:e.userAgent)&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),ze(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(e){const{loadingRequests:i}=this,n={done:!1,complete:function t(){for(xt(!n.done,"completeRequest() cannot be called twice."),n.done=!0;i.length>0&&i[0].done;){const a=i.shift();setTimeout(a.callback,0)}},callback:e};return i.push(n),n}get _loadTestFont(){return ze(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function i(T,O){return T.charCodeAt(O)<<24|T.charCodeAt(O+1)<<16|T.charCodeAt(O+2)<<8|255&T.charCodeAt(O+3)}function n(T,O,M,R){return T.substring(0,O)+R+T.substring(O+M)}let a,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const h=l.getContext("2d");let f=0;const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=n(m,976,p.length,p);const A=1482184792;let C=i(m,16);for(a=0,o=p.length-3;a<o;a+=4)C=C-A+i(p,a)|0;a<p.length&&(C=C-A+i(p+"XXX",a)|0),m=n(m,16,4,function v(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s)}(C));const b=`url(data:font/opentype;base64,${btoa(m)});`;this.insertRule(`@font-face {font-family:"${p}";src:${b}}`);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const T of[e.loadedName,p]){const O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=T,S.append(O)}this._document.body.append(S),function d(T,O){if(++f>30)return De("Load test font never loaded."),void O();h.font="30px "+T,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0?O():setTimeout(d.bind(null,T,O))}(p,()=>{S.remove(),t.complete()})}}class w1{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this.disableFontFace=!0===t,this._inspectFont=i}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t=u(this.data),i=`url(data:${this.mimetype};base64,${btoa(t)});`;let n;if(this.cssFontInfo){let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${i}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${i}}`;return null===(e=this._inspectFont)||void 0===e||e.call(this,this,i),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(a){De(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(i)||0===i.length)return this.compiledGlyphs[t]=function(a,o){};const n=[];for(let a=0,o=i.length;a<o;)switch(i[a++]){case 0:{const[l,h,f,d,p,m]=i.slice(a,a+6);n.push(_=>_.bezierCurveTo(l,h,f,d,p,m)),a+=6}break;case 1:{const[l,h]=i.slice(a,a+2);n.push(f=>f.moveTo(l,h)),a+=2}break;case 2:{const[l,h]=i.slice(a,a+2);n.push(f=>f.lineTo(l,h)),a+=2}break;case 3:{const[l,h,f,d]=i.slice(a,a+4);n.push(p=>p.quadraticCurveTo(l,h,f,d)),a+=4}break;case 4:n.push(l=>l.restore());break;case 5:n.push(l=>l.save());break;case 6:xt(2===n.length,"Scale command is only valid at the third position.");break;case 7:{const[l,h,f,d,p,m]=i.slice(a,a+6);n.push(_=>_.transform(l,h,f,d,p,m)),a+=6}break;case 8:{const[l,h]=i.slice(a,a+2);n.push(f=>f.translate(l,h)),a+=2}}return this.compiledGlyphs[t]=function(o,l){n[0](o),n[1](o),o.scale(l,-l);for(let h=2,f=n.length;h<f;h++)n[h](o)}}}if(Mt){var Mf=Promise.withResolvers(),kf=null;(function(){var e=(0,re.A)(function*(){const t=yield import("fs"),i=yield import("http"),n=yield import("https"),a=yield import("url");return new Map(Object.entries({fs:t,http:i,https:n,url:a,canvas:void 0,path2d:void 0}))});return function(){return e.apply(this,arguments)}})()().then(e=>{kf=e,Mf.resolve()},e=>{De(`loadPackages: ${e}`),kf=new Map,Mf.resolve()})}class As{static get promise(){return Mf.promise}static get(e){var t;return null===(t=kf)||void 0===t?void 0:t.get(e)}}const Qm=function(s){return As.get("fs").promises.readFile(s).then(t=>new Uint8Array(t))};function Tf(s,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],n=new Path2D;n.rect(e[0],e[1],t,i),s.clip(n)}class fl{constructor(){this.constructor===fl&&Ke("Cannot initialize BaseShadingPattern.")}getPattern(){Ke("Abstract method `getPattern` called.")}}class C1 extends fl{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,n){let a;if("Stroke"===n||"Fill"===n){const o=t.current.getClippedPathBoundingBox(n,bt(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,h=Math.ceil(o[3]-o[1])||1,f=t.cachedCanvases.getCanvas("pattern",l,h,!0),d=f.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),i=q.transform(i,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),Tf(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),a=e.createPattern(f.canvas,"no-repeat");const p=new DOMMatrix(i);a.setTransform(p)}else Tf(e,this._bbox),a=this._createGradient(e);return a}}function Df(s,e,t,i,n,a,o,l){const h=e.coords,f=e.colors,d=s.data,p=4*s.width;let m;h[t+1]>h[i+1]&&(m=t,t=i,i=m,m=a,a=o,o=m),h[i+1]>h[n+1]&&(m=i,i=n,n=m,m=o,o=l,l=m),h[t+1]>h[i+1]&&(m=t,t=i,i=m,m=a,a=o,o=m);const _=(h[t]+e.offsetX)*e.scaleX,w=(h[t+1]+e.offsetY)*e.scaleY,A=(h[i]+e.offsetX)*e.scaleX,C=(h[i+1]+e.offsetY)*e.scaleY,b=(h[n]+e.offsetX)*e.scaleX,P=(h[n+1]+e.offsetY)*e.scaleY;if(w>=P)return;const S=f[a],T=f[a+1],O=f[a+2],M=f[o],R=f[o+1],I=f[o+2],F=f[l],B=f[l+1],N=f[l+2],V=Math.round(w),H=Math.round(P);let j,Y,J,G,Z,ae,fe,se;for(let ee=V;ee<=H;ee++){if(ee<C){const we=ee<w?0:(w-ee)/(w-C);j=_-(_-A)*we,Y=S-(S-M)*we,J=T-(T-R)*we,G=O-(O-I)*we}else{let we;we=ee>P?1:C===P?0:(C-ee)/(C-P),j=A-(A-b)*we,Y=M-(M-F)*we,J=R-(R-B)*we,G=I-(I-N)*we}let Q;Q=ee<w?0:ee>P?1:(w-ee)/(w-P),Z=_-(_-b)*Q,ae=S-(S-F)*Q,fe=T-(T-B)*Q,se=O-(O-N)*Q;const Fe=Math.round(Math.min(j,Z)),oe=Math.round(Math.max(j,Z));let Pe=p*ee+4*Fe;for(let we=Fe;we<=oe;we++)Q=(j-we)/(j-Z),Q<0?Q=0:Q>1&&(Q=1),d[Pe++]=Y-(Y-ae)*Q|0,d[Pe++]=J-(J-fe)*Q|0,d[Pe++]=G-(G-se)*Q|0,d[Pe++]=255}}function x1(s,e,t){const i=e.coords,n=e.colors;let a,o;switch(e.type){case"lattice":const l=e.verticesPerRow,h=Math.floor(i.length/l)-1,f=l-1;for(a=0;a<h;a++){let d=a*l;for(let p=0;p<f;p++,d++)Df(s,t,i[d],i[d+1],i[d+l],n[d],n[d+1],n[d+l]),Df(s,t,i[d+l+1],i[d+1],i[d+l],n[d+l+1],n[d+1],n[d+l])}break;case"triangles":for(a=0,o=i.length;a<o;a+=3)Df(s,t,i[a],i[a+1],i[a+2],n[a],n[a+1],n[a+2]);break;default:throw new Error("illegal figure")}}class S1 extends fl{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const l=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-l,d=Math.ceil(this._bounds[3])-h,p=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),_=f/p,w=d/m,A={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-h,scaleX:1/_,scaleY:1/w},P=i.getCanvas("mesh",p+4,m+4,!1),S=P.context,T=S.createImageData(p,m);if(t){const M=T.data;for(let R=0,I=M.length;R<I;R+=4)M[R]=t[0],M[R+1]=t[1],M[R+2]=t[2],M[R+3]=255}for(const M of this._figures)x1(T,M,A);return S.putImageData(T,2,2),{canvas:P.canvas,offsetX:l-2*_,offsetY:h-2*w,scaleX:_,scaleY:w}}getPattern(e,t,i,n){let a;if(Tf(e,this._bbox),"Shading"===n)a=q.singularValueDecompose2dScale(bt(e));else if(a=q.singularValueDecompose2dScale(t.baseTransform),this.matrix){const l=q.singularValueDecompose2dScale(this.matrix);a=[a[0]*l[0],a[1]*l[1]]}const o=this._createMeshCanvas(a,"Shading"===n?null:this._background,t.cachedCanvases);return"Shading"!==n&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class P1 extends fl{getPattern(){return"hotpink"}}let k1=(()=>{class s{constructor(t,i,n,a,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=i,this.ctx=n,this.canvasGraphicsFactory=a,this.baseTransform=o}createPatternCanvas(t){const i=this.operatorList,n=this.bbox,a=this.xstep,o=this.ystep,l=this.paintType,f=this.color,d=this.canvasGraphicsFactory;Ws("TilingType: "+this.tilingType);const p=n[0],m=n[1],_=n[2],w=n[3],A=q.singularValueDecompose2dScale(this.matrix),C=q.singularValueDecompose2dScale(this.baseTransform),b=[A[0]*C[0],A[1]*C[1]],P=this.getSizeAndScale(a,this.ctx.canvas.width,b[0]),S=this.getSizeAndScale(o,this.ctx.canvas.height,b[1]),T=t.cachedCanvases.getCanvas("pattern",P.size,S.size,!0),O=T.context,M=d.createCanvasGraphics(O);M.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(M,l,f);let R=p,I=m,F=_,B=w;return p<0&&(R=0,F+=Math.abs(p)),m<0&&(I=0,B+=Math.abs(m)),O.translate(-P.scale*R,-S.scale*I),M.transform(P.scale,0,0,S.scale,0,0),O.save(),this.clipBbox(M,R,I,F,B),M.baseTransform=bt(M.ctx),M.executeOperatorList(i),M.endDrawing(),{canvas:T.canvas,scaleX:P.scale,scaleY:S.scale,offsetX:R,offsetY:I}}getSizeAndScale(t,i,n){t=Math.abs(t);const a=Math.max(s.MAX_PATTERN_SIZE,i);let o=Math.ceil(t*n);return o>=a?o=a:n=o/t,{scale:n,size:o}}clipBbox(t,i,n,a,o){t.ctx.rect(i,n,a-i,o-n),t.current.updateRectMinMax(bt(t.ctx),[i,n,a,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,i,n){const a=t.ctx,o=t.current;switch(i){case 1:const l=this.ctx;a.fillStyle=l.fillStyle,a.strokeStyle=l.strokeStyle,o.fillColor=l.fillStyle,o.strokeColor=l.strokeStyle;break;case 2:const h=q.makeHexColor(n[0],n[1],n[2]);a.fillStyle=h,a.strokeStyle=h,o.fillColor=h,o.strokeColor=h;break;default:throw new nf(`Unsupported paint type: ${i}`)}}getPattern(t,i,n,a){let o=n;"Shading"!==a&&(o=q.transform(o,i.baseTransform),this.matrix&&(o=q.transform(o,this.matrix)));const l=this.createPatternCanvas(i);let h=new DOMMatrix(o);h=h.translate(l.offsetX,l.offsetY),h=h.scale(1/l.scaleX,1/l.scaleY);const f=t.createPattern(l.canvas,"repeat");return f.setTransform(h),f}}return(0,de.A)(s,"MAX_PATTERN_SIZE",3e3),s})();function e0({src:s,srcPos:e=0,dest:t,width:i,height:n,nonBlackColor:a=4294967295,inverseDecode:o=!1}){const l=X.isLittleEndian?4278190080:255,[h,f]=o?[a,l]:[l,a],d=i>>3,p=7&i,m=s.length;t=new Uint32Array(t.buffer);let _=0;for(let w=0;w<n;w++){for(const C=e+d;e<C;e++){const b=e<m?s[e]:255;t[_++]=128&b?f:h,t[_++]=64&b?f:h,t[_++]=32&b?f:h,t[_++]=16&b?f:h,t[_++]=8&b?f:h,t[_++]=4&b?f:h,t[_++]=2&b?f:h,t[_++]=1&b?f:h}if(0===p)continue;const A=e<m?s[e++]:255;for(let C=0;C<p;C++)t[_++]=A&1<<7-C?f:h}return{srcPos:e,destPos:_}}class L1{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let n;return void 0!==this.cache[e]?(n=this.cache[e],this.canvasFactory.reset(n,t,i)):(n=this.canvasFactory.create(t,i),this.cache[e]=n),n}delete(e){delete this.cache[e]}clear(){for(const e in this.cache)this.canvasFactory.destroy(this.cache[e]),delete this.cache[e]}}function Ih(s,e,t,i,n,a,o,l,h,f){const[d,p,m,_,w,A]=bt(s);if(0===p&&0===m){const S=Math.round(o*d+w),O=Math.round(l*_+A),R=Math.abs(Math.round((o+h)*d+w)-S)||1,F=Math.abs(Math.round((l+f)*_+A)-O)||1;return s.setTransform(Math.sign(d),0,0,Math.sign(_),S,O),s.drawImage(e,t,i,n,a,0,0,R,F),s.setTransform(d,p,m,_,w,A),[R,F]}if(0===d&&0===_){const S=Math.round(l*m+w),O=Math.round(o*p+A),R=Math.abs(Math.round((l+f)*m+w)-S)||1,F=Math.abs(Math.round((o+h)*p+A)-O)||1;return s.setTransform(0,Math.sign(p),Math.sign(m),0,S,O),s.drawImage(e,t,i,n,a,0,0,F,R),s.setTransform(d,p,m,_,w,A),[F,R]}return s.drawImage(e,t,i,n,a,o,l,h,f),[Math.hypot(d,p)*h,Math.hypot(m,_)*f]}class a0{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=zs,this.textMatrixScale=1,this.fontMatrix=An,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=0,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=q.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=q.applyTransform(t,e),n=q.applyTransform(t.slice(2),e),a=q.applyTransform([t[0],t[3]],e),o=q.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],n[0],a[0],o[0]),this.minY=Math.min(this.minY,i[1],n[1],a[1],o[1]),this.maxX=Math.max(this.maxX,i[0],n[0],a[0],o[0]),this.maxY=Math.max(this.maxY,i[1],n[1],a[1],o[1])}updateScalingPathMinMax(e,t){q.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,n,a,o,l,h,f,d){const p=q.bezierBoundingBox(t,i,n,a,o,l,h,f,d);d||this.updateRectMinMax(e,p)}getPathBoundingBox(e="Fill",t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if("Stroke"===e){t||Ke("Stroke bounding box must include transform.");const n=q.singularValueDecompose2dScale(t),a=n[0]*this.lineWidth/2,o=n[1]*this.lineWidth/2;i[0]-=a,i[1]-=o,i[2]+=a,i[3]+=o}return i}updateClipFromPath(){const e=q.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e="Fill",t=null){return q.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function o0(s,e){if(typeof ImageData<"u"&&e instanceof ImageData)return void s.putImageData(e,0,0);const t=e.height,i=e.width,n=t%16,a=(t-n)/16,o=0===n?a:a+1,l=s.createImageData(i,16);let f,h=0;const d=e.data,p=l.data;let m,_,w,A;if(e.kind===wa.GRAYSCALE_1BPP){const C=d.byteLength,b=new Uint32Array(p.buffer,0,p.byteLength>>2),P=b.length,S=i+7>>3,T=4294967295,O=X.isLittleEndian?4278190080:255;for(m=0;m<o;m++){for(w=m<a?16:n,f=0,_=0;_<w;_++){const M=C-h;let R=0;const I=M>S?i:8*M-7,F=-8&I;let B=0,N=0;for(;R<F;R+=8)N=d[h++],b[f++]=128&N?T:O,b[f++]=64&N?T:O,b[f++]=32&N?T:O,b[f++]=16&N?T:O,b[f++]=8&N?T:O,b[f++]=4&N?T:O,b[f++]=2&N?T:O,b[f++]=1&N?T:O;for(;R<I;R++)0===B&&(N=d[h++],B=128),b[f++]=N&B?T:O,B>>=1}for(;f<P;)b[f++]=0;s.putImageData(l,0,16*m)}}else if(e.kind===wa.RGBA_32BPP){for(_=0,A=16*i*4,m=0;m<a;m++)p.set(d.subarray(h,h+A)),h+=A,s.putImageData(l,0,_),_+=16;m<o&&(A=i*n*4,p.set(d.subarray(h,h+A)),s.putImageData(l,0,_))}else{if(e.kind!==wa.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);for(w=16,A=i*w,m=0;m<o;m++){for(m>=a&&(w=n,A=i*w),f=0,_=A;_--;)p[f++]=d[h++],p[f++]=d[h++],p[f++]=d[h++],p[f++]=255;s.putImageData(l,0,16*m)}}}function l0(s,e){if(e.bitmap)return void s.drawImage(e.bitmap,0,0);const t=e.height,i=e.width,n=t%16,a=(t-n)/16,o=0===n?a:a+1,l=s.createImageData(i,16);let h=0;const f=e.data,d=l.data;for(let p=0;p<o;p++){const m=p<a?16:n;({srcPos:h}=e0({src:f,srcPos:h,dest:d,width:i,height:m,nonBlackColor:0})),s.putImageData(l,0,16*p)}}function pl(s,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)void 0!==s[i]&&(e[i]=s[i]);void 0!==s.setLineDash&&(e.setLineDash(s.getLineDash()),e.lineDashOffset=s.lineDashOffset)}function Bh(s){if(s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",void 0!==s.setLineDash&&(s.setLineDash([]),s.lineDashOffset=0),!Mt){const{filter:e}=s;"none"!==e&&""!==e&&(s.filter="none")}}function u0(s,e){if(e)return!0;const t=q.singularValueDecompose2dScale(s);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*ws.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const B1=["butt","round","square"],R1=["miter","round","bevel"],O1={},h0={};var gl=new WeakSet;class Ma{constructor(e,t,i,n,a,{optionalContentConfig:o,markedContentStack:l=null},h,f){Ie(this,gl),this.ctx=e,this.current=new a0(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=n,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new L1(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:n=null}){const a=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=n||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=l,i){const h=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...bt(this.compositeCtx))}this.ctx.save(),Bh(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=bt(this.ctx)}executeOperatorList(e,t,i,n){const a=e.argsArray,o=e.fnArray;let l=t||0;const h=a.length;if(h===l)return l;const f=h-l>10&&"function"==typeof i,d=f?Date.now()+15:0;let p=0;const m=this.commonObjs,_=this.objs;let w;for(;;){if(void 0!==n&&l===n.nextBreakPoint)return n.breakIt(l,i),l;if(w=o[l],w!==Tt.dependency)this[w].apply(this,a[l]);else for(const A of a[l]){const C=A.startsWith("g_")?m:_;if(!C.has(A))return C.get(A,i),l}if(l++,l===h)return l;if(f&&++p>10){if(Date.now()>d)return i(),l;p=0}}}endDrawing(){E(gl,this,c0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),E(gl,this,d0).call(this)}_scaleImage(e,t){const i=e.width,n=e.height;let d,p,a=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=i,h=n,f="prescale1";for(;a>2&&l>1||o>2&&h>1;){let m=l,_=h;a>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/m),o>2&&h>1&&(_=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,o/=h/_),d=this.cachedCanvases.getCanvas(f,m,_),p=d.context,p.clearRect(0,0,m,_),p.drawImage(e,0,0,l,h,0,0,m,_),e=d.canvas,l=m,h=_,f="prescale1"===f?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:h}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:n}=e,a=this.current.fillColor,o=this.current.patternFill,l=bt(t);let h,f,d,p;if((e.bitmap||e.data)&&e.count>1){const I=e.bitmap||e.data.buffer;f=JSON.stringify(o?l:[l.slice(0,4),a]),h=this._cachedBitmapsMap.get(I),h||(h=new Map,this._cachedBitmapsMap.set(I,h));const F=h.get(f);if(F&&!o)return{canvas:F,offsetX:Math.round(Math.min(l[0],l[2])+l[4]),offsetY:Math.round(Math.min(l[1],l[3])+l[5])};d=F}d||(p=this.cachedCanvases.getCanvas("maskCanvas",i,n),l0(p.context,e));let m=q.transform(l,[1/i,0,0,-1/n,0,0]);m=q.transform(m,[1,0,0,1,0,-n]);const[_,w,A,C]=q.getAxialAlignedBoundingBox([0,0,i,n],m),b=Math.round(A-_)||1,P=Math.round(C-w)||1,S=this.cachedCanvases.getCanvas("fillCanvas",b,P),T=S.context,O=_,M=w;T.translate(-O,-M),T.transform(...m),d||(d=this._scaleImage(p.canvas,Vs(T)),d=d.img,h&&o&&h.set(f,d)),T.imageSmoothingEnabled=u0(bt(T),e.interpolate),Ih(T,d,0,0,d.width,d.height,0,0,i,n),T.globalCompositeOperation="source-in";const R=q.transform(Vs(T),[1,0,0,1,-O,-M]);return T.fillStyle=o?a.getPattern(t,this,R,"Fill"):a,T.fillRect(0,0,i,n),h&&!o&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,S.canvas)),{canvas:S.canvas,offsetX:Math.round(O),offsetY:Math.round(M)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=B1[e]}setLineJoin(e){this.ctx.lineJoin=R1[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=n.context;const a=this.ctx;a.setTransform(...bt(this.suspendedCtx)),pl(this.suspendedCtx,a),function F1(s,e){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){e.save(),this.__originalSave()},s.restore=function(){e.restore(),this.__originalRestore()},s.translate=function(i,n){e.translate(i,n),this.__originalTranslate(i,n)},s.scale=function(i,n){e.scale(i,n),this.__originalScale(i,n)},s.transform=function(i,n,a,o,l,h){e.transform(i,n,a,o,l,h),this.__originalTransform(i,n,a,o,l,h)},s.setTransform=function(i,n,a,o,l,h){e.setTransform(i,n,a,o,l,h),this.__originalSetTransform(i,n,a,o,l,h)},s.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},s.rotate=function(i){e.rotate(i),this.__originalRotate(i)},s.clip=function(i){e.clip(i),this.__originalClip(i)},s.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},s.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},s.bezierCurveTo=function(t,i,n,a,o,l){e.bezierCurveTo(t,i,n,a,o,l),this.__originalBezierCurveTo(t,i,n,a,o,l)},s.rect=function(t,i,n,a){e.rect(t,i,n,a),this.__originalRect(t,i,n,a)},s.closePath=function(){e.closePath(),this.__originalClosePath()},s.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),pl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){this.current.activeSMask&&(e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],this.composeSMask(this.suspendedCtx,this.current.activeSMask,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}composeSMask(e,t,i,n){const a=n[0],o=n[1],l=n[2]-a,h=n[3]-o;0===l||0===h||(this.genericComposeSMask(t.context,i,l,h,t.subtype,t.backdrop,t.transferMap,a,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,n,a,o,l,h,f,d,p){let m=e.canvas,_=h-d,w=f-p;if(o)if(_<0||w<0||_+i>m.width||w+n>m.height){const C=this.cachedCanvases.getCanvas("maskExtension",i,n),b=C.context;b.drawImage(m,-_,-w),o.some(P=>0!==P)&&(b.globalCompositeOperation="destination-atop",b.fillStyle=q.makeHexColor(...o),b.fillRect(0,0,i,n),b.globalCompositeOperation="source-over"),m=C.canvas,_=w=0}else if(o.some(C=>0!==C)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(_,w,i,n),e.clip(C),e.globalCompositeOperation="destination-atop",e.fillStyle=q.makeHexColor(...o),e.fillRect(_,w,i,n),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===a&&l?t.filter=this.filterFactory.addAlphaFilter(l):"Luminosity"===a&&(t.filter=this.filterFactory.addLuminosityFilter(l));const A=new Path2D;A.rect(h,f,i,n),t.clip(A),t.globalCompositeOperation="destination-in",t.drawImage(m,_,w,i,n,h,f,i,n),t.restore()}save(){this.inSMaskMode?(pl(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),pl(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,n,a,o){this.ctx.transform(e,t,i,n,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const n=this.ctx,a=this.current;let h,f,o=a.x,l=a.y;const d=bt(n),p=0===d[0]&&0===d[3]||0===d[1]&&0===d[2],m=p?i.slice(0):null;for(let _=0,w=0,A=e.length;_<A;_++)switch(0|e[_]){case Tt.rectangle:o=t[w++],l=t[w++];const C=t[w++],b=t[w++],P=o+C,S=l+b;n.moveTo(o,l),0===C||0===b?n.lineTo(P,S):(n.lineTo(P,l),n.lineTo(P,S),n.lineTo(o,S)),p||a.updateRectMinMax(d,[o,l,P,S]),n.closePath();break;case Tt.moveTo:o=t[w++],l=t[w++],n.moveTo(o,l),p||a.updatePathMinMax(d,o,l);break;case Tt.lineTo:o=t[w++],l=t[w++],n.lineTo(o,l),p||a.updatePathMinMax(d,o,l);break;case Tt.curveTo:h=o,f=l,o=t[w+4],l=t[w+5],n.bezierCurveTo(t[w],t[w+1],t[w+2],t[w+3],o,l),a.updateCurvePathMinMax(d,h,f,t[w],t[w+1],t[w+2],t[w+3],o,l,m),w+=6;break;case Tt.curveTo2:h=o,f=l,n.bezierCurveTo(o,l,t[w],t[w+1],t[w+2],t[w+3]),a.updateCurvePathMinMax(d,h,f,o,l,t[w],t[w+1],t[w+2],t[w+3],m),o=t[w+2],l=t[w+3],w+=4;break;case Tt.curveTo3:h=o,f=l,o=t[w+2],l=t[w+3],n.bezierCurveTo(t[w],t[w+1],o,l,o,l),a.updateCurvePathMinMax(d,h,f,t[w],t[w+1],o,l,o,l,m),w+=4;break;case Tt.closePath:n.closePath()}p&&a.updateScalingPathMinMax(d,m),a.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof i&&null!=i&&i.getPattern?(t.save(),t.strokeStyle=i.getPattern(t,this,Vs(t),"Stroke"),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor;let a=!1;this.current.patternFill&&(t.save(),t.fillStyle=i.getPattern(t,this,Vs(t),"Fill"),a=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==o&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),a&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=O1}eoClip(){this.pendingClip=h0}beginText(){this.current.textMatrix=zs,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var i;const n=this.commonObjs.get(e),a=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(a.fontMatrix=n.fontMatrix||An,(0===a.fontMatrix[0]||0===a.fontMatrix[3])&&De("Invalid font matrix for font "+e),t<0?(t=-t,a.fontDirection=-1):a.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const l=(null===(i=n.systemFontInfo)||void 0===i?void 0:i.css)||`"${n.loadedName||"sans-serif"}", ${n.fallbackName}`;let h="normal";n.black?h="900":n.bold&&(h="bold");const f=n.italic?"italic":"normal";let d=t;t<16?d=16:t>100&&(d=100),this.current.fontSizeScale=t/d,this.ctx.font=`${f} ${h} ${d}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,n,a,o){this.current.textMatrix=[e,t,i,n,a,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,n){const a=this.ctx,o=this.current,l=o.font,h=o.textRenderingMode,f=o.fontSize/o.fontSizeScale,d=3&h,p=!!(4&h),m=o.patternFill&&!l.missingFile;let _;(l.disableFontFace||p||m)&&(_=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||m?(a.save(),a.translate(t,i),a.beginPath(),_(a,f),n&&a.setTransform(...n),(0===d||2===d)&&a.fill(),(1===d||2===d)&&a.stroke(),a.restore()):((0===d||2===d)&&a.fillText(e,t,i),(1===d||2===d)&&a.strokeText(e,t,i)),p&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:bt(a),x:t,y:i,fontSize:f,addToPath:_})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let n=3;n<t.length;n+=4)if(t[n]>0&&t[n]<255){i=!0;break}return ze(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const n=t.fontSize;if(0===n)return;const a=this.ctx,o=t.fontSizeScale,l=t.charSpacing,h=t.wordSpacing,f=t.fontDirection,d=t.textHScale*f,p=e.length,m=i.vertical,_=m?1:-1,w=i.defaultVMetrics,A=n*t.fontMatrix[0],C=0===t.textRenderingMode&&!i.disableFontFace&&!t.patternFill;let b;if(a.save(),a.transform(...t.textMatrix),a.translate(t.x,t.y+t.textRise),a.scale(d,f>0?-1:1),t.patternFill){a.save();const M=t.fillColor.getPattern(a,this,Vs(a),"Fill");b=bt(a),a.restore(),a.fillStyle=M}let P=t.lineWidth;const S=t.textMatrixScale;if(0===S||0===P){const M=3&t.textRenderingMode;(1===M||2===M)&&(P=this.getSinglePixelWidth())}else P/=S;if(1!==o&&(a.scale(o,o),P/=o),a.lineWidth=P,i.isInvalidPDFjsFont){const M=[];let R=0;for(const I of e)M.push(I.unicode),R+=I.width;return a.fillText(M.join(""),0,0),t.x+=R*A*d,a.restore(),void this.compose()}let O,T=0;for(O=0;O<p;++O){const M=e[O];if("number"==typeof M){T+=_*M*n/1e3;continue}let R=!1;const I=(M.isSpace?h:0)+l,F=M.fontChar,B=M.accent;let N,V,H=M.width;if(m){const Y=M.vmetric||w,J=-(M.vmetric?Y[1]:.5*H)*A;H=Y?-Y[0]:H,N=J/o,V=(T+Y[2]*A)/o}else N=T/o,V=0;if(i.remeasure&&H>0){const Y=1e3*a.measureText(F).width/n*o;if(H<Y&&this.isFontSubpixelAAEnabled){const J=H/Y;R=!0,a.save(),a.scale(J,1),N/=J}else H!==Y&&(N+=(H-Y)/2e3*n/o)}this.contentVisible&&(M.isInFont||i.missingFile)&&(C&&!B?a.fillText(F,N,V):(this.paintChar(F,N,V,b),B&&this.paintChar(B.fontChar,N+n*B.offset.x/o,V-n*B.offset.y/o,b))),T+=m?H*A-I*f:H*A+I*f,R&&a.restore()}m?t.y-=T:t.x+=T*d,a.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,n=i.font,a=i.fontSize,o=i.fontDirection,l=n.vertical?1:-1,h=i.charSpacing,f=i.wordSpacing,d=i.textHScale*o,p=i.fontMatrix||An,m=e.length;let w,A,C,b;if(3!==i.textRenderingMode&&0!==a){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(d,o),w=0;w<m;++w){if(A=e[w],"number"==typeof A){b=l*A*a/1e3,this.ctx.translate(b,0),i.x+=b*d;continue}const P=(A.isSpace?f:0)+h,S=n.charProcOperatorList[A.operatorListId];S?(this.contentVisible&&(this.processingType3=A,this.save(),t.scale(a,a),t.transform(...p),this.executeOperatorList(S),this.restore()),C=q.applyTransform([A.width,0],p)[0]*a+P,t.translate(C,0),i.x+=C*d):De(`Type3 character "${A.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,n,a,o){this.ctx.rect(i,n,a-i,o-n),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const i=e[1],n=this.baseTransform||bt(this.ctx);t=new k1(e,i,this.ctx,{createCanvasGraphics:o=>new Ma(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){this.ctx.strokeStyle=this.current.strokeColor=q.makeHexColor(e,t,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,i){this.ctx.fillStyle=this.current.fillColor=q.makeHexColor(e,t,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=function M1(s){switch(s[0]){case"RadialAxial":return new C1(s);case"Mesh":return new S1(s);case"Dummy":return new P1}throw new Error(`Unknown IR type: ${s[0]}`)}(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,Vs(t),"Shading");const n=Vs(t);if(n){const{width:a,height:o}=t.canvas,[l,h,f,d]=q.getAxialAlignedBoundingBox([0,0,a,o],n);this.ctx.fillRect(l,h,f-l,d-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ke("Should not call beginInlineImage")}beginImageData(){Ke("Should not call beginImageData")}paintFormXObjectBegin(e,t){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=bt(this.ctx),t)&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.current.updateRectMinMax(bt(this.ctx),t),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Ws("TODO: Support non-isolated groups."),e.knockout&&De("Knockout groups not supported.");const i=bt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let n=q.getAxialAlignedBoundingBox(e.bbox,bt(t));n=q.intersect(n,[0,0,t.canvas.width,t.canvas.height])||[0,0,0,0];const o=Math.floor(n[0]),l=Math.floor(n[1]),h=Math.max(Math.ceil(n[2])-o,1),f=Math.max(Math.ceil(n[3])-l,1);this.current.startNewPathAndClipBox([0,0,h,f]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(d,h,f),m=p.context;m.translate(-o,-l),m.transform(...i),e.smask?this.smaskStack.push({canvas:p.canvas,context:m,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,l),t.save()),pl(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const n=bt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...n);const a=q.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],n);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,i,n,a){if(E(gl,this,c0).call(this),Bh(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],l=t[3]-t[1];if(a&&this.annotationCanvasMap){(i=i.slice())[4]-=t[0],i[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=o,t[3]=l;const[h,f]=q.singularValueDecompose2dScale(bt(this.ctx)),{viewportScale:d}=this,p=Math.ceil(o*this.outputScaleX*d),m=Math.ceil(l*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:_,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(e,_),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(h,0,0,-f,0,l*f),Bh(this.ctx)}else Bh(this.ctx),this.ctx.rect(t[0],t[1],o,l),this.ctx.clip(),this.endPath()}this.current=new a0(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...n)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),E(gl,this,d0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const i=this.ctx,n=this.processingType3;if(n&&(void 0===n.compiled&&(n.compiled=function I1(s){const{width:e,height:t}=s;if(e>1e3||t>1e3)return null;const n=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=e+1;let l,h,f,o=new Uint8Array(a*(t+1));const d=e+7&-8;let p=new Uint8Array(d*t),m=0;for(const b of s.data){let P=128;for(;P>0;)p[m++]=b&P?0:255,P>>=1}let _=0;for(m=0,0!==p[m]&&(o[0]=1,++_),h=1;h<e;h++)p[m]!==p[m+1]&&(o[h]=p[m]?2:1,++_),m++;for(0!==p[m]&&(o[h]=2,++_),l=1;l<t;l++){m=l*d,f=l*a,p[m-d]!==p[m]&&(o[f]=p[m]?1:8,++_);let b=(p[m]?4:0)+(p[m-d]?8:0);for(h=1;h<e;h++)b=(b>>2)+(p[m+1]?4:0)+(p[m-d+1]?8:0),n[b]&&(o[f+h]=n[b],++_),m++;if(p[m-d]!==p[m]&&(o[f+h]=p[m]?2:4,++_),_>1e3)return null}for(m=d*(t-1),f=l*a,0!==p[m]&&(o[f]=8,++_),h=1;h<e;h++)p[m]!==p[m+1]&&(o[f+h]=p[m]?4:8,++_),m++;if(0!==p[m]&&(o[f+h]=4,++_),_>1e3)return null;const w=new Int32Array([0,a,-1,0,-a,0,0,0,1]),A=new Path2D;for(l=0;_&&l<=t;l++){let b=l*a;const P=b+e;for(;b<P&&!o[b];)b++;if(b===P)continue;A.moveTo(b%a,l);const S=b;let T=o[b];do{const O=w[T];do{b+=O}while(!o[b]);const M=o[b];5!==M&&10!==M?(T=M,o[b]=0):(T=M&51*T>>4,o[b]&=T>>2|T<<2),A.lineTo(b%a,b/a|0),o[b]||--_}while(S!==b);--l}return p=null,o=null,function(b){b.save(),b.scale(1/e,-1/t),b.translate(0,-t),b.fill(A),b.beginPath(),b.restore()}}(e)),n.compiled))return void n.compiled(i);const a=this._createMaskCanvas(e),o=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,a.offsetX,a.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,n=0,a,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const h=bt(l);l.transform(t,i,n,a,0,0);const f=this._createMaskCanvas(e);l.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]);for(let d=0,p=o.length;d<p;d+=2){const m=q.transform(h,[t,i,n,a,o[d],o[d+1]]),[_,w]=q.applyTransform([0,0],m);l.drawImage(f.canvas,_,w)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,n=this.current.patternFill;for(const a of e){const{data:o,width:l,height:h,transform:f}=a,d=this.cachedCanvases.getCanvas("maskCanvas",l,h),p=d.context;p.save(),l0(p,this.getObject(o,a)),p.globalCompositeOperation="source-in",p.fillStyle=n?i.getPattern(p,this,Vs(t),"Fill"):i,p.fillRect(0,0,l,h),p.restore(),t.save(),t.transform(...f),t.scale(1,-1),Ih(t,d.canvas,0,0,l,h,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):De("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,i,n){if(!this.contentVisible)return;const a=this.getObject(e);if(!a)return void De("Dependent image isn't ready yet");const o=a.width,l=a.height,h=[];for(let f=0,d=n.length;f<d;f+=2)h.push({transform:[t,0,0,i,n[f],n[f+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(a,h)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:i,height:n}=e,a=this.cachedCanvases.getCanvas("inlineImage",i,n),o=a.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,n=this.ctx;if(this.save(),!Mt){const{filter:l}=n;"none"!==l&&""!==l&&(n.filter="none")}let a;if(n.scale(1/t,-1/i),e.bitmap)a=this.applyTransferMapsToBitmap(e);else if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{const h=this.cachedCanvases.getCanvas("inlineImage",t,i).context;o0(h,e),a=this.applyTransferMapsToCanvas(h)}const o=this._scaleImage(a,Vs(n));n.imageSmoothingEnabled=u0(bt(n),e.interpolate),Ih(n,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let n;if(e.bitmap)n=e.bitmap;else{const h=this.cachedCanvases.getCanvas("inlineImage",e.width,e.height).context;o0(h,e),n=this.applyTransferMapsToCanvas(h)}for(const a of t)i.save(),i.transform(...a.transform),i.scale(1,-1),Ih(i,n,a.x,a.y,a.w,a.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){this.markedContentStack.push("OC"===e?{visible:this.optionalContentConfig.isVisible(t)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===h0?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=bt(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),n=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,n)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:i,c:n,d:a}=this.ctx.getTransform();let o,l;if(0===i&&0===n){const h=Math.abs(t),f=Math.abs(a);if(h===f)if(0===e)o=l=1/h;else{const d=h*e;o=l=d<1?1/d:1}else if(0===e)o=1/h,l=1/f;else{const d=h*e,p=f*e;o=d<1?1/d:1,l=p<1?1/p:1}}else{const h=Math.abs(t*a-i*n),f=Math.hypot(t,i),d=Math.hypot(n,a);if(0===e)o=d/h,l=f/h;else{const p=e*h;o=d>p?d/p:1,l=f>p?f/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[n,a]=this.getScaleForStroking();if(t.lineWidth=i||1,1===n&&1===a)return void t.stroke();const o=t.getLineDash();if(e&&t.save(),t.scale(n,a),o.length>0){const l=Math.max(n,a);t.setLineDash(o.map(h=>h/l)),t.lineDashOffset/=l}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function c0(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function d0(){if(this.pageColors){const s=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==s){const e=this.ctx.filter;this.ctx.filter=s,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}for(const s in Tt)void 0!==Ma.prototype[s]&&(Ma.prototype[Tt[s]]=Ma.prototype[s]);class ss{static get workerPort(){return E(ss,this,f0)._}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");f0._=E(ss,this,e)}static get workerSrc(){return E(ss,this,p0)._}static set workerSrc(e){if("string"!=typeof e)throw new Error("Invalid `workerSrc` type.");p0._=E(ss,this,e)}}var f0={_:null},p0={_:""};function Li(s){switch(s instanceof Error||"object"==typeof s&&null!==s||Ke('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new r(s.message);case"MissingPDFException":return new _s(s.message);case"PasswordException":return new ba(s.message,s.code);case"UnexpectedResponseException":return new vr(s.message,s.status);case"UnknownErrorException":return new Aa(s.message,s.details);default:return new Aa(s.message,s.toString())}}var ka=new WeakSet;class ml{constructor(e,t,i){Ie(this,ka),this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=n=>{const a=n.data;if(a.targetName!==this.sourceName)return;if(a.stream)return void E(ka,this,z1).call(this,a);if(a.callback){const l=a.callbackId,h=this.callbackCapabilities[l];if(!h)throw new Error(`Cannot resolve callback ${l}`);if(delete this.callbackCapabilities[l],1===a.callback)h.resolve(a.data);else{if(2!==a.callback)throw new Error("Unexpected callback case");h.reject(Li(a.reason))}return}const o=this.actionHandler[a.action];if(!o)throw new Error(`Unknown action from worker: ${a.action}`);if(a.callbackId){const l=this.sourceName,h=a.sourceName;new Promise(function(f){f(o(a.data))}).then(function(f){i.postMessage({sourceName:l,targetName:h,callback:1,callbackId:a.callbackId,data:f})},function(f){i.postMessage({sourceName:l,targetName:h,callback:2,callbackId:a.callbackId,reason:Li(f)})})}else a.streamId?E(ka,this,N1).call(this,a):o(a.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const n=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[n]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:n,data:t},i)}catch(o){a.reject(o)}return a.promise}sendWithStream(e,t,i,n){const a=this.streamId++,o=this.sourceName,l=this.targetName,h=this.comObj;return new ReadableStream({start:f=>{const d=Promise.withResolvers();return this.streamControllers[a]={controller:f,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:o,targetName:l,action:e,streamId:a,data:t,desiredSize:f.desiredSize},n),d.promise},pull:f=>{const d=Promise.withResolvers();return this.streamControllers[a].pullCall=d,h.postMessage({sourceName:o,targetName:l,stream:6,streamId:a,desiredSize:f.desiredSize}),d.promise},cancel:f=>{xt(f instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[a].cancelCall=d,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:o,targetName:l,stream:1,streamId:a,reason:Li(f)}),d.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}function N1(s){const e=s.streamId,t=this.sourceName,i=s.sourceName,n=this.comObj,a=this,o=this.actionHandler[s.action],l={enqueue(h,f=1,d){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=f,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),n.postMessage({sourceName:t,targetName:i,stream:4,streamId:e,chunk:h},d)},close(){this.isCancelled||(this.isCancelled=!0,n.postMessage({sourceName:t,targetName:i,stream:3,streamId:e}),delete a.streamSinks[e])},error(h){xt(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,n.postMessage({sourceName:t,targetName:i,stream:5,streamId:e,reason:Li(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:s.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,new Promise(function(h){h(o(s.data,l))}).then(function(){n.postMessage({sourceName:t,targetName:i,stream:8,streamId:e,success:!0})},function(h){n.postMessage({sourceName:t,targetName:i,stream:8,streamId:e,reason:Li(h)})})}function z1(s){const e=s.streamId,t=this.sourceName,i=s.sourceName,n=this.comObj,a=this.streamControllers[e],o=this.streamSinks[e];switch(s.stream){case 8:s.success?a.startCall.resolve():a.startCall.reject(Li(s.reason));break;case 7:s.success?a.pullCall.resolve():a.pullCall.reject(Li(s.reason));break;case 6:if(!o){n.postMessage({sourceName:t,targetName:i,stream:7,streamId:e,success:!0});break}o.desiredSize<=0&&s.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=s.desiredSize,new Promise(function(l){var h;l(null===(h=o.onPull)||void 0===h?void 0:h.call(o))}).then(function(){n.postMessage({sourceName:t,targetName:i,stream:7,streamId:e,success:!0})},function(l){n.postMessage({sourceName:t,targetName:i,stream:7,streamId:e,reason:Li(l)})});break;case 4:if(xt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(s.chunk);break;case 3:if(xt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),E(ka,this,Ff).call(this,a,e);break;case 5:xt(a,"error should have stream controller"),a.controller.error(Li(s.reason)),E(ka,this,Ff).call(this,a,e);break;case 2:s.success?a.cancelCall.resolve():a.cancelCall.reject(Li(s.reason)),E(ka,this,Ff).call(this,a,e);break;case 1:if(!o)break;new Promise(function(l){var h;l(null===(h=o.onCancel)||void 0===h?void 0:h.call(o,Li(s.reason)))}).then(function(){n.postMessage({sourceName:t,targetName:i,stream:2,streamId:e,success:!0})},function(l){n.postMessage({sourceName:t,targetName:i,stream:2,streamId:e,reason:Li(l)})}),o.sinkCapability.reject(Li(s.reason)),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}function Ff(s,e){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,re.A)(function*(s,e){var t,i,n;yield Promise.allSettled([null===(t=s.startCall)||void 0===t?void 0:t.promise,null===(i=s.pullCall)||void 0===i?void 0:i.promise,null===(n=s.cancelCall)||void 0===n?void 0:n.promise]),delete this.streamControllers[e]})).apply(this,arguments)}var vl=new WeakMap,If=new WeakMap;class W1{constructor({parsedData:e,rawData:t}){k(this,vl,void 0),k(this,If,void 0),x(vl,this,e),x(If,this,t)}getRaw(){return c(If,this)}get(e){var t;return null!==(t=c(vl,this).get(e))&&void 0!==t?t:null}getAll(){return D(c(vl,this))}has(e){return c(vl,this).has(e)}}const Pn=Symbol("INTERNAL");var Bf=new WeakMap,Rf=new WeakMap,Of=new WeakMap,Oh=new WeakMap;class H1{constructor(e,{name:t,intent:i,usage:n}){k(this,Bf,!1),k(this,Rf,!1),k(this,Of,!1),k(this,Oh,!0),x(Bf,this,!!(2&e)),x(Rf,this,!!(4&e)),this.name=t,this.intent=i,this.usage=n}get visible(){if(c(Of,this))return c(Oh,this);if(!c(Oh,this))return!1;const{print:e,view:t}=this.usage;return c(Bf,this)?"OFF"!==(null==t?void 0:t.viewState):!c(Rf,this)||"OFF"!==(null==e?void 0:e.printState)}_setVisible(e,t,i=!1){e!==Pn&&Ke("Internal method `_setVisible` called."),x(Of,this,i),x(Oh,this,t)}}var Ta=new WeakMap,ut=new WeakMap,Nh=new WeakMap,zh=new WeakMap,Nf=new WeakSet;class V1{constructor(e,t=2){if(Ie(this,Nf),k(this,Ta,null),k(this,ut,new Map),k(this,Nh,null),k(this,zh,null),this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,x(zh,this,e.order);for(const i of e.groups)c(ut,this).set(i.id,new H1(t,i));if("OFF"===e.baseState)for(const i of c(ut,this).values())i._setVisible(Pn,!1);for(const i of e.on)c(ut,this).get(i)._setVisible(Pn,!0);for(const i of e.off)c(ut,this).get(i)._setVisible(Pn,!1);x(Nh,this,this.getHash())}}isVisible(e){if(0===c(ut,this).size)return!0;if(!e)return Ws("Optional content group not defined."),!0;if("OCG"===e.type)return c(ut,this).has(e.id)?c(ut,this).get(e.id).visible:(De(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return E(Nf,this,g0).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!c(ut,this).has(t))return De(`Optional content group not found: ${t}`),!0;if(c(ut,this).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!c(ut,this).has(t))return De(`Optional content group not found: ${t}`),!0;if(!c(ut,this).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!c(ut,this).has(t))return De(`Optional content group not found: ${t}`),!0;if(!c(ut,this).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!c(ut,this).has(t))return De(`Optional content group not found: ${t}`),!0;if(c(ut,this).get(t).visible)return!1}return!0}return De(`Unknown optional content policy ${e.policy}.`),!0}return De(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const i=c(ut,this).get(e);i?(i._setVisible(Pn,!!t,!0),x(Ta,this,null)):De(`Optional content group not found: ${e}`)}setOCGState({state:e}){let i;for(const n of e){switch(n){case"ON":case"OFF":case"Toggle":i=n;continue}const a=c(ut,this).get(n);if(a)switch(i){case"ON":a._setVisible(Pn,!0);break;case"OFF":a._setVisible(Pn,!1);break;case"Toggle":a._setVisible(Pn,!a.visible)}}x(Ta,this,null)}get hasInitialVisibility(){return null===c(Nh,this)||this.getHash()===c(Nh,this)}getOrder(){return c(ut,this).size?c(zh,this)?c(zh,this).slice():[...c(ut,this).keys()]:null}getGroups(){return c(ut,this).size>0?D(c(ut,this)):null}getGroup(e){return c(ut,this).get(e)||null}getHash(){if(null!==c(Ta,this))return c(Ta,this);const e=new qm;for(const[t,i]of c(ut,this))e.update(`${t}:${i.visible}`);return x(Ta,this,e.hexdigest())}}function g0(s){const e=s.length;if(e<2)return!0;const t=s[0];for(let i=1;i<e;i++){const n=s[i];let a;if(Array.isArray(n))a=E(Nf,this,g0).call(this,n);else{if(!c(ut,this).has(n))return De(`Optional content group not found: ${n}`),!0;a=c(ut,this).get(n).visible}switch(t){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return"And"===t}class $1{constructor(e,{disableRange:t=!1,disableStream:i=!1}){xt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:n,initialData:a,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(null==a?void 0:a.length)>0){const h=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((h,f)=>{this._onReceiveData({begin:h,chunk:f})}),e.addProgressListener((h,f)=>{this._onProgress({loaded:h,total:f})}),e.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;void 0===e?this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i):xt(this._rangeReaders.some(function(a){return a._begin===e&&(a._enqueue(i),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,i,n,a;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(i=t.onProgress)||void 0===i||i.call(t,{loaded:e.loaded}):null===(n=this._fullRequestReader)||void 0===n||null===(a=n.onProgress)||void 0===a||a.call(n,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){xt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new j1(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new G1(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class j1{constructor(e,t,i=!1,n=null){this._stream=e,this._done=i||!1,this._filename=cf(n)?n:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var e=this;return(0,re.A)(function*(){if(e._queuedChunks.length>0)return{value:e._queuedChunks.shift(),done:!1};if(e._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return e._requests.push(t),t.promise})()}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class G1{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var e=this;return(0,re.A)(function*(){if(e._queuedChunk){const i=e._queuedChunk;return e._queuedChunk=null,{value:i,done:!1}}if(e._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return e._requests.push(t),t.promise})()}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function zf({getResponseHeader:s,isHttp:e,rangeChunkSize:t,disableRange:i}){const n={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(s("Content-Length"),10);return!Number.isInteger(a)||(n.suggestedLength=a,a<=2*t)||i||!e||"bytes"!==s("Accept-Ranges")||"identity"!==(s("Content-Encoding")||"identity")||(n.allowRangeRequests=!0),n}function Wf(s){const e=s("Content-Disposition");if(e){let t=function U1(s){let e=!0,t=i("filename\\*","i").exec(s);if(t){t=t[1];let d=l(t);return d=unescape(d),d=h(d),d=f(d),a(d)}if(t=function o(d){const p=[];let m;const _=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(m=_.exec(d));){let[,A,C,b]=m;if(A=parseInt(A,10),A in p){if(0===A)break}else p[A]=[C,b]}const w=[];for(let A=0;A<p.length&&A in p;++A){let[C,b]=p[A];b=l(b),C&&(b=unescape(b),0===A&&(b=h(b))),w.push(b)}return w.join("")}(s),t)return a(f(t));if(t=i("filename","i").exec(s),t){t=t[1];let d=l(t);return d=f(d),a(d)}function i(d,p){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function n(d,p){if(d){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(d,{fatal:!0}),_=g(p);p=m.decode(_),e=!1}catch{}}return p}function a(d){return e&&/[\x80-\xff]/.test(d)&&(d=n("utf-8",d),e&&(d=n("iso-8859-1",d))),d}function l(d){if(d.startsWith('"')){const p=d.slice(1).split('\\"');for(let m=0;m<p.length;++m){const _=p[m].indexOf('"');-1!==_&&(p[m]=p[m].slice(0,_),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}d=p.join('"')}return d}function h(d){const p=d.indexOf("'");return-1===p?d:n(d.slice(0,p),d.slice(p+1).replace(/^[^']*'/,""))}function f(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,_,w){if("q"===_||"Q"===_)return n(m,w=(w=w.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(A,C){return String.fromCharCode(parseInt(C,16))}));try{w=atob(w)}catch{}return n(m,w)})}return""}(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(cf(t))return t}return null}function Wh(s,e){return 404===s||0===s&&e.startsWith("file:")?new _s('Missing PDF "'+e+'".'):new vr(`Unexpected server response (${s}) while retrieving PDF "${e}".`,s)}function m0(s){return 200===s||206===s}function v0(s,e,t){return{method:"GET",headers:s,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function _0(s){const e=new Headers;for(const t in s){const i=s[t];void 0!==i&&e.append(t,i)}return e}function w0(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(De(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class b0{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return xt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new X1(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new Z1(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class X1{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=_0(this._stream.httpHeaders);const i=t.url;fetch(i,v0(this._headers,this._withCredentials,this._abortController)).then(n=>{if(!m0(n.status))throw Wh(n.status,i);this._reader=n.body.getReader(),this._headersCapability.resolve();const a=h=>n.headers.get(h),{allowRangeRequests:o,suggestedLength:l}=zf({getResponseHeader:a,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=Wf(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var e=this;return(0,re.A)(function*(){var t;yield e._headersCapability.promise;const{value:i,done:n}=yield e._reader.read();return n?{value:i,done:n}:(e._loaded+=i.byteLength,null===(t=e.onProgress)||void 0===t||t.call(e,{loaded:e._loaded,total:e._contentLength}),{value:w0(i),done:!1})})()}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class Z1{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const n=e.source;this._withCredentials=n.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!n.disableStream,this._abortController=new AbortController,this._headers=_0(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);const a=n.url;fetch(a,v0(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!m0(o.status))throw Wh(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var e=this;return(0,re.A)(function*(){var t;yield e._readCapability.promise;const{value:i,done:n}=yield e._reader.read();return n?{value:i,done:n}:(e._loaded+=i.byteLength,null===(t=e.onProgress)||void 0===t||t.call(e,{loaded:e._loaded}),{value:w0(i),done:!1})})()}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class Y1{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const n={begin:e,end:t};for(const a in i)n[a]=i[a];return this.request(n)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,n=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const a in this.httpHeaders){const o=this.httpHeaders[a];void 0!==o&&t.setRequestHeader(a,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),n.expectedStatus=206):n.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(a){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),n.onHeadersReceived=e.onHeadersReceived,n.onDone=e.onDone,n.onError=e.onError,n.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&(null===(i=n.onProgress)||void 0===i||i.call(n,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const n=i.xhr;if(n.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4!==n.readyState||!(e in this.pendingRequests))return;var a;if(delete this.pendingRequests[e],0===n.status&&this.isHttp)return void(null===(a=i.onError)||void 0===a||a.call(i,n.status));const o=n.status||200;var h;if((200!==o||206!==i.expectedStatus)&&o!==i.expectedStatus)return void(null===(h=i.onError)||void 0===h||h.call(i,n.status));const f=function q1(s){const e=s.response;return"string"!=typeof e?e:g(e).buffer}(n);if(206===o){const p=n.getResponseHeader("Content-Range"),m=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);i.onDone({begin:parseInt(m[1],10),chunk:f})}else if(f)i.onDone({begin:0,chunk:f});else{var d;null===(d=i.onError)||void 0===d||d.call(i,n.status)}}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class K1{constructor(e){this._source=e,this._manager=new Y1(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return xt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Q1(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new J1(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Q1{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=o=>t.getResponseHeader(o),{allowRangeRequests:n,suggestedLength:a}=zf({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});n&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Wf(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Wh(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var e=this;return(0,re.A)(function*(){if(e._storedError)throw e._storedError;if(e._cachedChunks.length>0)return{value:e._cachedChunks.shift(),done:!1};if(e._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return e._requests.push(t),t.promise})()}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class J1{constructor(e,t,i){this._manager=e;const n={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,n),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Wh(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}read(){var e=this;return(0,re.A)(function*(){if(e._storedError)throw e._storedError;if(null!==e._queuedChunk){const i=e._queuedChunk;return e._queuedChunk=null,{value:i,done:!1}}if(e._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return e._requests.push(t),t.promise})()}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const A0=/^file:\/\/\/[a-zA-Z]:\//;class tw{constructor(e){this.source=e,this.url=function ew(s){const e=As.get("url"),t=e.parse(s);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(s)?e.parse(`file:///${s}`):(t.host||(t.protocol="file:"),t)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return xt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new nw(this):new iw(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new rw(this,e,t):new sw(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class y0{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var e=this;return(0,re.A)(function*(){var t;if(yield e._readCapability.promise,e._done)return{value:void 0,done:!0};if(e._storedError)throw e._storedError;const i=e._readableStream.read();return null===i?(e._readCapability=Promise.withResolvers(),e.read()):(e._loaded+=i.length,null===(t=e.onProgress)||void 0===t||t.call(e,{loaded:e._loaded,total:e._contentLength}),{value:new Uint8Array(i).buffer,done:!1})})()}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class E0{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!e.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var e=this;return(0,re.A)(function*(){var t;if(yield e._readCapability.promise,e._done)return{value:void 0,done:!0};if(e._storedError)throw e._storedError;const i=e._readableStream.read();return null===i?(e._readCapability=Promise.withResolvers(),e.read()):(e._loaded+=i.length,null===(t=e.onProgress)||void 0===t||t.call(e,{loaded:e._loaded}),{value:new Uint8Array(i).buffer,done:!1})})()}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Hh(s,e){return{protocol:s.protocol,auth:s.auth,host:s.hostname,port:s.port,path:s.path,method:"GET",headers:e}}class iw extends y0{constructor(e){super(e);const t=i=>{if(404===i.statusCode){const l=new _s(`Missing PDF "${this._url}".`);return this._storedError=l,void this._headersCapability.reject(l)}this._headersCapability.resolve(),this._setReadableStream(i);const n=l=>this._readableStream.headers[l.toLowerCase()],{allowRangeRequests:a,suggestedLength:o}=zf({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=Wf(n)};if(this._request=null,"http:"===this._url.protocol){const i=As.get("http");this._request=i.request(Hh(this._url,e.httpHeaders),t)}else{const i=As.get("https");this._request=i.request(Hh(this._url,e.httpHeaders),t)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class sw extends E0{constructor(e,t,i){super(e),this._httpHeaders={};for(const a in e.httpHeaders){const o=e.httpHeaders[a];void 0!==o&&(this._httpHeaders[a]=o)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const n=a=>{if(404!==a.statusCode)this._setReadableStream(a);else{const o=new _s(`Missing PDF "${this._url}".`);this._storedError=o}};if(this._request=null,"http:"===this._url.protocol){const a=As.get("http");this._request=a.request(Hh(this._url,this._httpHeaders),n)}else{const a=As.get("https");this._request=a.request(Hh(this._url,this._httpHeaders),n)}this._request.on("error",a=>{this._storedError=a}),this._request.end()}}class nw extends y0{constructor(e){super(e);let t=decodeURIComponent(this._url.path);A0.test(this._url.href)&&(t=t.replace(/^\//,""));const i=As.get("fs");i.promises.lstat(t).then(n=>{this._contentLength=n.size,this._setReadableStream(i.createReadStream(t)),this._headersCapability.resolve()},n=>{"ENOENT"===n.code&&(n=new _s(`Missing PDF "${t}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class rw extends E0{constructor(e,t,i){super(e);let n=decodeURIComponent(this._url.path);A0.test(this._url.href)&&(n=n.replace(/^\//,""));const a=As.get("fs");this._setReadableStream(a.createReadStream(n,{start:t,end:i-1}))}}const xi=30,ow=.8;var Da=new WeakMap,Gi=new WeakMap,$f=new WeakMap,jf=new WeakMap,Fa=new WeakMap,yr=new WeakMap,Gf=new WeakMap,Uf=new WeakMap,_l=new WeakMap,Vh=new WeakMap,$h=new WeakMap,La=new WeakMap,jh=new WeakMap,Xf=new WeakMap,Gh=new WeakMap,wl=new WeakMap,Zf=new WeakMap,qf=new WeakMap,bl=new WeakSet;class ns{constructor({textContentSource:e,container:t,viewport:i}){var n;if(Ie(this,bl),k(this,Da,Promise.withResolvers()),k(this,Gi,null),k(this,$f,!1),k(this,jf,!(null===(n=globalThis.FontInspector)||void 0===n||!n.enabled)),k(this,Fa,null),k(this,yr,null),k(this,Gf,0),k(this,Uf,0),k(this,_l,null),k(this,Vh,null),k(this,$h,0),k(this,La,0),k(this,jh,Object.create(null)),k(this,Xf,[]),k(this,Gh,null),k(this,wl,[]),k(this,Zf,new WeakMap),k(this,qf,null),e instanceof ReadableStream)x(Gh,this,e);else{if("object"!=typeof e)throw new Error('No "textContentSource" parameter specified.');x(Gh,this,new ReadableStream({start(f){f.enqueue(e),f.close()}}))}x(Gi,this,x(Vh,this,t)),x(La,this,i.scale*(globalThis.devicePixelRatio||1)),x($h,this,i.rotation),x(yr,this,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:o,pageX:l,pageY:h}=i.rawDims;x(qf,this,[1,0,0,-1,-l,h+o]),x(Uf,this,a),x(Gf,this,o),hw.call(ns),br(t,i),c(Da,this).promise.catch(()=>{}).then(()=>{Kf._.delete(this),x(yr,this,null),x(jh,this,null)})}render(){const e=()=>{c(_l,this).read().then(({value:t,done:i})=>{var n;i?c(Da,this).resolve():(null!==(n=c(Fa,this))&&void 0!==n||x(Fa,this,t.lang),Object.assign(c(jh,this),t.styles),E(bl,this,lw).call(this,t.items),e())},c(Da,this).reject)};return x(_l,this,c(Gh,this).getReader()),Kf._.add(this),e(),c(Da,this).promise}update({viewport:e,onBefore:t=null}){const i=e.scale*(globalThis.devicePixelRatio||1),n=e.rotation;if(n!==c($h,this)&&(null==t||t(),x($h,this,n),br(c(Vh,this),{rotation:n})),i!==c(La,this)){null==t||t(),x(La,this,i);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Yf.call(ns,c(Fa,this))};for(const o of c(wl,this))a.properties=c(Zf,this).get(o),a.div=o,E(bl,this,C0).call(this,a)}}cancel(){var e;const t=new r("TextLayer task cancelled.");null===(e=c(_l,this))||void 0===e||e.cancel(t).catch(()=>{}),x(_l,this,null),c(Da,this).reject(t)}get textDivs(){return c(wl,this)}get textContentItemsStr(){return c(Xf,this)}static cleanup(){if(!(E(ns,this,Kf)._.size>0)){E(ns,this,Uh)._.clear();for(const{canvas:e}of E(ns,this,Xh)._.values())e.remove();E(ns,this,Xh)._.clear()}}}function lw(s){var e,t;if(c($f,this))return;null!==(t=(e=c(yr,this)).ctx)&&void 0!==t||(e.ctx=Yf.call(Di,c(Fa,this)));const i=c(wl,this),n=c(Xf,this);for(const a of s){if(i.length>1e5)return De("Ignoring additional textDivs for performance reasons."),void x($f,this,!0);if(void 0!==a.str)n.push(a.str),E(bl,this,uw).call(this,a);else if("beginMarkedContentProps"===a.type||"beginMarkedContent"===a.type){const o=c(Gi,this);x(Gi,this,document.createElement("span")),c(Gi,this).classList.add("markedContent"),null!==a.id&&c(Gi,this).setAttribute("id",`${a.id}`),o.append(c(Gi,this))}else"endMarkedContent"===a.type&&x(Gi,this,c(Gi,this).parentNode)}}function uw(s){const e=document.createElement("span"),t={angle:0,canvasWidth:0,hasText:""!==s.str,hasEOL:s.hasEOL,fontSize:0};c(wl,this).push(e);const i=q.transform(c(qf,this),s.transform);let n=Math.atan2(i[1],i[0]);const a=c(jh,this)[s.fontName];a.vertical&&(n+=Math.PI/2);const o=c(jf,this)&&a.fontSubstitution||a.fontFamily,l=Math.hypot(i[2],i[3]),h=l*cw.call(Di,o,c(Fa,this));let f,d;0===n?(f=i[4],d=i[5]-h):(f=i[4]+h*Math.sin(n),d=i[5]-h*Math.cos(n));const p="calc(var(--scale-factor)*",m=e.style;c(Gi,this)===c(Vh,this)?(m.left=`${(100*f/c(Uf,this)).toFixed(2)}%`,m.top=`${(100*d/c(Gf,this)).toFixed(2)}%`):(m.left=`${p}${f.toFixed(2)}px)`,m.top=`${p}${d.toFixed(2)}px)`),m.fontSize=`${p}${(Al._*l).toFixed(2)}px)`,m.fontFamily=o,t.fontSize=l,e.setAttribute("role","presentation"),e.textContent=s.str,e.dir=s.dir,c(jf,this)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||s.fontName),0!==n&&(t.angle=n*(180/Math.PI));let _=!1;if(s.str.length>1)_=!0;else if(" "!==s.str&&s.transform[0]!==s.transform[3]){const w=Math.abs(s.transform[0]),A=Math.abs(s.transform[3]);w!==A&&Math.max(w,A)/Math.min(w,A)>1.5&&(_=!0)}if(_&&(t.canvasWidth=a.vertical?s.height:s.width),c(Zf,this).set(e,t),c(yr,this).div=e,c(yr,this).properties=t,E(bl,this,C0).call(this,c(yr,this)),t.hasText&&c(Gi,this).append(e),t.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),c(Gi,this).append(w)}}function C0(s){const{div:e,properties:t,ctx:i,prevFontSize:n,prevFontFamily:a}=s,{style:o}=e;let l="";if(Al._>1&&(l=`scale(${1/Al._})`),0!==t.canvasWidth&&t.hasText){const{fontFamily:h}=o,{canvasWidth:f,fontSize:d}=t;(n!==d||a!==h)&&(i.font=`${d*c(La,this)}px ${h}`,s.prevFontSize=d,s.prevFontFamily=h);const{width:p}=i.measureText(e.textContent);p>0&&(l=`scaleX(${f*c(La,this)/p}) ${l}`)}0!==t.angle&&(l=`rotate(${t.angle}deg) ${l}`),l.length>0&&(o.transform=l)}function Yf(s=null){let e=E(Di,this,Xh)._.get(s||(s=""));if(!e){const t=document.createElement("canvas");t.className="hiddenCanvasElement",t.lang=s,document.body.append(t),e=t.getContext("2d",{alpha:!1,willReadFrequently:!0}),E(Di,this,Xh)._.set(s,e)}return e}function hw(){if(null!==E(Di,this,Al)._)return;const s=document.createElement("div");s.style.opacity=0,s.style.lineHeight=1,s.style.fontSize="1px",s.style.position="absolute",s.textContent="X",document.body.append(s),Al._=E(Di,this,s.getBoundingClientRect().height),s.remove()}function cw(s,e){const t=E(Di,this,Uh)._.get(s);if(t)return t;const i=E(Di,this,Yf).call(this,e),n=i.font;i.canvas.width=i.canvas.height=xi,i.font=`${xi}px ${s}`;const a=i.measureText("");let o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);if(o){const d=o/(o+l);return E(Di,this,Uh)._.set(s,d),i.canvas.width=i.canvas.height=0,i.font=n,d}i.strokeStyle="red",i.clearRect(0,0,xi,xi),i.strokeText("g",0,0);let h=i.getImageData(0,0,xi,xi).data;l=0;for(let d=h.length-1-3;d>=0;d-=4)if(h[d]>0){l=Math.ceil(d/4/xi);break}i.clearRect(0,0,xi,xi),i.strokeText("A",0,xi),h=i.getImageData(0,0,xi,xi).data,o=0;for(let d=0,p=h.length;d<p;d+=4)if(h[d]>0){o=xi-Math.floor(d/4/xi);break}i.canvas.width=i.canvas.height=0,i.font=n;const f=o?o/(o+l):ow;return E(Di,this,Uh)._.set(s,f),f}Di=ns;var Uh={_:new Map},Xh={_:new Map},Al={_:null},Kf={_:new Set};class yl{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};return function n(a){var o;if(!a)return;let l=null;const h=a.name;if("#text"===h)l=a.value;else{if(!yl.shouldBuildText(h))return;null!=a&&null!==(o=a.attributes)&&void 0!==o&&o.textContent?l=a.attributes.textContent:a.value&&(l=a.value)}if(null!==l&&t.push({str:l}),a.children)for(const f of a.children)n(f)}(e),i}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const dw=65536,gw=Mt?class A1 extends ya{_createCanvas(e,t){return As.get("canvas").createCanvas(e,t)}}:class U_ extends ya{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}},mw=Mt?class y1 extends Ea{_fetchData(e,t){return Qm(e).then(i=>({cMapData:i,compressionType:t}))}}:Dm,vw=Mt?class b1 extends Hs{}:class j_ extends Hs{constructor({docId:e,ownerDocument:t=globalThis.document}={}){super(),Ie(this,pe),k(this,Xo,void 0),k(this,xa,void 0),k(this,En,void 0),k(this,wr,void 0),k(this,bi,void 0),k(this,af,void 0),k(this,Cn,0),x(wr,this,e),x(bi,this,t)}addFilter(e){var t,i;if(!e)return"none";let n=Ee(pe,this,oi).get(e);if(n)return n;const[a,o,l]=E(pe,this,of).call(this,e),h=1===e.length?a:`${a}${o}${l}`;if(n=Ee(pe,this,oi).get(h),n)return Ee(pe,this,oi).set(e,n),n;const f=`g_${c(wr,this)}_transfer_map_${x(Cn,this,(t=c(Cn,this),i=t++,t)),i}`,d=E(pe,this,Yo).call(this,f);Ee(pe,this,oi).set(e,d),Ee(pe,this,oi).set(h,d);const p=E(pe,this,Ko).call(this,f);return E(pe,this,bh).call(this,a,o,l,p),d}addHCMFilter(e,t){var i;const n=`${e}-${t}`,a="base";let o=Ee(pe,this,Zo).get(a);if((null===(i=o)||void 0===i?void 0:i.key)===n)return o.url;var l;if(o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=n,o.url="none",o.filter=null):(o={key:n,url:"none",filter:null},Ee(pe,this,Zo).set(a,o)),!e||!t)return o.url;const h=E(pe,this,Ah).call(this,e);e=q.makeHexColor(...h);const f=E(pe,this,Ah).call(this,t);if(t=q.makeHexColor(...f),Ee(pe,this,qo).style.color="","#000000"===e&&"#ffffff"===t||e===t)return o.url;const d=new Array(256);for(let A=0;A<=255;A++){const C=A/255;d[A]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const p=d.join(","),m=`g_${c(wr,this)}_hcm_filter`,_=o.filter=E(pe,this,Ko).call(this,m);E(pe,this,bh).call(this,p,p,p,_),E(pe,this,km).call(this,_);const w=(A,C)=>{const b=h[A]/255,P=f[A]/255,S=new Array(C+1);for(let T=0;T<=C;T++)S[T]=b+T/C*(P-b);return S.join(",")};return E(pe,this,bh).call(this,w(0,5),w(1,5),w(2,5),_),o.url=E(pe,this,Yo).call(this,m),o.url}addAlphaFilter(e){var t,i;let n=Ee(pe,this,oi).get(e);if(n)return n;const[a]=E(pe,this,of).call(this,[e]),o=`alpha_${a}`;if(n=Ee(pe,this,oi).get(o),n)return Ee(pe,this,oi).set(e,n),n;const l=`g_${c(wr,this)}_alpha_map_${x(Cn,this,(t=c(Cn,this),i=t++,t)),i}`,h=E(pe,this,Yo).call(this,l);Ee(pe,this,oi).set(e,h),Ee(pe,this,oi).set(o,h);const f=E(pe,this,Ko).call(this,l);return E(pe,this,Tm).call(this,a,f),h}addLuminosityFilter(e){var t,i;let a,o,n=Ee(pe,this,oi).get(e||"luminosity");if(n)return n;if(e?([a]=E(pe,this,of).call(this,[e]),o=`luminosity_${a}`):o="luminosity",n=Ee(pe,this,oi).get(o),n)return Ee(pe,this,oi).set(e,n),n;const l=`g_${c(wr,this)}_luminosity_map_${x(Cn,this,(t=c(Cn,this),i=t++,t)),i}`,h=E(pe,this,Yo).call(this,l);Ee(pe,this,oi).set(e,h),Ee(pe,this,oi).set(o,h);const f=E(pe,this,Ko).call(this,l);return E(pe,this,G_).call(this,f),e&&E(pe,this,Tm).call(this,a,f),h}addHighlightHCMFilter(e,t,i,n,a){var o;const l=`${t}-${i}-${n}-${a}`;let h=Ee(pe,this,Zo).get(e);if((null===(o=h)||void 0===o?void 0:o.key)===l)return h.url;var f;if(h?(null===(f=h.filter)||void 0===f||f.remove(),h.key=l,h.url="none",h.filter=null):(h={key:l,url:"none",filter:null},Ee(pe,this,Zo).set(e,h)),!t||!i)return h.url;const[d,p]=[t,i].map(E(pe,this,Ah).bind(this));let m=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),_=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[w,A]=[n,a].map(E(pe,this,Ah).bind(this));_<m&&([m,_,w,A]=[_,m,A,w]),Ee(pe,this,qo).style.color="";const C=(S,T,O)=>{const M=new Array(256),R=(_-m)/O,I=S/255,F=(T-S)/(255*O);let B=0;for(let N=0;N<=O;N++){const V=Math.round(m+N*R),H=I+N*F;for(let j=B;j<=V;j++)M[j]=H;B=V+1}for(let N=B;N<256;N++)M[N]=M[B-1];return M.join(",")},b=`g_${c(wr,this)}_hcm_${e}_filter`,P=h.filter=E(pe,this,Ko).call(this,b);return E(pe,this,km).call(this,P),E(pe,this,bh).call(this,C(w[0],A[0],5),C(w[1],A[1],5),C(w[2],A[2],5),P),h.url=E(pe,this,Yo).call(this,b),h.url}destroy(e=!1){e&&0!==Ee(pe,this,Zo).size||(c(En,this)&&(c(En,this).parentNode.parentNode.remove(),x(En,this,null)),c(xa,this)&&(c(xa,this).clear(),x(xa,this,null)),x(Cn,this,0))}},_w=Mt?class E1 extends yn{_fetchData(e){return Qm(e)}}:Fm;function ww(s={}){var e,t;"string"==typeof s||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const i=new yw,{docId:n}=i,a=s.url?function bw(s){if(s instanceof URL)return s.href;try{return new URL(s,window.location).href}catch{if(Mt&&"string"==typeof s)return s}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(s.url):null,o=s.data?function Aw(s){if(Mt&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if("string"==typeof s)return g(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||"object"==typeof s&&!isNaN(null==s?void 0:s.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(s.data):null,l=s.httpHeaders||null,h=!0===s.withCredentials,f=null!==(e=s.password)&&void 0!==e?e:null,d=s.range instanceof P0?s.range:null,p=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:dw;let m=s.worker instanceof Ui?s.worker:null;const _=s.verbosity,w="string"!=typeof s.docBaseUrl||Eh(s.docBaseUrl)?null:s.docBaseUrl,A="string"==typeof s.cMapUrl?s.cMapUrl:null,C=!1!==s.cMapPacked,b=s.CMapReaderFactory||mw,P="string"==typeof s.standardFontDataUrl?s.standardFontDataUrl:null,S=s.StandardFontDataFactory||_w,T=!0!==s.stopAtErrors,O=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,M=!1!==s.isEvalSupported,R="boolean"==typeof s.isOffscreenCanvasSupported?s.isOffscreenCanvasSupported:!Mt,I=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,F="boolean"==typeof s.disableFontFace?s.disableFontFace:Mt,B=!0===s.fontExtraProperties,N=!0===s.enableXfa,V=s.ownerDocument||globalThis.document,H=!0===s.disableRange,j=!0===s.disableStream,Y=!0===s.disableAutoFetch,J=!0===s.pdfBug,G=!0===s.enableHWA,Z=d?d.length:null!==(t=s.length)&&void 0!==t?t:NaN,ae="boolean"==typeof s.useSystemFonts?s.useSystemFonts:!Mt&&!F,fe="boolean"==typeof s.useWorkerFetch?s.useWorkerFetch:b===Dm&&S===Fm&&A&&P&&Jo(A,document.baseURI)&&Jo(P,document.baseURI),se=s.canvasFactory||new gw({ownerDocument:V,enableHWA:G}),ee=s.filterFactory||new vw({docId:n,ownerDocument:V});!function mr(s){Number.isInteger(s)&&(gr=s)}(_);const Fe={canvasFactory:se,filterFactory:ee};if(fe||(Fe.cMapReaderFactory=new b({baseUrl:A,isCompressed:C}),Fe.standardFontDataFactory=new S({baseUrl:P})),!m){const we={verbosity:_,port:ss.workerPort};m=we.port?Ui.fromPort(we):new Ui(we),i._worker=m}const oe={docId:n,apiVersion:"4.5.136",data:o,password:f,disableAutoFetch:Y,rangeChunkSize:p,length:Z,docBaseUrl:w,enableXfa:N,evaluatorOptions:{maxImageSize:O,disableFontFace:F,ignoreErrors:T,isEvalSupported:M,isOffscreenCanvasSupported:R,canvasMaxAreaInBytes:I,fontExtraProperties:B,useSystemFonts:ae,cMapUrl:fe?A:null,standardFontDataUrl:fe?P:null}},Pe={disableFontFace:F,fontExtraProperties:B,ownerDocument:V,pdfBug:J,styleElement:null,loadingParams:{disableAutoFetch:Y,enableXfa:N}};return m.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const we=m.messageHandler.sendWithPromise("GetDocRequest",oe,o?[o.buffer]:null);let st;if(d)st=new $1(d,{disableRange:H,disableStream:j});else if(!o){if(!a)throw new Error("getDocument - no `url` parameter provided.");ct={url:a,length:Z,httpHeaders:l,withCredentials:h,rangeChunkSize:p,disableRange:H,disableStream:j},st=Mt?typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Jo(ct.url)?new b0(ct):new tw(ct):Jo(ct.url)?new b0(ct):new K1(ct)}var ct;return we.then(ht=>{if(i.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ct=new ml(n,ht,m.port),ue=new Sw(ct,i,st,Pe,Fe);i._transport=ue,ct.send("Ready",null)})}).catch(i._capability.reject),i}function x0(s){return"object"==typeof s&&Number.isInteger(null==s?void 0:s.num)&&s.num>=0&&Number.isInteger(null==s?void 0:s.gen)&&s.gen>=0}class yw{constructor(){var e,t;this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${S0._=(e=S0._,t=e++,e),t}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){var e=this;return(0,re.A)(function*(){e.destroyed=!0;try{var t,i;null!==(t=e._worker)&&void 0!==t&&t.port&&(e._worker._pendingDestroy=!0),yield null===(i=e._transport)||void 0===i?void 0:i.destroy()}catch(a){var n;throw null!==(n=e._worker)&&void 0!==n&&n.port&&delete e._worker._pendingDestroy,a}e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})()}}var S0={_:0};class P0{constructor(e,t,i=!1,n=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=n,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Ke("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Ew{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ia=new WeakMap,Er=new WeakMap,Gs=new WeakSet;class Cw{constructor(e,t,i,n=!1){Ie(this,Gs),k(this,Ia,null),k(this,Er,!1),this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=n?new Lm:null,this._pdfBug=n,this.commonObjs=i.commonObjs,this.objs=new k0,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:n=0,dontFlip:a=!1}={}){return new Qo({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:n,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ze(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){var e=this;return(0,re.A)(function*(){var t;return(null===(t=e._transport._htmlForXfa)||void 0===t?void 0:t.children[e._pageIndex])||null})()}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:n=Ki.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:d=null,isEditing:p=!1}){var m,_;null===(m=this._stats)||void 0===m||m.time("Overall");const w=this._transport.getRenderingIntent(i,n,d,p),{renderingIntent:A,cacheKey:C}=w;x(Er,this,!1),E(Gs,this,Qf).call(this),l||(l=this._transport.getOptionalContentConfig(A));let b=this._intentStates.get(C);b||(b=Object.create(null),this._intentStates.set(C,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const P=!!(4&A);var S;b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(S=this._stats)||void 0===S||S.time("Page Request"),this._pumpOperatorList(w));const T=R=>{var I;b.renderTasks.delete(O),(this._maybeCleanupAfterRender||P)&&x(Er,this,!0),E(Gs,this,El).call(this,!P),R?(O.capability.reject(R),this._abortOperatorList({intentState:b,reason:R instanceof Error?R:new Error(R)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(I=globalThis.Stats)&&void 0!==I&&I.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new Mw({callback:T,params:{canvasContext:e,viewport:t,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!P,pdfBug:this._pdfBug,pageColors:f});((_=b).renderTasks||(_.renderTasks=new Set)).add(O);const M=O.task;return Promise.all([b.displayReadyCapability.promise,l]).then(([R,I])=>{var F;if(this.destroyed)T();else{if(null===(F=this._stats)||void 0===F||F.time("Rendering"),!(I.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:R,optionalContentConfig:I}),O.operatorListChanged()}}).catch(T),M}getOperatorList({intent:e="display",annotationMode:t=Ki.ENABLE,printAnnotationStorage:i=null,isEditing:n=!1}={}){const o=this._transport.getRenderingIntent(e,t,i,n,!0);let h,l=this._intentStates.get(o.cacheKey);var f,d;return l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l)),l.opListReadCapability||(h=Object.create(null),h.operatorListChanged=function a(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(h))},l.opListReadCapability=Promise.withResolvers(),((f=l).renderTasks||(f.renderTasks=new Set)).add(h),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(d=this._stats)||void 0===d||d.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:n=>n.items.length})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>yl.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,n){const o=t.getReader(),l={items:[],styles:Object.create(null),lang:null};!function a(){o.read().then(function({value:h,done:f}){var d;f?i(l):(null!==(d=l.lang)&&void 0!==d||(l.lang=h.lang),Object.assign(l.styles,h.styles),l.items.push(...h.items),a())},n)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),x(Er,this,!1),E(Gs,this,Qf).call(this),Promise.all(e)}cleanup(e=!1){x(Er,this,!0);const t=E(Gs,this,El).call(this,!1);return e&&t&&this._stats&&(this._stats=new Lm),t}_startRenderPage(e,t){var i,n;const a=this._intentStates.get(t);a&&(null===(i=this._stats)||void 0===i||i.timeEnd("Page Request"),null===(n=a.displayReadyCapability)||void 0===n||n.resolve(e))}_renderPageChunk(e,t){for(let i=0,n=e.length;i<n;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&E(Gs,this,El).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:n}){const{map:a,transfer:o}=i,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a,modifiedIds:n},o).getReader(),f=this._intentStates.get(t);f.streamReader=h;const d=()=>{h.read().then(({value:p,done:m})=>{m?f.streamReader=null:this._transport.destroyed||(this._renderPageChunk(p,f),d())},p=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const m of f.renderTasks)m.operatorListChanged();E(Gs,this,El).call(this,!0)}if(f.displayReadyCapability)f.displayReadyCapability.reject(p);else{if(!f.opListReadCapability)throw p;f.opListReadCapability.reject(p)}}})};d()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof hf){let n=100;return t.extraDelay>0&&t.extraDelay<1e3&&(n+=t.extraDelay),void(e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},n))}}if(e.streamReader.cancel(new r(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[n,a]of this._intentStates)if(a===e){this._intentStates.delete(n);break}this.cleanup()}}}get stats(){return this._stats}}function El(s=!1){if(E(Gs,this,Qf).call(this),!c(Er,this)||this.destroyed)return!1;if(s)return x(Ia,this,setTimeout(()=>{x(Ia,this,null),E(Gs,this,El).call(this,!1)},5e3)),!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),x(Er,this,!1),!0}function Qf(){c(Ia,this)&&(clearTimeout(c(Ia,this)),x(Ia,this,null))}var Cl=new WeakMap,M0=new WeakMap;class xw{constructor(){k(this,Cl,new Set),k(this,M0,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};c(M0,this).then(()=>{for(const n of c(Cl,this))n.call(this,i)})}addEventListener(e,t){c(Cl,this).add(t)}removeEventListener(e,t){c(Cl,this).delete(t)}terminate(){c(Cl,this).clear()}}const Us={isWorkerDisabled:!1,fakeWorkerId:0};Mt&&(Us.isWorkerDisabled=!0,ss.workerSrc||(ss.workerSrc="./pdf.worker.mjs")),Us.isSameOrigin=function(s,e){let t;try{if(t=new URL(s),!t.origin||"null"===t.origin)return!1}catch{return!1}const i=new URL(e,t);return t.origin===i.origin},Us.createCDNWrapper=function(s){return URL.createObjectURL(new Blob([`await import("${s}");`],{type:"text/javascript"}))};var Zh=new WeakSet;class Ui{constructor({name:e=null,port:t=null,verbosity:i=tf()}={}){if(Ie(this,Zh),this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){var n;if(null!==(n=xl._)&&void 0!==n&&n.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(xl._||(xl._=new WeakMap)).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return Mt?Promise.all([As.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new ml("main","worker",e),this._messageHandler.on("ready",function(){}),E(Zh,this,Jf).call(this)}_initialize(){if(Us.isWorkerDisabled||ep())return void this._setupFakeWorker();let{workerSrc:e}=Ui;try{Us.isSameOrigin(window.location.href,e)||(e=Us.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new ml("main","worker",t),n=()=>{a.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;t.addEventListener("error",()=>{this._webWorker||n()},{signal:a.signal}),i.on("test",l=>{a.abort(),!this.destroyed&&l?(this._messageHandler=i,this._port=t,this._webWorker=t,E(Zh,this,Jf).call(this)):n()}),i.on("ready",l=>{if(a.abort(),this.destroyed)n();else try{o()}catch{this._setupFakeWorker()}});const o=()=>{const l=new Uint8Array;i.send("test",l,[l.buffer])};return void o()}catch{Ws("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Us.isWorkerDisabled||(De("Setting up fake worker."),Us.isWorkerDisabled=!0),Ui._setupFakeWorkerGlobal.then(e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new xw;this._port=t;const i="fake"+Us.fakeWorkerId++,n=new ml(i+"_worker",i,t);e.setup(n,t),this._messageHandler=new ml(i,i+"_worker",t),E(Zh,this,Jf).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(e=xl._)||void 0===e||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var t;if(null==e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const i=null===(t=E(Ui,this,xl)._)||void 0===t?void 0:t.get(e.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new Ui(e)}static get workerSrc(){if(ss.workerSrc)return ss.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){var e=this;return ze(this,"_setupFakeWorkerGlobal",function(){var i=(0,re.A)(function*(){return Ee(Ui,e,ep)?Ee(Ui,e,ep):(yield import(e.workerSrc)).WorkerMessageHandler});return function(){return i.apply(this,arguments)}}()())}}function Jf(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}function ep(s){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch{return null}}var xl={_:void 0},Cr=new WeakMap,Mn=new WeakMap,qh=new WeakMap,Yh=new WeakMap,kn=new WeakMap,Sl=new WeakSet;class Sw{constructor(e,t,i,n,a){Ie(this,Sl),k(this,Cr,new Map),k(this,Mn,new Map),k(this,qh,new Map),k(this,Yh,new Map),k(this,kn,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new k0,this.fontLoader=new _1({ownerDocument:n.ownerDocument,styleElement:n.styleElement}),this.loadingParams=n.loadingParams,this._params=n,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ze(this,"annotationStorage",new Sf)}getRenderingIntent(e,t=Ki.ENABLE,i=null,n=!1,a=!1){let o=2,l=xf;switch(e){case"any":o=1;break;case"display":break;case"print":o=4;break;default:De(`getRenderingIntent - invalid intent: ${e}`)}const h=4&o&&i instanceof Km?i:this.annotationStorage;switch(t){case Ki.DISABLE:o+=64;break;case Ki.ENABLE:break;case Ki.ENABLE_FORMS:o+=16;break;case Ki.ENABLE_STORAGE:o+=32,l=h.serializable;break;default:De(`getRenderingIntent - invalid annotationMode: ${t}`)}n&&(o+=128),a&&(o+=256);const{ids:f,hash:d}=h.modifiedIds;return{renderingIntent:o,cacheKey:[o,l.hash,d].join("_"),annotationStorageSerializable:l,modifiedIds:f}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(e=c(kn,this))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of c(Mn,this).values())t.push(n._destroy());c(Mn,this).clear(),c(qh,this).clear(),c(Yh,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return t.push(i),Promise.all(t).then(()=>{var n;this.commonObjs.clear(),this.fontLoader.clear(),c(Cr,this).clear(),this.filterFactory.destroy(),ns.cleanup(),null===(n=this._networkStream)||void 0===n||n.cancelAllRequests(new r("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,n)=>{xt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},n.onPull=()=>{this._fullReader.read().then(function({value:a,done:o}){o?n.close():(xt(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(a),1,[a]))}).catch(a=>{n.error(a)})},n.onCancel=a=>{this._fullReader.cancel(a),n.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",i=>{const n=Promise.withResolvers(),a=this._fullReader;return a.headersReady.then(()=>{var o;a.isStreamingSupported&&a.isRangeSupported||(this._lastProgress&&(null===(o=t.onProgress)||void 0===o||o.call(t,this._lastProgress)),a.onProgress=l=>{var h;null===(h=t.onProgress)||void 0===h||h.call(t,{loaded:l.loaded,total:l.total})});n.resolve({isStreamingSupported:a.isStreamingSupported,isRangeSupported:a.isRangeSupported,contentLength:a.contentLength})},n.reject),n.promise}),e.on("GetRangeReader",(i,n)=>{xt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(i.begin,i.end);a?(n.onPull=()=>{a.read().then(function({value:o,done:l}){l?n.close():(xt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(o),1,[o]))}).catch(o=>{n.error(o)})},n.onCancel=o=>{a.cancel(o),n.ready.catch(l=>{if(!this.destroyed)throw l})}):n.close()}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new Ew(i,this))}),e.on("DocException",function(i){let n;switch(i.name){case"PasswordException":n=new ba(i.message,i.code);break;case"InvalidPDFException":n=new mh(i.message);break;case"MissingPDFException":n=new _s(i.message);break;case"UnexpectedResponseException":n=new vr(i.message,i.status);break;case"UnknownErrorException":n=new Aa(i.message,i.details);break;default:Ke("DocException - expected a valid Error.")}t._capability.reject(n)}),e.on("PasswordRequest",i=>{if(x(kn,this,Promise.withResolvers()),t.onPassword){const n=a=>{a instanceof Error?c(kn,this).reject(a):c(kn,this).resolve({password:a})};try{t.onPassword(n,i.code)}catch(a){c(kn,this).reject(a)}}else c(kn,this).reject(new ba(i.message,i.code));return c(kn,this).promise}),e.on("DataLoaded",i=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{this.destroyed||c(Mn,this).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,n,a])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(n){case"Font":const{disableFontFace:l,fontExtraProperties:h,pdfBug:f}=this._params;if("error"in a){const _=a.error;De(`Error during font loading: ${_}`),this.commonObjs.resolve(i,_);break}const d=f&&null!==(o=globalThis.FontInspector)&&void 0!==o&&o.enabled?(_,w)=>globalThis.FontInspector.fontAdded(_,w):null,p=new w1(a,{disableFontFace:l,inspectFont:d});this.fontLoader.bind(p).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!h&&p.data&&(p.data=null),this.commonObjs.resolve(i,p)});break;case"CopyLocalImage":const{imageRef:m}=a;xt(m,"The imageRef must be defined.");for(const _ of c(Mn,this).values())for(const[,w]of _.objs)if((null==w?void 0:w.ref)===m)return w.dataLen?(this.commonObjs.resolve(i,structuredClone(w)),w.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,a);break;default:throw new Error(`Got unknown common object type ${n}`)}return null}),e.on("obj",([i,n,a,o])=>{if(this.destroyed)return;const l=c(Mn,this).get(n);if(!l.objs.has(i)){var h;if(0===l._intentStates.size)return void(null==o||null===(h=o.bitmap)||void 0===h||h.close());switch(a){case"Image":l.objs.resolve(i,o),(null==o?void 0:o.dataLen)>1e7&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",i=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&De("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:i,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:i,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=c(qh,this).get(t);if(i)return i;const n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&c(Yh,this).set(a.refStr,e);const o=new Cw(t,a,this,this._params.pdfBug);return c(Mn,this).set(t,o),o});return c(qh,this).set(t,n),n}getPageIndex(e){return x0(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return E(Sl,this,Kh).call(this,"GetFieldObjects")}hasJSActions(){return E(Sl,this,Kh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return E(Sl,this,Kh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return E(Sl,this,Kh).call(this,"GetOptionalContentConfig").then(t=>new V1(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(Cr,this).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(n=>{var a,o,l,h;return{info:n[0],metadata:n[1]?new W1(n[1]):null,contentDispositionFilename:null!==(a=null===(o=this._fullReader)||void 0===o?void 0:o.filename)&&void 0!==a?a:null,contentLength:null!==(l=null===(h=this._fullReader)||void 0===h?void 0:h.contentLength)&&void 0!==l?l:null}});return c(Cr,this).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){var t=this;return(0,re.A)(function*(){if(!t.destroyed){yield t.messageHandler.sendWithPromise("Cleanup",null);for(const i of c(Mn,t).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);t.commonObjs.clear(),e||t.fontLoader.clear(),c(Cr,t).clear(),t.filterFactory.destroy(!0),ns.cleanup()}})()}cachedPageNumber(e){var t;if(!x0(e))return null;const i=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return null!==(t=c(Yh,this).get(i))&&void 0!==t?t:null}}function Kh(s,e=null){const t=c(Cr,this).get(s);if(t)return t;const i=this.messageHandler.sendWithPromise(s,e);return c(Cr,this).set(s,i),i}const Qh=Symbol("INITIAL_DATA");var Xs=new WeakMap,tp=new WeakSet;class k0{constructor(){Ie(this,tp),k(this,Xs,Object.create(null))}get(e,t=null){if(t){const n=E(tp,this,T0).call(this,e);return n.promise.then(()=>t(n.data)),null}const i=c(Xs,this)[e];if(!i||i.data===Qh)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=c(Xs,this)[e];return!!t&&t.data!==Qh}resolve(e,t=null){const i=E(tp,this,T0).call(this,e);i.data=t,i.resolve()}clear(){for(const t in c(Xs,this)){var e;const{data:i}=c(Xs,this)[t];null==i||null===(e=i.bitmap)||void 0===e||e.close()}x(Xs,this,Object.create(null))}*[Symbol.iterator](){for(const e in c(Xs,this)){const{data:t}=c(Xs,this)[e];t!==Qh&&(yield[e,t])}}}function T0(s){var e;return(e=c(Xs,this))[s]||(e[s]={...Promise.withResolvers(),data:Qh})}var Ba=new WeakMap;class Pw{constructor(e){k(this,Ba,null),x(Ba,this,e),this.onContinue=null}get promise(){return c(Ba,this).capability.promise}cancel(e=0){c(Ba,this).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(Ba,this).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(Ba,this);return e.form||e.canvas&&(null==t?void 0:t.size)>0}}var Ra=new WeakMap;class Mw{constructor({callback:e,params:t,objs:i,commonObjs:n,annotationCanvasMap:a,operatorList:o,pageIndex:l,canvasFactory:h,filterFactory:f,useRequestAnimationFrame:d=!1,pdfBug:p=!1,pageColors:m=null}){k(this,Ra,null),this.callback=e,this.params=t,this.objs=i,this.commonObjs=n,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=h,this.filterFactory=f,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Pw(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var i,n;if(this.cancelled)return;if(this._canvas){if(Jh._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Jh._.add(this._canvas)}this._pdfBug&&null!==(i=globalThis.StepperManager)&&void 0!==i&&i.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:o,transform:l,background:h}=this.params;this.gfx=new Ma(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:o,transparency:e,background:h}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,null===(i=this.gfx)||void 0===i||i.endDrawing(),c(Ra,this)&&(window.cancelAnimationFrame(c(Ra,this)),x(Ra,this,null)),Jh._.delete(this._canvas),this.callback(e||new hf(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?x(Ra,this,window.requestAnimationFrame(()=>{x(Ra,this,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var e=this;return(0,re.A)(function*(){e.cancelled||(e.operatorListIdx=e.gfx.executeOperatorList(e.operatorList,e.operatorListIdx,e._continueBound,e.stepper),e.operatorListIdx===e.operatorList.argsArray.length&&(e.running=!1,e.operatorList.lastChunk&&(e.gfx.endDrawing(),Jh._.delete(e._canvas),e.callback())))})()}}var Jh={_:new WeakSet};const kw="4.5.136",Tw="3a21f03b0";function D0(s){return Math.floor(255*Math.max(0,Math.min(1,s))).toString(16).padStart(2,"0")}function Pl(s){return Math.max(0,Math.min(255,255*s))}class F0{static CMYK_G([e,t,i,n]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+n)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return[e=Pl(e),e,e]}static G_HTML([e]){const t=D0(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(Pl)}static RGB_HTML(e){return`#${e.map(D0).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,n]){return["RGB",1-Math.min(1,e+n),1-Math.min(1,i+n),1-Math.min(1,t+n)]}static CMYK_rgb([e,t,i,n]){return[Pl(1-Math.min(1,e+n)),Pl(1-Math.min(1,i+n)),Pl(1-Math.min(1,t+n))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const n=1-e,a=1-t,o=1-i;return["CMYK",n,a,o,Math.min(n,a,o)]}}class L0{static setupStorage(e,t,i,n,a){const o=n.getValue(t,{value:null});switch(i.name){case"textarea":if(null!==o.value&&(e.textContent=o.value),"print"===a)break;e.addEventListener("input",l=>{n.setValue(t,{value:l.target.value})});break;case"input":if("radio"===i.attributes.type||"checkbox"===i.attributes.type){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),"print"===a)break;e.addEventListener("change",l=>{n.setValue(t,{value:l.target.getAttribute(l.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==o.value&&e.setAttribute("value",o.value),"print"===a)break;e.addEventListener("input",l=>{n.setValue(t,{value:l.target.value})})}break;case"select":if(null!==o.value){e.setAttribute("value",o.value);for(const l of i.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const h=l.target.options;n.setValue(t,{value:-1===h.selectedIndex?"":h[h.selectedIndex].value})})}}static setAttributes({html:e,element:t,storage:i=null,intent:n,linkService:a}){const{attributes:o}=t,l=e instanceof HTMLAnchorElement;"radio"===o.type&&(o.name=`${o.name}-${n}`);for(const[h,f]of Object.entries(o))if(null!=f)switch(h){case"class":f.length&&e.setAttribute(h,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!l||"href"!==h&&"newWindow"!==h)&&e.setAttribute(h,f)}l&&a.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){const t=e.annotationStorage,i=e.linkService,n=e.xfaHtml,a=e.intent||"display",o=document.createElement(n.name);n.attributes&&this.setAttributes({html:o,element:n,intent:a,linkService:i});const l="richText"!==a,h=e.div;if(h.append(o),e.viewport){const _=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=_}l&&h.setAttribute("class","xfaLayer xfaFont");const f=[];if(0===n.children.length){if(n.value){const _=document.createTextNode(n.value);o.append(_),l&&yl.shouldBuildText(n.name)&&f.push(_)}return{textDivs:f}}const d=[[n,-1,o]];for(;d.length>0;){var p,m;const[_,w,A]=d.at(-1);if(w+1===_.children.length){d.pop();continue}const C=_.children[++d.at(-1)[1]];if(null===C)continue;const{name:b}=C;if("#text"===b){const S=document.createTextNode(C.value);f.push(S),A.append(S);continue}const P=null!=C&&null!==(p=C.attributes)&&void 0!==p&&p.xmlns?document.createElementNS(C.attributes.xmlns,b):document.createElement(b);if(A.append(P),C.attributes&&this.setAttributes({html:P,element:C,storage:t,intent:a,linkService:i}),(null===(m=C.children)||void 0===m?void 0:m.length)>0)d.push([C,-1,P]);else if(C.value){const S=document.createTextNode(C.value);l&&yl.shouldBuildText(b)&&f.push(S),P.append(S)}}for(const _ of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ml=1e3,xr=new WeakSet;function Zs(s){return{width:s[2]-s[0],height:s[3]-s[1]}}class Fw{static create(e){switch(e.data.annotationType){case 2:return new B0(e);case 1:return new Bw(e);case 20:switch(e.data.fieldType){case"Tx":return new Rw(e);case"Btn":return e.data.radioButton?new R0(e):e.data.checkBox?new Nw(e):new zw(e);case"Ch":return new Ww(e);case"Sig":return new Ow(e)}return new Sr(e);case 16:return new sp(e);case 3:return new H0(e);case 4:return new Uw(e);case 5:return new Xw(e);case 6:return new Zw(e);case 8:return new V0(e);case 14:return new Yw(e);case 15:return new $0(e);case 7:return new qw(e);case 9:return new Kw(e);case 10:return new Qw(e);case 11:return new Jw(e);case 12:return new eb(e);case 13:return new j0(e);case 17:return new tb(e);default:return new Dt(e)}}}var Oa=new WeakMap,ec=new WeakMap,tc=new WeakMap,ip=new WeakSet;class Dt{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:n=!1}={}){Ie(this,ip),k(this,Oa,null),k(this,ec,!1),k(this,tc,null),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),n&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(null!=e&&e.str||null!=t&&t.str||null!=i&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Dt._hasPopupData(this.data)}updateEdited(e){var t;if(!this.container)return;c(Oa,this)||x(Oa,this,{rect:this.data.rect.slice(0)});const{rect:i}=e;i&&E(ip,this,I0).call(this,i),null===(t=c(tc,this))||void 0===t||t.popup.updateEdited(e)}resetEdited(){var e;c(Oa,this)&&(E(ip,this,I0).call(this,c(Oa,this).rect),null===(e=c(tc,this))||void 0===e||e.popup.resetEdited(),x(Oa,this,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:n}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),this instanceof Sr||(a.tabIndex=Ml);const{style:o}=a;if(o.zIndex=this.parent.zIndex++,t.popupRef&&a.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof sp){const{rotation:A}=t;return!t.hasOwnCanvas&&0!==A&&this.setRotation(A,a),a}const{width:l,height:h}=Zs(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const A=t.borderStyle.horizontalCornerRadius,C=t.borderStyle.verticalCornerRadius;switch(A>0||C>0?o.borderRadius=`calc(${A}px * var(--scale-factor)) / calc(${C}px * var(--scale-factor))`:this instanceof R0&&(o.borderRadius=`calc(${l}px * var(--scale-factor)) / calc(${h}px * var(--scale-factor))`),t.borderStyle.style){case 1:o.borderStyle="solid";break;case 2:o.borderStyle="dashed";break;case 3:De("Unimplemented border style: beveled");break;case 4:De("Unimplemented border style: inset");break;case 5:o.borderBottomStyle="solid"}const b=t.borderColor||null;b?(x(ec,this,!0),o.borderColor=q.makeHexColor(0|b[0],0|b[1],0|b[2])):o.borderWidth=0}const f=q.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:p,pageX:m,pageY:_}=n.rawDims;o.left=100*(f[0]-m)/d+"%",o.top=100*(f[1]-_)/p+"%";const{rotation:w}=t;return t.hasOwnCanvas||0===w?(o.width=100*l/d+"%",o.height=100*h/p+"%"):this.setRotation(w,a),a}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:n}=this.parent.viewport.rawDims,{width:a,height:o}=Zs(this.data.rect);let l,h;e%180==0?(l=100*a/i,h=100*o/n):(l=100*o/i,h=100*a/n),t.style.width=`${l}%`,t.style.height=`${h}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,n)=>{const a=n.detail[t],o=a[0],l=a.slice(1);n.target.style[i]=F0[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[i]:F0[`${o}_rgb`](l)})};return ze(this,"_commonActions",{display:t=>{const{display:i}=t.detail,n=i%2==1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===i||2===i})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const n of Object.keys(t.detail)){const a=e[n]||i[n];null==a||a(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[n,a]of Object.entries(t)){const o=i[n];o&&(o({detail:{[n]:a},target:e}),delete t[n])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,n,a]=this.data.rect.map(C=>Math.fround(C));if(8===e.length){const[C,b,P,S]=e.subarray(2,6);if(n===C&&a===b&&t===P&&i===S)return}const{style:o}=this.container;let l;if(c(ec,this)){const{borderColor:C,borderWidth:b}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const h=n-t,f=a-i,{svgFactory:d}=this,p=d.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const m=d.createElement("defs");p.append(m);const _=d.createElement("clipPath"),w=`clippath_${this.data.id}`;_.setAttribute("id",w),_.setAttribute("clipPathUnits","objectBoundingBox"),m.append(_);for(let C=2,b=e.length;C<b;C+=8){var A;const P=e[C],S=e[C+1],T=e[C+2],O=e[C+3],M=d.createElement("rect"),R=(T-t)/h,I=(a-S)/f,F=(P-T)/h,B=(S-O)/f;M.setAttribute("x",R),M.setAttribute("y",I),M.setAttribute("width",F),M.setAttribute("height",B),_.append(M),null===(A=l)||void 0===A||A.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${I}" width="${F}" height="${B}"/>`)}c(ec,this)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${w})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const i=x(tc,this,new sp({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){Ke("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const n=this._fieldObjects[e];if(n)for(const{page:a,id:o,exportValues:l}of n){if(-1===a||o===t)continue;const h="string"==typeof l?l:null,f=document.querySelector(`[data-element-id="${o}"]`);!f||xr.has(f)?i.push({id:o,exportValue:h,domElement:f}):De(`_getElementsByName - element not allowed: ${o}`)}return i}for(const n of document.getElementsByName(e)){const{exportValue:a}=n,o=n.getAttribute("data-element-id");o!==t&&xr.has(n)&&i.push({id:o,exportValue:a,domElement:n})}return i}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}}function I0(s){const{container:{style:e},data:{rect:t,rotation:i},parent:{viewport:{rawDims:{pageWidth:n,pageHeight:a,pageX:o,pageY:l}}}}=this;null==t||t.splice(0,4,...s);const{width:h,height:f}=Zs(s);e.left=100*(s[0]-o)/n+"%",e.top=100*(a-s[3]+l)/a+"%",0===i?(e.width=100*h/n+"%",e.height=100*f/a+"%"):this.setRotation(i)}var qs=new WeakSet;class B0 extends Dt{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!(null==t||!t.ignoreBorder),createQuadrilaterals:!0}),Ie(this,qs),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let n=!1;return e.url?(t.addLinkAttributes(i,e.url,e.newWindow),n=!0):e.action?(this._bindNamedAction(i,e.action),n=!0):e.attachment?(E(qs,this,Lw).call(this,i,e.attachment,e.attachmentDest),n=!0):e.setOCGState?(E(qs,this,Iw).call(this,i,e.setOCGState),n=!0):e.dest?(this._bindLink(i,e.dest),n=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),n=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),n=!0):this.isTooltipOnly&&!n&&(this._bindLink(i,""),n=!0)),this.container.classList.add("linkAnnotation"),n&&this.container.append(i),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&E(qs,this,Na).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),E(qs,this,Na).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const n of Object.keys(t.actions)){const a=i.get(n);a&&(e[a]=()=>{var o;return null===(o=this.linkService.eventBus)||void 0===o||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:n}}),!1})}e.onclick||(e.onclick=()=>!1),E(qs,this,Na).call(this)}_bindResetFormAction(e,t){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),E(qs,this,Na).call(this),!this._fieldObjects)return De('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(i||(e.onclick=()=>!1));e.onclick=()=>{null==i||i();const{fields:n,refs:a,include:o}=t,l=[];if(0!==n.length||0!==a.length){const p=new Set(a);for(const m of n){const _=this._fieldObjects[m]||[];for(const{id:w}of _)p.add(w)}for(const m of Object.values(this._fieldObjects))for(const _ of m)p.has(_.id)===o&&l.push(_)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const h=this.annotationStorage,f=[];for(const p of l){const{id:m}=p;switch(f.push(m),p.type){case"text":case"combobox":case"listbox":h.setValue(m,{value:p.defaultValue||""});break;case"checkbox":case"radiobutton":h.setValue(m,{value:p.defaultValue===p.exportValues});break;default:continue}const _=document.querySelector(`[data-element-id="${m}"]`);_&&(xr.has(_)?_.dispatchEvent(new Event("resetform")):De(`_bindResetFormAction - element not allowed: ${m}`))}var d;return this.enableScripting&&(null===(d=this.linkService.eventBus)||void 0===d||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}function Na(){this.container.setAttribute("data-internal-link","")}function Lw(s,e,t=null){s.href=this.linkService.getAnchorUrl(""),e.description&&(s.title=e.description),s.onclick=()=>{var i;return null===(i=this.downloadManager)||void 0===i||i.openOrDownloadData(e.content,e.filename,t),!1},E(qs,this,Na).call(this)}function Iw(s,e){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeSetOCGState(e),!1),E(qs,this,Na).call(this)}class Bw extends Dt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Sr extends Dt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return X.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,n,a){i.includes("mouse")?e.addEventListener(i,o=>{var l;null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:a(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var l;if("blur"===i){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if("focus"===i){if(t.focused)return;t.focused=!0}a&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:a(o)}}))})}_setEventListeners(e,t,i,n){for(const[h,f]of i){var a,o,l;("Action"===f||null!==(a=this.data.actions)&&void 0!==a&&a[f])&&(("Focus"===f||"Blur"===f)&&(t||(t={focused:!1})),this._setEventListener(e,t,h,f,n),"Focus"!==f||null!==(o=this.data.actions)&&void 0!==o&&o.Blur?"Blur"===f&&(null===(l=this.data.actions)||void 0===l||!l.Focus)&&this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":q.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const{fontColor:i}=this.data.defaultAppearanceData,n=this.data.defaultAppearanceData.fontSize||9,a=e.style;let o;const h=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-2),d=Math.round(f/(1.35*n))||1;o=Math.min(n,h(f/d/1.35))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-2);o=Math.min(n,h(f/1.35))}a.fontSize=`calc(${o}px * var(--scale-factor))`,a.color=q.makeHexColor(i[0],i[1],i[2]),null!==this.data.textAlignment&&(a.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Rw extends Sr{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,i,n){const a=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),a.setValue(o.id,{[n]:i})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){var n;const h=e.getValue(t,{value:this.data.fieldValue});let f=h.value||"";const d=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;d&&f.length>d&&(f=f.slice(0,d));let p=h.formattedValue||(null===(n=this.data.textContent)||void 0===n?void 0:n.join("\n"))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const m={userValue:f,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};var a,o;this.data.multiLine?(i=document.createElement("textarea"),i.textContent=null!==(a=p)&&void 0!==a?a:f,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",null!==(o=p)&&void 0!==o?o:f),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),xr.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Ml,this._setRequired(i,this.data.required),d&&(i.maxLength=d),i.addEventListener("input",w=>{e.setValue(t,{value:w.target.value}),this.setPropertyOnSiblings(i,"value",w.target.value,"value"),m.formattedValue=null}),i.addEventListener("resetform",w=>{var A;const C=null!==(A=this.data.defaultFieldValue)&&void 0!==A?A:"";i.value=m.userValue=C,m.formattedValue=null});let _=w=>{const{formattedValue:A}=m;null!=A&&(w.target.value=A),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var l;i.addEventListener("focus",A=>{var C;if(m.focused)return;const{target:b}=A;m.userValue&&(b.value=m.userValue),m.lastCommittedValue=b.value,m.commitKey=1,null!==(C=this.data.actions)&&void 0!==C&&C.Focus||(m.focused=!0)}),i.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target),this._dispatchEventFromSandbox({value(b){var P;m.userValue=null!==(P=b.detail.value)&&void 0!==P?P:"",e.setValue(t,{value:m.userValue.toString()}),b.target.value=m.userValue},formattedValue(b){const{formattedValue:P}=b.detail;m.formattedValue=P,null!=P&&b.target!==document.activeElement&&(b.target.value=P),e.setValue(t,{formattedValue:P})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{var P;const{charLimit:S}=b.detail,{target:T}=b;if(0===S)return void T.removeAttribute("maxLength");T.setAttribute("maxLength",S);let O=m.userValue;!O||O.length<=S||(O=O.slice(0,S),T.value=m.userValue=O,e.setValue(t,{value:O}),null===(P=this.linkService.eventBus)||void 0===P||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:O,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}},A)}),i.addEventListener("keydown",A=>{var C;m.commitKey=1;let b=-1;if("Escape"===A.key?b=0:"Enter"!==A.key||this.data.multiLine?"Tab"===A.key&&(m.commitKey=3):b=2,-1===b)return;const{value:P}=A.target;m.lastCommittedValue!==P&&(m.lastCommittedValue=P,m.userValue=P,null===(C=this.linkService.eventBus)||void 0===C||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,willCommit:!0,commitKey:b,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const w=_;_=null,i.addEventListener("blur",A=>{var C;if(!m.focused||!A.relatedTarget)return;null!==(C=this.data.actions)&&void 0!==C&&C.Blur||(m.focused=!1);const{value:b}=A.target;var P;m.userValue=b,m.lastCommittedValue!==b&&(null===(P=this.linkService.eventBus)||void 0===P||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:m.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),w(A)}),null!==(l=this.data.actions)&&void 0!==l&&l.Keystroke&&i.addEventListener("beforeinput",A=>{var C;m.lastCommittedValue=null;const{data:b,target:P}=A,{value:S,selectionStart:T,selectionEnd:O}=P;let M=T,R=O;switch(A.inputType){case"deleteWordBackward":{const I=S.substring(0,T).match(/\w*[^\w]*$/);I&&(M-=I[0].length);break}case"deleteWordForward":{const I=S.substring(T).match(/^[^\w]*\w*/);I&&(R+=I[0].length);break}case"deleteContentBackward":T===O&&(M-=1);break;case"deleteContentForward":T===O&&(R+=1)}A.preventDefault(),null===(C=this.linkService.eventBus)||void 0===C||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:b||"",willCommit:!1,selStart:M,selEnd:R}})}),this._setEventListeners(i,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(_&&i.addEventListener("blur",_),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/d;i.classList.add("comb"),i.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Ow extends Sr{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Nw extends Sr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let n=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;"string"==typeof n&&(n="Off"!==n,e.setValue(i,{value:n})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return xr.add(a),a.setAttribute("data-element-id",i),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,n&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=Ml,a.addEventListener("change",o=>{const{name:l,checked:h}=o.target;for(const f of this._getElementsByName(l,i)){const d=h&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=d),e.setValue(f.id,{value:d})}e.setValue(i,{value:h})}),a.addEventListener("resetform",o=>{o.target.checked=(t.defaultFieldValue||"Off")===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",o=>{this._dispatchEventFromSandbox({value(h){h.target.checked="Off"!==h.detail.value,e.setValue(i,{value:h.target.checked})}},o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class R0 extends Sr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let n=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if("string"==typeof n&&(n=n!==t.buttonValue,e.setValue(i,{value:n})),n)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const a=document.createElement("input");if(xr.add(a),a.setAttribute("data-element-id",i),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,n&&a.setAttribute("checked",!0),a.tabIndex=Ml,a.addEventListener("change",o=>{const{name:l,checked:h}=o.target;for(const f of this._getElementsByName(l,i))e.setValue(f.id,{value:!1});e.setValue(i,{value:h})}),a.addEventListener("resetform",o=>{const l=t.defaultFieldValue;o.target.checked=null!=l&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;a.addEventListener("updatefromsandbox",l=>{this._dispatchEventFromSandbox({value:f=>{const d=o===f.detail.value;for(const p of this._getElementsByName(f.target.name)){const m=d&&p.id===i;p.domElement&&(p.domElement.checked=m),e.setValue(p.id,{value:m})}}},l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class zw extends B0{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class Ww extends Sr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),n=document.createElement("select");xr.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,this._setRequired(n,this.data.required),n.name=this.data.fieldName,n.tabIndex=Ml;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(n.size=this.data.options.length,this.data.multiSelect&&(n.multiple=!0)),n.addEventListener("resetform",d=>{const p=this.data.defaultFieldValue;for(const m of n.options)m.selected=m.value===p});for(const d of this.data.options){const p=document.createElement("option");p.textContent=d.displayValue,p.value=d.exportValue,i.value.includes(d.exportValue)&&(p.setAttribute("selected",!0),a=!1),n.append(p)}let o=null;if(a){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),n.prepend(d),o=()=>{d.remove(),n.removeEventListener("input",o),o=null},n.addEventListener("input",o)}const l=d=>{const p=d?"value":"textContent",{options:m,multiple:_}=n;return _?Array.prototype.filter.call(m,w=>w.selected).map(w=>w[p]):-1===m.selectedIndex?null:m[m.selectedIndex][p]};let h=l(!1);const f=d=>Array.prototype.map.call(d.target.options,m=>({displayValue:m.textContent,exportValue:m.value}));return this.enableScripting&&this.hasJSActions?(n.addEventListener("updatefromsandbox",d=>{this._dispatchEventFromSandbox({value(m){var _;null===(_=o)||void 0===_||_();const w=m.detail.value,A=new Set(Array.isArray(w)?w:[w]);for(const C of n.options)C.selected=A.has(C.value);e.setValue(t,{value:l(!0)}),h=l(!1)},multipleSelection(m){n.multiple=!0},remove(m){const _=n.options,w=m.detail.remove;_[w].selected=!1,n.remove(w),_.length>0&&-1===Array.prototype.findIndex.call(_,C=>C.selected)&&(_[0].selected=!0),e.setValue(t,{value:l(!0),items:f(m)}),h=l(!1)},clear(m){for(;0!==n.length;)n.remove(0);e.setValue(t,{value:null,items:[]}),h=l(!1)},insert(m){const{index:_,displayValue:w,exportValue:A}=m.detail.insert,C=n.children[_],b=document.createElement("option");b.textContent=w,b.value=A,C?C.before(b):n.append(b),e.setValue(t,{value:l(!0),items:f(m)}),h=l(!1)},items(m){const{items:_}=m.detail;for(;0!==n.length;)n.remove(0);for(const w of _){const{displayValue:A,exportValue:C}=w,b=document.createElement("option");b.textContent=A,b.value=C,n.append(b)}n.options.length>0&&(n.options[0].selected=!0),e.setValue(t,{value:l(!0),items:f(m)}),h=l(!1)},indices(m){const _=new Set(m.detail.indices);for(const w of m.target.options)w.selected=_.has(w.index);e.setValue(t,{value:l(!0)}),h=l(!1)},editable(m){m.target.disabled=!m.detail.editable}},d)}),n.addEventListener("input",d=>{var p;const m=l(!0),_=l(!1);e.setValue(t,{value:m}),d.preventDefault(),null===(p=this.linkService.eventBus)||void 0===p||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,change:_,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(n,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):n.addEventListener("input",function(d){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class sp extends Dt{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:Dt._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Hw({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${Go}${i}`).join(",")),this.container}}var ic=new WeakMap,O0=new WeakMap,N0=new WeakMap,sc=new WeakMap,kl=new WeakMap,Lt=new WeakMap,Pr=new WeakMap,Tl=new WeakMap,np=new WeakMap,rp=new WeakMap,nc=new WeakMap,Mr=new WeakMap,Ys=new WeakMap,kr=new WeakMap,ap=new WeakMap,Tr=new WeakMap,op=new WeakMap,za=new WeakMap,Dl=new WeakMap,$t=new WeakSet;class Hw{constructor({container:e,color:t,elements:i,titleObj:n,modificationDate:a,contentsObj:o,richText:l,parent:h,rect:f,parentRect:d,open:p}){Ie(this,$t),k(this,ic,E($t,this,jw).bind(this)),k(this,O0,E($t,this,W0).bind(this)),k(this,N0,E($t,this,hp).bind(this)),k(this,sc,E($t,this,up).bind(this)),k(this,kl,null),k(this,Lt,null),k(this,Pr,null),k(this,Tl,null),k(this,np,null),k(this,rp,null),k(this,nc,null),k(this,Mr,!1),k(this,Ys,null),k(this,kr,null),k(this,ap,null),k(this,Tr,null),k(this,op,null),k(this,za,null),k(this,Dl,!1),x(Lt,this,e),x(op,this,n),x(Pr,this,o),x(Tr,this,l),x(rp,this,h),x(kl,this,t),x(ap,this,f),x(nc,this,d),x(np,this,i),x(Tl,this,Im.toDateObject(a)),this.trigger=i.flatMap(_=>_.getElementsToTriggerPopup());for(const _ of this.trigger)_.addEventListener("click",c(sc,this)),_.addEventListener("mouseenter",c(N0,this)),_.addEventListener("mouseleave",c(O0,this)),_.classList.add("popupTriggerArea");for(const _ of i){var m;null===(m=_.container)||void 0===m||m.addEventListener("keydown",c(ic,this))}c(Lt,this).hidden=!0,p&&E($t,this,up).call(this)}render(){if(c(Ys,this))return;const e=x(Ys,this,document.createElement("div"));if(e.className="popup",c(kl,this)){const a=e.style.outlineColor=q.makeHexColor(...c(kl,this));e.style.backgroundColor=CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?`color-mix(in srgb, ${a} 30%, white)`:q.makeHexColor(...c(kl,this).map(l=>Math.floor(.7*(255-l)+l)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),({dir:i.dir,str:i.textContent}=c(op,this)),e.append(t),c(Tl,this)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),a.setAttribute("data-l10n-args",JSON.stringify({date:c(Tl,this).toLocaleDateString(),time:c(Tl,this).toLocaleTimeString()})),t.append(a)}const n=Ee($t,this,lp);if(n)L0.render({xfaHtml:n,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(c(Pr,this));e.append(a)}c(Lt,this).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const n=e.split(/(?:\r\n?|\n)/);for(let a=0,o=n.length;a<o;++a)i.append(document.createTextNode(n[a])),a<o-1&&i.append(document.createElement("br"));return i}updateEdited({rect:e,popupContent:t}){var i;c(za,this)||x(za,this,{contentsObj:c(Pr,this),richText:c(Tr,this)}),e&&x(kr,this,null),t&&(x(Tr,this,E($t,this,$w).call(this,t)),x(Pr,this,null)),null===(i=c(Ys,this))||void 0===i||i.remove(),x(Ys,this,null)}resetEdited(){var e;c(za,this)&&(({contentsObj:va(x,[Pr,this])._,richText:va(x,[Tr,this])._}=c(za,this)),x(za,this,null),null===(e=c(Ys,this))||void 0===e||e.remove(),x(Ys,this,null),x(kr,this,null))}forceHide(){x(Dl,this,this.isVisible),c(Dl,this)&&(c(Lt,this).hidden=!0)}maybeShow(){c(Dl,this)&&(c(Ys,this)||E($t,this,hp).call(this),x(Dl,this,!1),c(Lt,this).hidden=!1)}get isVisible(){return!1===c(Lt,this).hidden}}function lp(s){const e=c(Tr,s),t=c(Pr,s);return null!=e&&e.str&&(!(null!=t&&t.str)||t.str===e.str)&&c(Tr,s).html||null}function z0(s){var e;return(null===(e=Ee($t,s,lp))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.fontSize)||0}function Vw(s){var e;return(null===(e=Ee($t,s,lp))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.color)||null}function $w(s){const e=[],t={str:s,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:Ee($t,this,Vw),fontSize:Ee($t,this,z0)?`calc(${Ee($t,this,z0)}px * var(--scale-factor))`:""}};for(const n of s.split("\n"))e.push({name:"span",value:n,attributes:i});return t}function jw(s){s.altKey||s.shiftKey||s.ctrlKey||s.metaKey||("Enter"===s.key||"Escape"===s.key&&c(Mr,this))&&E($t,this,up).call(this)}function Gw(){if(null!==c(kr,this))return;const{page:{view:s},viewport:{rawDims:{pageWidth:e,pageHeight:t,pageX:i,pageY:n}}}=c(rp,this);let a=!!c(nc,this),o=c(a?nc:ap,this);for(const _ of c(np,this))if(!o||null!==q.intersect(_.data.rect,o)){o=_.data.rect,a=!0;break}const l=q.normalizeRect([o[0],s[3]-o[1]+s[1],o[2],s[3]-o[3]+s[1]]);x(kr,this,[100*(l[0]+(a?o[2]-o[0]+5:0)-i)/e,100*(l[1]-n)/t]);const{style:m}=c(Lt,this);m.left=`${c(kr,this)[0]}%`,m.top=`${c(kr,this)[1]}%`}function up(){x(Mr,this,!c(Mr,this)),c(Mr,this)?(E($t,this,hp).call(this),c(Lt,this).addEventListener("click",c(sc,this)),c(Lt,this).addEventListener("keydown",c(ic,this))):(E($t,this,W0).call(this),c(Lt,this).removeEventListener("click",c(sc,this)),c(Lt,this).removeEventListener("keydown",c(ic,this)))}function hp(){c(Ys,this)||this.render(),this.isVisible?c(Mr,this)&&c(Lt,this).classList.add("focused"):(E($t,this,Gw).call(this),c(Lt,this).hidden=!1,c(Lt,this).style.zIndex=parseInt(c(Lt,this).style.zIndex)+1e3)}function W0(){c(Lt,this).classList.remove("focused"),!c(Mr,this)&&this.isVisible&&(c(Lt,this).hidden=!0,c(Lt,this).style.zIndex=parseInt(c(Lt,this).style.zIndex)-1e3)}class H0 extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ne.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var cp=new WeakMap;class Uw extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),k(this,cp,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:i}=Zs(e.rect),n=this.svgFactory.create(t,i,!0),a=x(cp,this,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),n.append(a),this.container.append(n),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(cp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var dp=new WeakMap;class Xw extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),k(this,dp,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:i}=Zs(e.rect),n=this.svgFactory.create(t,i,!0),a=e.borderStyle.width,o=x(dp,this,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",t-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),n.append(o),this.container.append(n),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(dp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var fp=new WeakMap;class Zw extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),k(this,fp,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:i}=Zs(e.rect),n=this.svgFactory.create(t,i,!0),a=e.borderStyle.width,o=x(fp,this,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",t/2),o.setAttribute("cy",i/2),o.setAttribute("rx",t/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),n.append(o),this.container.append(n),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(fp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var pp=new WeakMap;class V0 extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),k(this,pp,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:i,popupRef:n}}=this;if(!t)return this.container;const{width:a,height:o}=Zs(e),l=this.svgFactory.create(a,o,!0);let h=[];for(let d=0,p=t.length;d<p;d+=2)h.push(`${t[d]-e[0]},${e[3]-t[d+1]}`);h=h.join(" ");const f=x(pp,this,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",h),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),l.append(f),this.container.append(l),!n&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(pp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class qw extends V0{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yw extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var gp=new WeakMap;class $0 extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),k(this,gp,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Ne.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:t,borderStyle:i,popupRef:n}}=this,{width:a,height:o}=Zs(e),l=this.svgFactory.create(a,o,!0);for(const h of t){let f=[];for(let p=0,m=h.length;p<m;p+=2)f.push(`${h[p]-e[0]},${e[3]-h[p+1]}`);f=f.join(" ");const d=this.svgFactory.createElement(this.svgElementName);c(gp,this).push(d),d.setAttribute("points",f),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!n&&this.hasPopupData&&this._createPopup(),l.append(d)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return c(gp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class Kw extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Qw extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Jw extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class eb extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class j0 extends Dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var mp=new WeakMap,vp=new WeakSet;class tb extends Dt{constructor(e){var t;super(e,{isRenderable:!0}),Ie(this,vp),k(this,mp,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let i;t.hasAppearance||0===t.fillAlpha?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),i.addEventListener("dblclick",E(vp,this,G0).bind(this)),x(mp,this,i);const{isMac:n}=X.platform;return e.addEventListener("keydown",a=>{"Enter"===a.key&&(n?a.metaKey:a.ctrlKey)&&E(vp,this,G0).call(this)}),!t.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return c(mp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function G0(){var s;null===(s=this.downloadManager)||void 0===s||s.openOrDownloadData(this.content,this.filename)}var _p=new WeakMap,Fl=new WeakMap,Ll=new WeakMap,rc=new WeakSet;class ib{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:n,page:a,viewport:o}){Ie(this,rc),k(this,_p,null),k(this,Fl,null),k(this,Ll,new Map),this.div=e,x(_p,this,t),x(Fl,this,i),this.page=a,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=n}hasEditableAnnotations(){return c(Ll,this).size>0}render(e){var t=this;return(0,re.A)(function*(){const{annotations:i}=e,n=t.div;br(n,t.viewport);const a=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new uf,annotationStorage:e.annotationStorage||new Sf,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:t,elements:null};for(const h of i){if(h.noHTML)continue;const f=16===h.annotationType;if(f){const m=a.get(h.id);if(!m)continue;o.elements=m}else{const{width:m,height:_}=Zs(h.rect);if(m<=0||_<=0)continue}o.data=h;const d=Fw.create(o);if(!d.isRenderable)continue;if(!f&&h.popupRef){const m=a.get(h.popupRef);m?m.push(d):a.set(h.popupRef,[d])}const p=d.render();var l;h.hidden&&(p.style.visibility="hidden"),E(rc,t,sb).call(t,p,h.id),d._isEditable&&(c(Ll,t).set(d.data.id,d),null===(l=t._annotationEditorUIManager)||void 0===l||l.renderAnnotationElement(d))}E(rc,t,U0).call(t)})()}update({viewport:e}){const t=this.div;this.viewport=e,br(t,{rotation:e.rotation}),E(rc,this,U0).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(Ll,this).values())}getEditableAnnotation(e){return c(Ll,this).get(e)}}function sb(s,e){var t;const i=s.firstChild||s;i.id=`${Go}${e}`,this.div.append(s),null===(t=c(_p,this))||void 0===t||t.moveElementInDOM(this.div,s,i,!1)}function U0(){if(!c(Fl,this))return;const s=this.div;for(const[e,t]of c(Fl,this)){const i=s.querySelector(`[data-annotation-id="${e}"]`);if(!i)continue;t.className="annotationContent";const{firstChild:n}=i;n?"CANVAS"===n.nodeName?n.replaceWith(t):n.classList.contains("annotationContent")?n.after(t):n.before(t):i.append(t)}c(Fl,this).clear()}const ac=/\r\n?|\n/g;var wp=new WeakMap,bp=new WeakMap,Ap=new WeakMap,yp=new WeakMap,Ep=new WeakMap,Ks=new WeakMap,rs=new WeakMap,Cp=new WeakMap,as=new WeakMap,oc=new WeakMap,Xi=new WeakSet;class pt extends Ce{static get _keyboardManager(){const e=pt.prototype,t=a=>a.isEmpty(),i=rl.TRANSLATE_SMALL,n=rl.TRANSLATE_BIG;return ze(this,"_keyboardManager",new nl([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}]]))}constructor(e){super({...e,name:"freeTextEditor"}),Ie(this,Xi),k(this,wp,this.editorDivBlur.bind(this)),k(this,bp,this.editorDivFocus.bind(this)),k(this,Ap,this.editorDivInput.bind(this)),k(this,yp,this.editorDivKeydown.bind(this)),k(this,Ep,this.editorDivPaste.bind(this)),k(this,Ks,void 0),k(this,rs,""),k(this,Cp,`${this.id}-editor`),k(this,as,void 0),k(this,oc,null),x(Ks,this,e.color||pt._defaultColor||Ce._defaultLineColor),x(as,this,e.fontSize||pt._defaultFontSize)}static initialize(e,t){Ce.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Me.FREETEXT_SIZE:pt._defaultFontSize=t;break;case Me.FREETEXT_COLOR:pt._defaultColor=t}}updateParams(e,t){switch(e){case Me.FREETEXT_SIZE:E(Xi,this,nb).call(this,t);break;case Me.FREETEXT_COLOR:E(Xi,this,rb).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Me.FREETEXT_SIZE,pt._defaultFontSize],[Me.FREETEXT_COLOR,pt._defaultColor||Ce._defaultLineColor]]}get propertiesToUpdate(){return[[Me.FREETEXT_SIZE,c(as,this)],[Me.FREETEXT_COLOR,c(Ks,this)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-pt._internalPadding*e,-(pt._internalPadding+c(as,this))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ne.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const e=this._uiManager._signal;this.editorDiv.addEventListener("keydown",c(yp,this),{signal:e}),this.editorDiv.addEventListener("focus",c(bp,this),{signal:e}),this.editorDiv.addEventListener("blur",c(wp,this),{signal:e}),this.editorDiv.addEventListener("input",c(Ap,this),{signal:e}),this.editorDiv.addEventListener("paste",c(Ep,this),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(Cp,this)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(yp,this)),this.editorDiv.removeEventListener("focus",c(bp,this)),this.editorDiv.removeEventListener("blur",c(wp,this)),this.editorDiv.removeEventListener("input",c(Ap,this)),this.editorDiv.removeEventListener("paste",c(Ep,this)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=c(rs,this),t=x(rs,this,E(Xi,this,ab).call(this).trimEnd());if(e===t)return;const i=n=>{x(rs,this,n),n?(E(Xi,this,Pp).call(this),this._uiManager.rebuild(this),E(Xi,this,xp).call(this)):this.remove()};this.addCommands({cmd:()=>{i(t)},undo:()=>{i(e)},mustExec:!1}),E(Xi,this,xp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){pt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(Cp,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Ce._l10nPromise.get("pdfjs-free-text-default-content").then(n=>{var a;return null===(a=this.editorDiv)||void 0===a?void 0:a.setAttribute("default-content",n)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${c(as,this)}px * var(--scale-factor))`,i.color=c(Ks,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),xh(this,this.div,["dblclick","keydown"]),this.width){const[n,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=c(oc,this);let[l,h]=this.getInitialTranslation();[l,h]=this.pageTranslationToScreen(l,h);const[f,d]=this.pageDimensions,[p,m]=this.pageTranslation;let _,w;switch(this.rotation){case 0:_=e+(o[0]-p)/f,w=t+this.height-(o[1]-m)/d;break;case 90:_=e+(o[0]-p)/f,w=t-(o[1]-m)/d,[l,h]=[h,-l];break;case 180:_=e-this.width+(o[0]-p)/f,w=t-(o[1]-m)/d,[l,h]=[-l,-h];break;case 270:_=e+(o[0]-p-this.height*d)/f,w=t+(o[1]-m-this.width*f)/d,[l,h]=[-h,l]}this.setAt(_*n,w*a,l,h)}else this.setAt(e*n,t*a,this.width*n,this.height*a);E(Xi,this,Pp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:i}=t;if(1===i.length&&"text/plain"===i[0])return;e.preventDefault();const n=X0.call(pt,t.getData("text")||"").replaceAll(ac,"\n");if(!n)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!n.includes("\n"))return o.insertNode(document.createTextNode(n)),this.editorDiv.normalize(),void a.collapseToStart();const{startContainer:l,startOffset:h}=o,f=[],d=[];if(l.nodeType===Node.TEXT_NODE){const _=l.parentElement;if(d.push(l.nodeValue.slice(h).replaceAll(ac,"")),_!==this.editorDiv){let w=f;for(const A of this.editorDiv.childNodes)A!==_?w.push(Sp.call(pt,A)):w=d}f.push(l.nodeValue.slice(0,h).replaceAll(ac,""))}else if(l===this.editorDiv){let _=f,w=0;for(const A of this.editorDiv.childNodes)w++===h&&(_=d),_.push(Sp.call(pt,A))}x(rs,this,`${f.join("\n")}${n}${d.join("\n")}`),E(Xi,this,Pp).call(this);const p=new Range;let m=f.reduce((_,w)=>_+w.length,0);for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const w=_.nodeValue.length;if(m<=w){p.setStart(_,m),p.setEnd(_,m);break}m-=w}a.removeAllRanges(),a.addRange(p)}get contentDiv(){return this.editorDiv}static deserialize(e,t,i){let n=null;if(e instanceof H0){const{data:{defaultAppearanceData:{fontSize:o,fontColor:l},rect:h,rotation:f,id:d},textContent:p,textPosition:m,parent:{page:{pageNumber:_}}}=e;if(!p||0===p.length)return null;n=e={annotationType:Ne.FREETEXT,color:Array.from(l),fontSize:o,value:p.join("\n"),position:m,pageIndex:_-1,rect:h.slice(0),rotation:f,id:d,deleted:!1}}const a=super.deserialize(e,t,i);return x(as,a,e.fontSize),x(Ks,a,q.makeHexColor(...e.color)),x(rs,a,X0.call(pt,e.value)),a.annotationElementId=e.id||null,x(oc,a,n),a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=pt._internalPadding*this.parentScale,i=this.getRect(t,t),n=Ce._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(Ks,this)),a={annotationType:Ne.FREETEXT,color:n,fontSize:c(as,this),value:E(Xi,this,ob).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?a:this.annotationElementId&&!E(Xi,this,lb).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:i}=t;i.fontSize=`calc(${c(as,this)}px * var(--scale-factor))`,i.color=c(Ks,this),t.replaceChildren();for(const a of c(rs,this).split("\n")){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),t.append(o)}const n=pt._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(n,n),popupContent:c(rs,this)}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}function nb(s){const e=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--scale-factor))`,this.translate(0,-(i-c(as,this))*this.parentScale),x(as,this,i),E(Xi,this,xp).call(this)},t=c(as,this);this.addCommands({cmd:e.bind(this,s),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function rb(s){const e=i=>{x(Ks,this,this.editorDiv.style.color=i)},t=c(Ks,this);this.addCommands({cmd:e.bind(this,s),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function ab(){const s=[];this.editorDiv.normalize();for(const e of this.editorDiv.childNodes)s.push(Sp.call(Os,e));return s.join("\n")}function xp(){const[s,e]=this.parentDimensions;let t;if(this.isAttachedToDOM)t=this.div.getBoundingClientRect();else{const{currentLayer:i,div:n}=this,a=n.style.display,o=n.classList.contains("hidden");n.classList.remove("hidden"),n.style.display="hidden",i.div.append(this.div),t=n.getBoundingClientRect(),n.remove(),n.style.display=a,n.classList.toggle("hidden",o)}this.rotation%180==this.parentRotation%180?(this.width=t.width/s,this.height=t.height/e):(this.width=t.height/s,this.height=t.width/e),this.fixAndSetPosition()}function Sp(s){return(s.nodeType===Node.TEXT_NODE?s.nodeValue:s.innerText).replaceAll(ac,"")}function Pp(){if(this.editorDiv.replaceChildren(),c(rs,this))for(const s of c(rs,this).split("\n")){const e=document.createElement("div");e.append(s?document.createTextNode(s):document.createElement("br")),this.editorDiv.append(e)}}function ob(){return c(rs,this).replaceAll("\xa0"," ")}function X0(s){return s.replaceAll(" ","\xa0")}function lb(s){const{value:e,fontSize:t,color:i,pageIndex:n}=c(oc,this);return this._hasBeenMoved||s.value!==e||s.fontSize!==t||s.color.some((a,o)=>a!==i[o])||s.pageIndex!==n}Os=pt,(0,de.A)(pt,"_freeTextDefaultContent",""),(0,de.A)(pt,"_internalPadding",0),(0,de.A)(pt,"_defaultColor",null),(0,de.A)(pt,"_defaultFontSize",10),(0,de.A)(pt,"_type","freetext"),(0,de.A)(pt,"_editorType",Ne.FREETEXT);var Mp=new WeakMap,Wa=new WeakMap,Qs=new WeakMap,Js=new WeakSet;class Z0{constructor(e,t=0,i=0,n=!0){Ie(this,Js),k(this,Mp,void 0),k(this,Wa,[]),k(this,Qs,[]);let a=1/0,o=-1/0,l=1/0,h=-1/0;const d=10**-4;for(const{x:b,y:P,width:S,height:T}of e){const O=Math.floor((b-t)/d)*d,M=Math.ceil((b+S+t)/d)*d,R=Math.floor((P-t)/d)*d,I=Math.ceil((P+T+t)/d)*d,F=[O,R,I,!0],B=[M,R,I,!1];c(Wa,this).push(F,B),a=Math.min(a,O),o=Math.max(o,M),l=Math.min(l,R),h=Math.max(h,I)}const p=o-a+2*i,m=h-l+2*i,_=a-i,w=l-i,A=c(Wa,this).at(n?-1:-2),C=[A[0],A[2]];for(const b of c(Wa,this)){const[P,S,T]=b;b[0]=(P-_)/p,b[1]=(S-w)/m,b[2]=(T-w)/m}x(Mp,this,{x:_,y:w,width:p,height:m,lastPoint:C})}getOutlines(){c(Wa,this).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of c(Wa,this))t[3]?(e.push(...E(Js,this,q0).call(this,t)),E(Js,this,hb).call(this,t)):(E(Js,this,cb).call(this,t),e.push(...E(Js,this,q0).call(this,t)));return E(Js,this,ub).call(this,e)}}function ub(s){const e=[],t=new Set;for(const a of s){const[o,l,h]=a;e.push([o,l,a],[o,h,a])}e.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=e.length;a<o;a+=2){const l=e[a][2],h=e[a+1][2];l.push(h),h.push(l),t.add(l),t.add(h)}const i=[];let n;for(;t.size>0;){const a=t.values().next().value;let[o,l,h,f,d]=a;t.delete(a);let p=o,m=l;for(n=[o,h],i.push(n);;){let _;if(t.has(f))_=f;else{if(!t.has(d))break;_=d}t.delete(_),[o,l,h,f,d]=_,p!==o&&(n.push(p,m,o,m===l?l:h),p=o),m=m===l?h:l}n.push(p,m)}return new db(i,c(Mp,this))}function kp(s){const e=c(Qs,this);let t=0,i=e.length-1;for(;t<=i;){const n=t+i>>1,a=e[n][0];if(a===s)return n;a<s?t=n+1:i=n-1}return i+1}function hb([,s,e]){const t=E(Js,this,kp).call(this,s);c(Qs,this).splice(t,0,[s,e])}function cb([,s,e]){const t=E(Js,this,kp).call(this,s);for(let i=t;i<c(Qs,this).length;i++){const[n,a]=c(Qs,this)[i];if(n!==s)break;if(n===s&&a===e)return void c(Qs,this).splice(i,1)}for(let i=t-1;i>=0;i--){const[n,a]=c(Qs,this)[i];if(n!==s)break;if(n===s&&a===e)return void c(Qs,this).splice(i,1)}}function q0(s){const[e,t,i]=s,n=[[e,t,i]],a=E(Js,this,kp).call(this,i);for(let o=0;o<a;o++){const[l,h]=c(Qs,this)[o];for(let f=0,d=n.length;f<d;f++){const[,p,m]=n[f];if(!(h<=p||m<=l)){if(p>=l){if(m>h)n[f][1]=h;else{if(1===d)return[];n.splice(f,1),f--,d--}continue}n[f][2]=l,m>h&&n.push([e,h,m])}}}return n}class Y0{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Rp}}var Tp=new WeakMap,lc=new WeakMap;class db extends Y0{constructor(e,t){super(),k(this,Tp,void 0),k(this,lc,void 0),x(lc,this,e),x(Tp,this,t)}toSVGPath(){const e=[];for(const t of c(lc,this)){let[i,n]=t;e.push(`M${i} ${n}`);for(let a=2;a<t.length;a+=2){const o=t[a],l=t[a+1];o===i?(e.push(`V${l}`),n=l):l===n&&(e.push(`H${o}`),i=o)}e.push("Z")}return e.join(" ")}serialize([e,t,i,n],a){const o=[],l=i-e,h=n-t;for(const f of c(lc,this)){const d=new Array(f.length);for(let p=0;p<f.length;p+=2)d[p]=e+f[p]*l,d[p+1]=n-f[p+1]*h;o.push(d)}return o}get box(){return c(Tp,this)}}var Tn=new WeakMap,Dr=new WeakMap,uc=new WeakMap,hc=new WeakMap,Dn=new WeakMap,Ue=new WeakMap,Il=new WeakMap,Bl=new WeakMap,Dp=new WeakMap,Fp=new WeakMap,cc=new WeakMap,dc=new WeakMap,Ha=new WeakMap,Lp=new WeakSet;class K0{constructor({x:e,y:t},i,n,a,o,l=0){Ie(this,Lp),k(this,Tn,void 0),k(this,Dr,[]),k(this,uc,void 0),k(this,hc,void 0),k(this,Dn,[]),k(this,Ue,new Float64Array(18)),k(this,Il,void 0),k(this,Bl,void 0),k(this,Dp,void 0),k(this,Fp,void 0),k(this,cc,void 0),k(this,dc,void 0),k(this,Ha,[]),x(Tn,this,i),x(dc,this,a*n),x(hc,this,o),c(Ue,this).set([NaN,NaN,NaN,NaN,e,t],6),x(uc,this,l),x(Fp,this,J0._*n),x(Dp,this,pb._*n),x(cc,this,n),c(Ha,this).push(e,t)}get free(){return!0}isEmpty(){return isNaN(c(Ue,this)[8])}add({x:e,y:t}){var i;x(Il,this,e),x(Bl,this,t);const[n,a,o,l]=c(Tn,this);let[h,f,d,p]=c(Ue,this).subarray(8,12);const m=e-d,_=t-p,w=Math.hypot(m,_);if(w<c(Dp,this))return!1;const A=w-c(Fp,this),C=A/w,b=C*m,P=C*_;let S=h,T=f;h=d,f=p,d+=b,p+=P,null===(i=c(Ha,this))||void 0===i||i.push(e,t);const M=b/A,R=-P/A*c(dc,this),I=M*c(dc,this);return c(Ue,this).set(c(Ue,this).subarray(2,8),0),c(Ue,this).set([d+R,p+I],4),c(Ue,this).set(c(Ue,this).subarray(14,18),12),c(Ue,this).set([d-R,p-I],16),isNaN(c(Ue,this)[6])?(0===c(Dn,this).length&&(c(Ue,this).set([h+R,f+I],2),c(Dn,this).push(NaN,NaN,NaN,NaN,(h+R-n)/o,(f+I-a)/l),c(Ue,this).set([h-R,f-I],14),c(Dr,this).push(NaN,NaN,NaN,NaN,(h-R-n)/o,(f-I-a)/l)),c(Ue,this).set([S,T,h,f,d,p],6),!this.isEmpty()):(c(Ue,this).set([S,T,h,f,d,p],6),Math.abs(Math.atan2(T-f,S-h)-Math.atan2(P,b))<Math.PI/2?([h,f,d,p]=c(Ue,this).subarray(2,6),c(Dn,this).push(NaN,NaN,NaN,NaN,((h+d)/2-n)/o,((f+p)/2-a)/l),[h,f,S,T]=c(Ue,this).subarray(14,18),c(Dr,this).push(NaN,NaN,NaN,NaN,((S+h)/2-n)/o,((T+f)/2-a)/l),!0):([S,T,h,f,d,p]=c(Ue,this).subarray(0,6),c(Dn,this).push(((S+5*h)/6-n)/o,((T+5*f)/6-a)/l,((5*h+d)/6-n)/o,((5*f+p)/6-a)/l,((h+d)/2-n)/o,((f+p)/2-a)/l),[d,p,h,f,S,T]=c(Ue,this).subarray(12,18),c(Dr,this).push(((S+5*h)/6-n)/o,((T+5*f)/6-a)/l,((5*h+d)/6-n)/o,((5*f+p)/6-a)/l,((h+d)/2-n)/o,((f+p)/2-a)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(Dn,this),t=c(Dr,this),i=c(Ue,this).subarray(4,6),n=c(Ue,this).subarray(16,18),[a,o,l,h]=c(Tn,this),[f,d,p,m]=E(Lp,this,Q0).call(this);if(isNaN(c(Ue,this)[6])&&!this.isEmpty())return`M${(c(Ue,this)[2]-a)/l} ${(c(Ue,this)[3]-o)/h} L${(c(Ue,this)[4]-a)/l} ${(c(Ue,this)[5]-o)/h} L${f} ${d} L${p} ${m} L${(c(Ue,this)[16]-a)/l} ${(c(Ue,this)[17]-o)/h} L${(c(Ue,this)[14]-a)/l} ${(c(Ue,this)[15]-o)/h} Z`;const _=[];_.push(`M${e[4]} ${e[5]}`);for(let w=6;w<e.length;w+=6)isNaN(e[w])?_.push(`L${e[w+4]} ${e[w+5]}`):_.push(`C${e[w]} ${e[w+1]} ${e[w+2]} ${e[w+3]} ${e[w+4]} ${e[w+5]}`);_.push(`L${(i[0]-a)/l} ${(i[1]-o)/h} L${f} ${d} L${p} ${m} L${(n[0]-a)/l} ${(n[1]-o)/h}`);for(let w=t.length-6;w>=6;w-=6)isNaN(t[w])?_.push(`L${t[w+4]} ${t[w+5]}`):_.push(`C${t[w]} ${t[w+1]} ${t[w+2]} ${t[w+3]} ${t[w+4]} ${t[w+5]}`);return _.push(`L${t[4]} ${t[5]} Z`),_.join(" ")}getOutlines(){var e,t;const i=c(Dn,this),n=c(Dr,this),a=c(Ue,this),o=a.subarray(4,6),l=a.subarray(16,18),[h,f,d,p]=c(Tn,this),m=new Float64Array((null!==(e=null===(t=c(Ha,this))||void 0===t?void 0:t.length)&&void 0!==e?e:0)+2);for(let S=0,T=m.length-2;S<T;S+=2)m[S]=(c(Ha,this)[S]-h)/d,m[S+1]=(c(Ha,this)[S+1]-f)/p;m[m.length-2]=(c(Il,this)-h)/d,m[m.length-1]=(c(Bl,this)-f)/p;const[_,w,A,C]=E(Lp,this,Q0).call(this);if(isNaN(a[6])&&!this.isEmpty()){const S=new Float64Array(36);return S.set([NaN,NaN,NaN,NaN,(a[2]-h)/d,(a[3]-f)/p,NaN,NaN,NaN,NaN,(a[4]-h)/d,(a[5]-f)/p,NaN,NaN,NaN,NaN,_,w,NaN,NaN,NaN,NaN,A,C,NaN,NaN,NaN,NaN,(a[16]-h)/d,(a[17]-f)/p,NaN,NaN,NaN,NaN,(a[14]-h)/d,(a[15]-f)/p],0),new Rp(S,m,c(Tn,this),c(cc,this),c(uc,this),c(hc,this))}const b=new Float64Array(c(Dn,this).length+24+c(Dr,this).length);let P=i.length;for(let S=0;S<P;S+=2)isNaN(i[S])?b[S]=b[S+1]=NaN:(b[S]=i[S],b[S+1]=i[S+1]);b.set([NaN,NaN,NaN,NaN,(o[0]-h)/d,(o[1]-f)/p,NaN,NaN,NaN,NaN,_,w,NaN,NaN,NaN,NaN,A,C,NaN,NaN,NaN,NaN,(l[0]-h)/d,(l[1]-f)/p],P),P+=24;for(let S=n.length-6;S>=6;S-=6)for(let T=0;T<6;T+=2)isNaN(n[S+T])?(b[P]=b[P+1]=NaN,P+=2):(b[P]=n[S+T],b[P+1]=n[S+T+1],P+=2);return b.set([NaN,NaN,NaN,NaN,n[4],n[5]],P),new Rp(b,m,c(Tn,this),c(cc,this),c(uc,this),c(hc,this))}}function Q0(){const s=c(Ue,this).subarray(4,6),e=c(Ue,this).subarray(16,18),[t,i,n,a]=c(Tn,this);return[(c(Il,this)+(s[0]-e[0])/2-t)/n,(c(Bl,this)+(s[1]-e[1])/2-i)/a,(c(Il,this)+(e[0]-s[0])/2-t)/n,(c(Bl,this)+(e[1]-s[1])/2-i)/a]}var J0={_:8},pb={_:J0._+2},fc=new WeakMap,Rl=new WeakMap,Fr=new WeakMap,Ip=new WeakMap,os=new WeakMap,Bp=new WeakMap,zt=new WeakMap,ys=new WeakSet;class Rp extends Y0{constructor(e,t,i,n,a,o){super(),Ie(this,ys),k(this,fc,void 0),k(this,Rl,null),k(this,Fr,void 0),k(this,Ip,void 0),k(this,os,void 0),k(this,Bp,void 0),k(this,zt,void 0),x(zt,this,e),x(os,this,t),x(fc,this,i),x(Bp,this,n),x(Fr,this,a),x(Ip,this,o),E(ys,this,gb).call(this,o);const{x:l,y:h,width:f,height:d}=c(Rl,this);for(let p=0,m=e.length;p<m;p+=2)e[p]=(e[p]-l)/f,e[p+1]=(e[p+1]-h)/d;for(let p=0,m=t.length;p<m;p+=2)t[p]=(t[p]-l)/f,t[p+1]=(t[p+1]-h)/d}toSVGPath(){const e=[`M${c(zt,this)[4]} ${c(zt,this)[5]}`];for(let t=6,i=c(zt,this).length;t<i;t+=6)isNaN(c(zt,this)[t])?e.push(`L${c(zt,this)[t+4]} ${c(zt,this)[t+5]}`):e.push(`C${c(zt,this)[t]} ${c(zt,this)[t+1]} ${c(zt,this)[t+2]} ${c(zt,this)[t+3]} ${c(zt,this)[t+4]} ${c(zt,this)[t+5]}`);return e.push("Z"),e.join(" ")}serialize([e,t,i,n],a){const o=i-e,l=n-t;let h,f;switch(a){case 0:h=E(ys,this,pc).call(this,c(zt,this),e,n,o,-l),f=E(ys,this,pc).call(this,c(os,this),e,n,o,-l);break;case 90:h=E(ys,this,gc).call(this,c(zt,this),e,t,o,l),f=E(ys,this,gc).call(this,c(os,this),e,t,o,l);break;case 180:h=E(ys,this,pc).call(this,c(zt,this),i,t,-o,l),f=E(ys,this,pc).call(this,c(os,this),i,t,-o,l);break;case 270:h=E(ys,this,gc).call(this,c(zt,this),i,n,-o,-l),f=E(ys,this,gc).call(this,c(os,this),i,n,-o,-l)}return{outline:Array.from(h),points:[Array.from(f)]}}get box(){return c(Rl,this)}getNewOutline(e,t){const{x:i,y:n,width:a,height:o}=c(Rl,this),[l,h,f,d]=c(fc,this),p=a*f,m=o*d,_=i*f+l,w=n*d+h,A=new K0({x:c(os,this)[0]*p+_,y:c(os,this)[1]*m+w},c(fc,this),c(Bp,this),e,c(Ip,this),null!=t?t:c(Fr,this));for(let C=2;C<c(os,this).length;C+=2)A.add({x:c(os,this)[C]*p+_,y:c(os,this)[C+1]*m+w});return A.getOutlines()}}function pc(s,e,t,i,n){const a=new Float64Array(s.length);for(let o=0,l=s.length;o<l;o+=2)a[o]=e+s[o]*i,a[o+1]=t+s[o+1]*n;return a}function gc(s,e,t,i,n){const a=new Float64Array(s.length);for(let o=0,l=s.length;o<l;o+=2)a[o]=e+s[o+1]*i,a[o+1]=t+s[o]*n;return a}function gb(s){const e=c(zt,this);let t=e[4],i=e[5],n=t,a=i,o=t,l=i,h=t,f=i;const d=s?Math.max:Math.min;for(let A=6,C=e.length;A<C;A+=6){if(isNaN(e[A]))n=Math.min(n,e[A+4]),a=Math.min(a,e[A+5]),o=Math.max(o,e[A+4]),l=Math.max(l,e[A+5]),f<e[A+5]?(h=e[A+4],f=e[A+5]):f===e[A+5]&&(h=d(h,e[A+4]));else{const b=q.bezierBoundingBox(t,i,...e.slice(A,A+6));n=Math.min(n,b[0]),a=Math.min(a,b[1]),o=Math.max(o,b[2]),l=Math.max(l,b[3]),f<b[3]?(h=b[2],f=b[3]):f===b[3]&&(h=d(h,b[2]))}t=e[A+4],i=e[A+5]}const p=n-c(Fr,this),m=a-c(Fr,this),_=o-n+2*c(Fr,this),w=l-a+2*c(Fr,this);x(Rl,this,{x:p,y:m,width:_,height:w,lastPoint:[h,f]})}var Op=new WeakMap,Np=new WeakMap,en=new WeakMap,Ol=new WeakMap,mc=new WeakMap,Gt=new WeakMap,zp=new WeakMap,vc=new WeakMap,Wp=new WeakMap,Hp=new WeakMap,tn=new WeakMap,_c=new WeakMap,It=new WeakSet;class Es{static get _keyboardManager(){return ze(this,"_keyboardManager",new nl([[["Escape","mac+Escape"],Es.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Es.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Es.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Es.prototype._moveToPrevious],[["Home","mac+Home"],Es.prototype._moveToBeginning],[["End","mac+End"],Es.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){var i;Ie(this,It),k(this,Op,E(It,this,mb).bind(this)),k(this,Np,E(It,this,vb).bind(this)),k(this,en,null),k(this,Ol,null),k(this,mc,void 0),k(this,Gt,null),k(this,zp,!1),k(this,vc,!1),k(this,Wp,null),k(this,Hp,void 0),k(this,tn,null),k(this,_c,void 0),e?(x(vc,this,!1),x(_c,this,Me.HIGHLIGHT_COLOR),x(Wp,this,e)):(x(vc,this,!0),x(_c,this,Me.HIGHLIGHT_DEFAULT_COLOR)),x(tn,this,(null==e?void 0:e._uiManager)||t),x(Hp,this,c(tn,this)._eventBus),x(mc,this,(null==e?void 0:e.color)||(null===(i=c(tn,this))||void 0===i?void 0:i.highlightColors.values().next().value)||"#FFFF98")}renderButton(){const e=x(en,this,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=c(tn,this)._signal;e.addEventListener("click",E(It,this,Va).bind(this),{signal:t}),e.addEventListener("keydown",c(Op,this),{signal:t});const i=x(Ol,this,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=c(mc,this),e.append(i),e}renderMainDropdown(){const e=x(Gt,this,E(It,this,ev).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(en,this))return void E(It,this,Va).call(this,e);const t=e.target.getAttribute("data-color");t&&E(It,this,tv).call(this,t,e)}_moveToNext(e){var t,i;Ee(It,this,Lr)?e.target!==c(en,this)?null===(t=e.target.nextSibling)||void 0===t||t.focus():null===(i=c(Gt,this).firstChild)||void 0===i||i.focus():E(It,this,Va).call(this,e)}_moveToPrevious(e){var t,i;e.target!==(null===(t=c(Gt,this))||void 0===t?void 0:t.firstChild)&&e.target!==c(en,this)?(Ee(It,this,Lr)||E(It,this,Va).call(this,e),null===(i=e.target.previousSibling)||void 0===i||i.focus()):Ee(It,this,Lr)&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){var t;Ee(It,this,Lr)?null===(t=c(Gt,this).firstChild)||void 0===t||t.focus():E(It,this,Va).call(this,e)}_moveToEnd(e){var t;Ee(It,this,Lr)?null===(t=c(Gt,this).lastChild)||void 0===t||t.focus():E(It,this,Va).call(this,e)}hideDropdown(){var e;null===(e=c(Gt,this))||void 0===e||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(Np,this))}_hideDropdownFromKeyboard(){if(!c(vc,this)){var e;if(!Ee(It,this,Lr))return void(null===(e=c(Wp,this))||void 0===e||e.unselect());this.hideDropdown(),c(en,this).focus({preventScroll:!0,focusVisible:c(zp,this)})}}updateColor(e){if(c(Ol,this)&&(c(Ol,this).style.backgroundColor=e),!c(Gt,this))return;const t=c(tn,this).highlightColors.values();for(const i of c(Gt,this).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;null===(e=c(en,this))||void 0===e||e.remove(),x(en,this,null),x(Ol,this,null),null===(t=c(Gt,this))||void 0===t||t.remove(),x(Gt,this,null)}}function ev(){const s=document.createElement("div"),e=c(tn,this)._signal;s.addEventListener("contextmenu",Ai,{signal:e}),s.className="dropdown",s.role="listbox",s.setAttribute("aria-multiselectable",!1),s.setAttribute("aria-orientation","vertical"),s.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[t,i]of c(tn,this).highlightColors){const n=document.createElement("button");n.tabIndex="0",n.role="option",n.setAttribute("data-color",i),n.title=t,n.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${t}`);const a=document.createElement("span");n.append(a),a.className="swatch",a.style.backgroundColor=i,n.setAttribute("aria-selected",i===c(mc,this)),n.addEventListener("click",E(It,this,tv).bind(this,i),{signal:e}),s.append(n)}return s.addEventListener("keydown",c(Op,this),{signal:e}),s}function tv(s,e){e.stopPropagation(),c(Hp,this).dispatch("switchannotationeditorparams",{source:this,type:c(_c,this),value:s})}function mb(s){fh._keyboardManager.exec(this,s)}function Va(s){if(Ee(It,this,Lr))return void this.hideDropdown();if(x(zp,this,0===s.detail),window.addEventListener("pointerdown",c(Np,this),{signal:c(tn,this)._signal}),c(Gt,this))return void c(Gt,this).classList.remove("hidden");const e=x(Gt,this,E(It,this,ev).call(this));c(en,this).append(e)}function vb(s){var e;null!==(e=c(Gt,this))&&void 0!==e&&e.contains(s.target)||this.hideDropdown()}function Lr(s){return c(Gt,s)&&!c(Gt,s).classList.contains("hidden")}fh=Es;var wc=new WeakMap,Vp=new WeakMap,$a=new WeakMap,Nl=new WeakMap,bc=new WeakMap,Cs=new WeakMap,$p=new WeakMap,jp=new WeakMap,zl=new WeakMap,sn=new WeakMap,Ii=new WeakMap,ls=new WeakMap,iv=new WeakMap,Ac=new WeakMap,Wl=new WeakMap,Ut=new WeakMap,yc=new WeakMap,Fn=new WeakMap,Gp=new WeakMap,vt=new WeakSet;class et extends Ce{static get _keyboardManager(){const e=et.prototype;return ze(this,"_keyboardManager",new nl([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),Ie(this,vt),k(this,wc,null),k(this,Vp,0),k(this,$a,void 0),k(this,Nl,null),k(this,bc,null),k(this,Cs,null),k(this,$p,null),k(this,jp,0),k(this,zl,null),k(this,sn,null),k(this,Ii,null),k(this,ls,!1),k(this,iv,E(vt,this,Ab).bind(this)),k(this,Ac,null),k(this,Wl,void 0),k(this,Ut,null),k(this,yc,""),k(this,Fn,void 0),k(this,Gp,""),this.color=e.color||et._defaultColor,x(Fn,this,e.thickness||et._defaultThickness),x(Wl,this,e.opacity||et._defaultOpacity),x($a,this,e.boxes||null),x(Gp,this,e.methodOfCreation||""),x(yc,this,e.text||""),this._isDraggable=!1,e.highlightId>-1?(x(ls,this,!0),E(vt,this,nv).call(this,e),E(vt,this,Ec).call(this)):(x(wc,this,e.anchorNode),x(Vp,this,e.anchorOffset),x($p,this,e.focusNode),x(jp,this,e.focusOffset),E(vt,this,sv).call(this),E(vt,this,Ec).call(this),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:c(ls,this)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(Fn,this),methodOfCreation:c(Gp,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,t){var i;Ce.initialize(e,t),et._defaultColor||(et._defaultColor=(null===(i=t.highlightColors)||void 0===i?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(e,t){switch(e){case Me.HIGHLIGHT_DEFAULT_COLOR:et._defaultColor=t;break;case Me.HIGHLIGHT_THICKNESS:et._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return c(Ac,this)}updateParams(e,t){switch(e){case Me.HIGHLIGHT_COLOR:E(vt,this,_b).call(this,t);break;case Me.HIGHLIGHT_THICKNESS:E(vt,this,wb).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Me.HIGHLIGHT_DEFAULT_COLOR,et._defaultColor],[Me.HIGHLIGHT_THICKNESS,et._defaultThickness]]}get propertiesToUpdate(){return[[Me.HIGHLIGHT_COLOR,this.color||et._defaultColor],[Me.HIGHLIGHT_THICKNESS,c(Fn,this)||et._defaultThickness],[Me.HIGHLIGHT_FREE,c(ls,this)]]}addEditToolbar(){var e=()=>super.addEditToolbar,t=this;return(0,re.A)(function*(){const i=yield e().call(t);return i?(t._uiManager.highlightColors&&(x(bc,t,new Es({editor:t})),i.addColorPicker(c(bc,t))),i):null})()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(vt,this,Cc).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,E(vt,this,Cc).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){E(vt,this,rv).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(E(vt,this,Ec).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)E(vt,this,rv).call(this);else if(e){var i;E(vt,this,Ec).call(this,e),t=!this.parent&&(null===(i=this.div)||void 0===i?void 0:i.classList.contains("selectedEditor"))}super.setParent(e),this.show(this._isVisible),t&&this.select()}rotate(e){const{drawLayer:t}=this.parent;let i;c(ls,this)?(e=(e-this.rotation+360)%360,i=Hl.call(et,c(sn,this).box,e)):i=Hl.call(et,this,e),t.rotate(c(Ii,this),e),t.rotate(c(Ut,this),e),t.updateBox(c(Ii,this),i),t.updateBox(c(Ut,this),Hl.call(et,c(Cs,this).box,e))}render(){if(this.div)return this.div;const e=super.render();c(yc,this)&&(e.setAttribute("aria-label",c(yc,this)),e.setAttribute("role","mark")),c(ls,this)?e.classList.add("free"):this.div.addEventListener("keydown",c(iv,this),{signal:this._uiManager._signal});const t=x(zl,this,document.createElement("div"));e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=c(Nl,this);const[i,n]=this.parentDimensions;return this.setDims(this.width*i,this.height*n),xh(this,c(zl,this),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(c(Ut,this),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(Ut,this),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:E(vt,this,Up).call(this,!0);break;case 1:case 3:E(vt,this,Up).call(this,!1)}}select(){var e,t;super.select(),c(Ut,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.removeClass(c(Ut,this),"hovered"),null===(t=this.parent)||void 0===t||t.drawLayer.addClass(c(Ut,this),"selected"))}unselect(){var e;super.unselect(),c(Ut,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.removeClass(c(Ut,this),"selected"),c(ls,this)||E(vt,this,Up).call(this,!1))}get _mustFixPosition(){return!c(ls,this)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(c(Ii,this),e),this.parent.drawLayer.show(c(Ut,this),e))}static startHighlighting(e,t,{target:i,x:n,y:a}){const{x:o,y:l,width:h,height:f}=i.getBoundingClientRect(),d=A=>{E(et,this,Cb).call(this,e,A)},p=e._signal,m={capture:!0,passive:!1,signal:p},_=A=>{A.preventDefault(),A.stopPropagation()},w=A=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",w),window.removeEventListener("pointerup",w),window.removeEventListener("pointerdown",_,m),window.removeEventListener("contextmenu",Ai),E(et,this,xb).call(this,e,A)};window.addEventListener("blur",w,{signal:p}),window.addEventListener("pointerup",w,{signal:p}),window.addEventListener("pointerdown",_,m),window.addEventListener("contextmenu",Ai,{signal:p}),i.addEventListener("pointermove",d,{signal:p}),this._freeHighlight=new K0({x:n,y:a},[o,l,h,f],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static deserialize(e,t,i){const n=super.deserialize(e,t,i),{rect:[a,o,l,h],color:f,quadPoints:d}=e;n.color=q.makeHexColor(...f),x(Wl,n,e.opacity);const[p,m]=n.pageDimensions;n.width=(l-a)/p,n.height=(h-o)/m;const _=x($a,n,[]);for(let w=0;w<d.length;w+=8)_.push({x:(d[4]-l)/p,y:(h-(1-d[w+5]))/m,width:(d[w+2]-d[w])/p,height:(d[w+5]-d[w+1])/m});return E(vt,n,sv).call(n),n}serialize(e=!1){if(this.isEmpty()||e)return null;const t=this.getRect(0,0),i=Ce._colorManager.convert(this.color);return{annotationType:Ne.HIGHLIGHT,color:i,opacity:c(Wl,this),thickness:c(Fn,this),quadPoints:E(vt,this,yb).call(this),outlines:E(vt,this,Eb).call(this,t),pageIndex:this.pageIndex,rect:t,rotation:E(vt,this,Cc).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}function sv(){const s=new Z0(c($a,this),.001);x(sn,this,s.getOutlines()),({x:this.x,y:this.y,width:this.width,height:this.height}=c(sn,this).box);const e=new Z0(c($a,this),.0025,.001,"ltr"===this._uiManager.direction);x(Cs,this,e.getOutlines());const{lastPoint:t}=c(Cs,this).box;x(Ac,this,[(t[0]-this.x)/this.width,(t[1]-this.y)/this.height])}function nv({highlightOutlines:s,highlightId:e,clipPathId:t}){if(x(sn,this,s),x(Cs,this,s.getNewOutline(c(Fn,this)/2+1.5,.0025)),e>=0)x(Ii,this,e),x(Nl,this,t),this.parent.drawLayer.finalizeLine(e,s),x(Ut,this,this.parent.drawLayer.highlightOutline(c(Cs,this)));else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(Ii,this),s),this.parent.drawLayer.updateBox(c(Ii,this),Hl.call(_i,c(sn,this).box,(f-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(Ut,this),c(Cs,this)),this.parent.drawLayer.updateBox(c(Ut,this),Hl.call(_i,c(Cs,this).box,f))}const{x:n,y:a,width:o,height:l}=s.box;switch(this.rotation){case 0:this.x=n,this.y=a,this.width=o,this.height=l;break;case 90:{const[f,d]=this.parentDimensions;this.x=a,this.y=1-n,this.width=o*d/f,this.height=l*f/d;break}case 180:this.x=1-n,this.y=1-a,this.width=o,this.height=l;break;case 270:{const[f,d]=this.parentDimensions;this.x=1-a,this.y=n,this.width=o*d/f,this.height=l*f/d;break}}const{lastPoint:h}=c(Cs,this).box;x(Ac,this,[(h[0]-n)/o,(h[1]-a)/l])}function _b(s){const e=i=>{var n,a;this.color=i,null===(n=this.parent)||void 0===n||n.drawLayer.changeColor(c(Ii,this),i),null===(a=c(bc,this))||void 0===a||a.updateColor(i)},t=this.color;this.addCommands({cmd:e.bind(this,s),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(s)},!0)}function wb(s){const e=c(Fn,this),t=i=>{x(Fn,this,i),E(vt,this,bb).call(this,i)};this.addCommands({cmd:t.bind(this,s),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:s},!0)}function bb(s){if(!c(ls,this))return;E(vt,this,nv).call(this,{highlightOutlines:c(sn,this).getNewOutline(s/2)}),this.fixAndSetPosition();const[e,t]=this.parentDimensions;this.setDims(this.width*e,this.height*t)}function rv(){null===c(Ii,this)||!this.parent||(this.parent.drawLayer.remove(c(Ii,this)),x(Ii,this,null),this.parent.drawLayer.remove(c(Ut,this)),x(Ut,this,null))}function Ec(s=this.parent){null===c(Ii,this)&&(({id:va(x,[Ii,this])._,clipPathId:va(x,[Nl,this])._}=s.drawLayer.highlight(c(sn,this),this.color,c(Wl,this))),x(Ut,this,s.drawLayer.highlightOutline(c(Cs,this))),c(zl,this)&&(c(zl,this).style.clipPath=c(Nl,this)))}function Hl({x:s,y:e,width:t,height:i},n){switch(n){case 90:return{x:1-e-i,y:s,width:i,height:t};case 180:return{x:1-s-t,y:1-e-i,width:t,height:i};case 270:return{x:e,y:1-s-t,width:i,height:t}}return{x:s,y:e,width:t,height:i}}function Ab(s){_i._keyboardManager.exec(this,s)}function Up(s){if(!c(wc,this))return;const e=window.getSelection();s?e.setPosition(c(wc,this),c(Vp,this)):e.setPosition(c($p,this),c(jp,this))}function Cc(){return c(ls,this)?this.rotation:0}function yb(){if(c(ls,this))return null;const[s,e]=this.pageDimensions,[t,i]=this.pageTranslation,n=c($a,this),a=new Float32Array(8*n.length);let o=0;for(const{x:l,y:h,width:f,height:d}of n){const p=l*s+t,m=(1-h-d)*e+i;a[o]=a[o+4]=p,a[o+1]=a[o+3]=m,a[o+2]=a[o+6]=p+f*s,a[o+5]=a[o+7]=m+d*e,o+=8}return a}function Eb(s){return c(sn,this).serialize(s,E(vt,this,Cc).call(this))}function Cb(s,e){this._freeHighlight.add(e)&&s.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}function xb(s,e){this._freeHighlight.isEmpty()?s.drawLayer.removeFreeHighlight(this._freeHighlightId):s.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}_i=et,(0,de.A)(et,"_defaultColor",null),(0,de.A)(et,"_defaultOpacity",1),(0,de.A)(et,"_defaultThickness",12),(0,de.A)(et,"_l10nPromise",void 0),(0,de.A)(et,"_type","highlight"),(0,de.A)(et,"_editorType",Ne.HIGHLIGHT),(0,de.A)(et,"_freeHighlightId",-1),(0,de.A)(et,"_freeHighlight",null),(0,de.A)(et,"_freeHighlightClipId","");var Vl=new WeakMap,$l=new WeakMap,Xp=new WeakMap,Zp=new WeakMap,qp=new WeakMap,jl=new WeakMap,Ln=new WeakMap,Ir=new WeakMap,xs=new WeakMap,Gl=new WeakMap,Ul=new WeakMap,Br=new WeakMap,Xl=new WeakMap,Zl=new WeakMap,ja=new WeakMap,xe=new WeakSet;class Wt extends Ce{constructor(e){super({...e,name:"inkEditor"}),Ie(this,xe),k(this,Vl,0),k(this,$l,0),k(this,Xp,this.canvasPointermove.bind(this)),k(this,Zp,this.canvasPointerleave.bind(this)),k(this,qp,this.canvasPointerup.bind(this)),k(this,jl,this.canvasPointerdown.bind(this)),k(this,Ln,null),k(this,Ir,new Path2D),k(this,xs,!1),k(this,Gl,!1),k(this,Ul,!1),k(this,Br,null),k(this,Xl,0),k(this,Zl,0),k(this,ja,null),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){Ce.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case Me.INK_THICKNESS:Wt._defaultThickness=t;break;case Me.INK_COLOR:Wt._defaultColor=t;break;case Me.INK_OPACITY:Wt._defaultOpacity=t/100}}updateParams(e,t){switch(e){case Me.INK_THICKNESS:E(xe,this,Sb).call(this,t);break;case Me.INK_COLOR:E(xe,this,Pb).call(this,t);break;case Me.INK_OPACITY:E(xe,this,Mb).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Me.INK_THICKNESS,Wt._defaultThickness],[Me.INK_COLOR,Wt._defaultColor||Ce._defaultLineColor],[Me.INK_OPACITY,Math.round(100*Wt._defaultOpacity)]]}get propertiesToUpdate(){var e;return[[Me.INK_THICKNESS,this.thickness||Wt._defaultThickness],[Me.INK_COLOR,this.color||Wt._defaultColor||Ce._defaultLineColor],[Me.INK_OPACITY,Math.round(100*(null!==(e=this.opacity)&&void 0!==e?e:Wt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(E(xe,this,Yp).call(this),E(xe,this,Kp).call(this)),this.isAttachedToDOM||(this.parent.add(this),E(xe,this,ql).call(this)),E(xe,this,xc).call(this)))}remove(){var e;null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(Ln,this)&&(clearTimeout(c(Ln,this)),x(Ln,this,null)),null===(e=c(Br,this))||void 0===e||e.disconnect(),x(Br,this,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions;this.setDimensions(this.width*e,this.height*t)}enableEditMode(){c(xs,this)||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(jl,this),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(jl,this)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){c(xs,this)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),x(xs,this,!0),this.div.classList.add("disabled"),E(xe,this,xc).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0!==e.button||!this.isInEditMode()||c(xs,this)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),E(xe,this,Tb).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),E(xe,this,ov).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),E(xe,this,lv).call(this,e)}canvasPointerleave(e){E(xe,this,lv).call(this,e)}get isResizable(){return!this.isEmpty()&&c(xs,this)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,n,a,o]=E(xe,this,kb).call(this);if(this.setAt(i,n,0,0),this.setDims(a,o),E(xe,this,Yp).call(this),this.width){const[l,h]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*h),this.setAt(e*l,t*h,this.width*l,this.height*h),x(Ul,this,!0),E(xe,this,ql).call(this),this.setDims(this.width*l,this.height*h),E(xe,this,Ga).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return E(xe,this,Kp).call(this),this.div}setDimensions(e,t){const i=Math.round(e),n=Math.round(t);if(c(Xl,this)===i&&c(Zl,this)===n)return;x(Xl,this,i),x(Zl,this,n),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=e/a,this.height=t/o,this.fixAndSetPosition(),c(xs,this)&&E(xe,this,uv).call(this,e,t),E(xe,this,ql).call(this),E(xe,this,Ga).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(e,t,i){if(e instanceof $0)return null;const n=super.deserialize(e,t,i);n.thickness=e.thickness,n.color=q.makeHexColor(...e.color),n.opacity=e.opacity;const[a,o]=n.pageDimensions,l=n.width*a,h=n.height*o,f=n.parentScale,d=e.thickness/2;x(xs,n,!0),x(Xl,n,Math.round(l)),x(Zl,n,Math.round(h));const{paths:p,rect:m,rotation:_}=e;for(let{bezier:A}of p){A=Ob.call(Wt,A,m,_);const C=[];n.paths.push(C);let b=f*(A[0]-d),P=f*(A[1]-d);for(let T=2,O=A.length;T<O;T+=6){const B=f*(A[T+4]-d),N=f*(A[T+5]-d);C.push([[b,P],[f*(A[T]-d),f*(A[T+1]-d)],[f*(A[T+2]-d),f*(A[T+3]-d)],[B,N]]),b=B,P=N}const S=E(Wt,this,Rb).call(this,C);n.bezierPath2D.push(S)}const w=E(xe,n,cv).call(n);return x($l,n,Math.max(Ce.MIN_SIZE,w[2]-w[0])),x(Vl,n,Math.max(Ce.MIN_SIZE,w[3]-w[1])),E(xe,n,uv).call(n,l,h),n}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=Ce._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ne.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:E(xe,this,Nb).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}function Sb(s){const e=i=>{this.thickness=i,E(xe,this,xc).call(this)},t=this.thickness;this.addCommands({cmd:e.bind(this,s),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function Pb(s){const e=i=>{this.color=i,E(xe,this,Ga).call(this)},t=this.color;this.addCommands({cmd:e.bind(this,s),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Mb(s){const e=i=>{this.opacity=i,E(xe,this,Ga).call(this)},t=this.opacity;this.addCommands({cmd:e.bind(this,s/=100),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function kb(){const{parentRotation:s,parentDimensions:[e,t]}=this;switch(s){case 90:return[0,t,t,e];case 180:return[e,t,e,t];case 270:return[e,0,t,e];default:return[0,0,e,t]}}function av(){const{ctx:s,color:e,opacity:t,thickness:i,parentScale:n,scaleFactor:a}=this;s.lineWidth=i*n/a,s.lineCap="round",s.lineJoin="round",s.miterLimit=10,s.strokeStyle=`${e}${function a1(s){return Math.round(Math.min(255,Math.max(1,255*s))).toString(16).padStart(2,"0")}(t)}`}function Tb(s,e){const t=this._uiManager._signal;var i;this.canvas.addEventListener("contextmenu",Ai,{signal:t}),this.canvas.addEventListener("pointerleave",c(Zp,this),{signal:t}),this.canvas.addEventListener("pointermove",c(Xp,this),{signal:t}),this.canvas.addEventListener("pointerup",c(qp,this),{signal:t}),this.canvas.removeEventListener("pointerdown",c(jl,this)),this.isEditing=!0,c(Ul,this)||(x(Ul,this,!0),E(xe,this,ql).call(this),this.thickness||(this.thickness=Yi._defaultThickness),this.color||(this.color=Yi._defaultColor||Ce._defaultLineColor),null!==(i=this.opacity)&&void 0!==i||(this.opacity=Yi._defaultOpacity)),this.currentPath.push([s,e]),x(Gl,this,!1),E(xe,this,av).call(this),x(ja,this,()=>{E(xe,this,Lb).call(this),c(ja,this)&&window.requestAnimationFrame(c(ja,this))}),window.requestAnimationFrame(c(ja,this))}function ov(s,e){const[t,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&s===t&&e===i)return;const n=this.currentPath;let a=c(Ir,this);if(n.push([s,e]),x(Gl,this,!0),n.length<=2)return a.moveTo(...n[0]),void a.lineTo(s,e);3===n.length&&(x(Ir,this,a=new Path2D),a.moveTo(...n[0])),E(xe,this,Ib).call(this,a,...n.at(-3),...n.at(-2),s,e)}function Db(){if(0===this.currentPath.length)return;const s=this.currentPath.at(-1);c(Ir,this).lineTo(...s)}function Fb(s,e){let t;if(x(ja,this,null),s=Math.min(Math.max(s,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),E(xe,this,ov).call(this,s,e),E(xe,this,Db).call(this),1!==this.currentPath.length)t=E(xe,this,Bb).call(this);else{const l=[s,e];t=[[l,l.slice(),l.slice(),l]]}const i=c(Ir,this),n=this.currentPath;this.currentPath=[],x(Ir,this,new Path2D),this.addCommands({cmd:()=>{this.allRawPaths.push(n),this.paths.push(t),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(E(xe,this,Yp).call(this),E(xe,this,Kp).call(this)),E(xe,this,xc).call(this))},mustExec:!0})}function Lb(){if(!c(Gl,this))return;x(Gl,this,!1);Math.ceil(this.thickness*this.parentScale);const e=this.currentPath.slice(-3),t=e.map(f=>f[0]),i=e.map(f=>f[1]),{ctx:h}=(Math.min(...t),Math.max(...t),Math.min(...i),Math.max(...i),this);h.save(),h.clearRect(0,0,this.canvas.width,this.canvas.height);for(const f of this.bezierPath2D)h.stroke(f);h.stroke(c(Ir,this)),h.restore()}function Ib(s,e,t,i,n,a,o){const l=(e+i)/2,h=(t+n)/2,f=(i+a)/2,d=(n+o)/2;s.bezierCurveTo(l+2*(i-l)/3,h+2*(n-h)/3,f+2*(i-f)/3,d+2*(n-d)/3,f,d)}function Bb(){const s=this.currentPath;if(s.length<=2)return[[s[0],s[0],s.at(-1),s.at(-1)]];const e=[];let t,[i,n]=s[0];for(t=1;t<s.length-2;t++){const[p,m]=s[t],[_,w]=s[t+1],A=(p+_)/2,C=(m+w)/2;e.push([[i,n],[i+2*(p-i)/3,n+2*(m-n)/3],[A+2*(p-A)/3,C+2*(m-C)/3],[A,C]]),[i,n]=[A,C]}const[a,o]=s[t],[l,h]=s[t+1];return e.push([[i,n],[i+2*(a-i)/3,n+2*(o-n)/3],[l+2*(a-l)/3,h+2*(o-h)/3],[l,h]]),e}function Ga(){if(this.isEmpty())return void E(xe,this,Qp).call(this);E(xe,this,av).call(this);const{canvas:s,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,s.width,s.height),E(xe,this,Qp).call(this);for(const t of this.bezierPath2D)e.stroke(t)}function lv(s){this.canvas.removeEventListener("pointerleave",c(Zp,this)),this.canvas.removeEventListener("pointermove",c(Xp,this)),this.canvas.removeEventListener("pointerup",c(qp,this)),this.canvas.addEventListener("pointerdown",c(jl,this),{signal:this._uiManager._signal}),c(Ln,this)&&clearTimeout(c(Ln,this)),x(Ln,this,setTimeout(()=>{x(Ln,this,null),this.canvas.removeEventListener("contextmenu",Ai)},10)),E(xe,this,Fb).call(this,s.offsetX,s.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function Yp(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function Kp(){x(Br,this,new ResizeObserver(s=>{const e=s[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)})),c(Br,this).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var s;null===(s=c(Br,this))||void 0===s||s.disconnect(),x(Br,this,null)},{once:!0})}function ql(){if(!c(Ul,this))return;const[s,e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*s),this.canvas.height=Math.ceil(this.height*e),E(xe,this,Qp).call(this)}function uv(s,e){const t=E(xe,this,Jp).call(this),i=(s-t)/c($l,this),n=(e-t)/c(Vl,this);this.scaleFactor=Math.min(i,n)}function Qp(){const s=E(xe,this,Jp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+s,this.translationY*this.scaleFactor+s)}function Rb(s){const e=new Path2D;for(let t=0,i=s.length;t<i;t++){const[n,a,o,l]=s[t];0===t&&e.moveTo(...n),e.bezierCurveTo(a[0],a[1],o[0],o[1],l[0],l[1])}return e}function hv(s,e,t){const[i,n,a,o]=e;switch(t){case 0:for(let l=0,h=s.length;l<h;l+=2)s[l]+=i,s[l+1]=o-s[l+1];break;case 90:for(let l=0,h=s.length;l<h;l+=2){const f=s[l];s[l]=s[l+1]+i,s[l+1]=f+n}break;case 180:for(let l=0,h=s.length;l<h;l+=2)s[l]=a-s[l],s[l+1]+=n;break;case 270:for(let l=0,h=s.length;l<h;l+=2){const f=s[l];s[l]=a-s[l+1],s[l+1]=o-f}break;default:throw new Error("Invalid rotation")}return s}function Ob(s,e,t){const[i,n,a,o]=e;switch(t){case 0:for(let l=0,h=s.length;l<h;l+=2)s[l]-=i,s[l+1]=o-s[l+1];break;case 90:for(let l=0,h=s.length;l<h;l+=2){const f=s[l];s[l]=s[l+1]-n,s[l+1]=f-i}break;case 180:for(let l=0,h=s.length;l<h;l+=2)s[l]=a-s[l],s[l+1]-=n;break;case 270:for(let l=0,h=s.length;l<h;l+=2){const f=s[l];s[l]=o-s[l+1],s[l+1]=a-f}break;default:throw new Error("Invalid rotation")}return s}function Nb(s,e,t,i){const n=[],a=this.thickness/2,o=s*e+a,l=s*t+a;for(const h of this.paths){const f=[],d=[];for(let p=0,m=h.length;p<m;p++){const[_,w,A,C]=h[p];if(_[0]===C[0]&&_[1]===C[1]&&1===m){const F=s*_[0]+o,B=s*_[1]+l;f.push(F,B),d.push(F,B);break}const b=s*_[0]+o,P=s*_[1]+l,S=s*w[0]+o,T=s*w[1]+l,O=s*A[0]+o,M=s*A[1]+l,R=s*C[0]+o,I=s*C[1]+l;0===p&&(f.push(b,P),d.push(b,P)),f.push(S,T,O,M,R,I),d.push(S,T),p===m-1&&d.push(R,I)}n.push({bezier:hv.call(Yi,f,i,this.rotation),points:hv.call(Yi,d,i,this.rotation)})}return n}function cv(){let s=1/0,e=-1/0,t=1/0,i=-1/0;for(const n of this.paths)for(const[a,o,l,h]of n){const f=q.bezierBoundingBox(...a,...o,...l,...h);s=Math.min(s,f[0]),t=Math.min(t,f[1]),e=Math.max(e,f[2]),i=Math.max(i,f[3])}return[s,t,e,i]}function Jp(){return c(xs,this)?Math.ceil(this.thickness*this.parentScale):0}function xc(s=!1){if(this.isEmpty())return;if(!c(xs,this))return void E(xe,this,Ga).call(this);const e=E(xe,this,cv).call(this),t=E(xe,this,Jp).call(this);x($l,this,Math.max(Ce.MIN_SIZE,e[2]-e[0])),x(Vl,this,Math.max(Ce.MIN_SIZE,e[3]-e[1]));const i=Math.ceil(t+c($l,this)*this.scaleFactor),n=Math.ceil(t+c(Vl,this)*this.scaleFactor),[a,o]=this.parentDimensions;this.width=i/a,this.height=n/o,this.setAspectRatio(i,n);const l=this.translationX,h=this.translationY;this.translationX=-e[0],this.translationY=-e[1],E(xe,this,ql).call(this),E(xe,this,Ga).call(this),x(Xl,this,i),x(Zl,this,n),this.setDims(i,n);const f=s?t/this.scaleFactor/2:0;this.translate(l-this.translationX-f,h-this.translationY-f)}Yi=Wt,(0,de.A)(Wt,"_defaultColor",null),(0,de.A)(Wt,"_defaultOpacity",1),(0,de.A)(Wt,"_defaultThickness",1),(0,de.A)(Wt,"_type","ink"),(0,de.A)(Wt,"_editorType",Ne.INK);var hi=new WeakMap,ci=new WeakMap,Ua=new WeakMap,Rr=new WeakMap,Xa=new WeakMap,Sc=new WeakMap,In=new WeakMap,eg=new WeakMap,Or=new WeakMap,Bn=new WeakMap,nn=new WeakMap,tg=new WeakMap,yt=new WeakSet;class Pc extends Ce{constructor(e){super({...e,name:"stampEditor"}),Ie(this,yt),k(this,hi,null),k(this,ci,null),k(this,Ua,null),k(this,Rr,null),k(this,Xa,null),k(this,Sc,""),k(this,In,null),k(this,eg,!1),k(this,Or,null),k(this,Bn,null),k(this,nn,!1),k(this,tg,!1),x(Rr,this,e.bitmapUrl),x(Xa,this,e.bitmapFile)}static initialize(e,t){Ce.initialize(e,t)}static get supportedTypes(){return ze(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(t=>`image/${t}`))}static get supportedTypesStr(){return ze(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(Ne.STAMP,{bitmapFile:e.getAsFile()})}remove(){var e,t;c(ci,this)&&(x(hi,this,null),this._uiManager.imageManager.deleteId(c(ci,this)),null===(e=c(In,this))||void 0===e||e.remove(),x(In,this,null),null===(t=c(Or,this))||void 0===t||t.disconnect(),x(Or,this,null),c(Bn,this)&&(clearTimeout(c(Bn,this)),x(Bn,this,null))),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(c(ci,this)&&null===c(In,this)&&E(yt,this,ig).call(this),this.isAttachedToDOM||this.parent.add(this))):c(ci,this)&&E(yt,this,ig).call(this)}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(Ua,this)||c(hi,this)||c(Rr,this)||c(Xa,this)||c(ci,this))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(hi,this)?E(yt,this,dv).call(this):E(yt,this,ig).call(this),this.width){const[i,n]=this.parentDimensions;this.setAt(e*i,t*n,this.width*i,this.height*n)}return this.div}getImageForAltText(){return c(In,this)}static deserialize(e,t,i){if(e instanceof j0)return null;const n=super.deserialize(e,t,i),{rect:a,bitmapUrl:o,bitmapId:l,isSvg:h,accessibilityData:f}=e;l&&i.imageManager.isValidId(l)?x(ci,n,l):x(Rr,n,o),x(nn,n,h);const[d,p]=n.pageDimensions;return n.width=(a[2]-a[0])/d,n.height=(a[3]-a[1])/p,f&&(n.altTextData=f),n}serialize(e=!1,t=null){if(this.isEmpty())return null;const i={annotationType:Ne.STAMP,bitmapId:c(ci,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(nn,this),structTreeParentId:this._structTreeParentId};if(e)return i.bitmapUrl=E(yt,this,ng).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:n,altText:a}=this.altTextData;if(!n&&a&&(i.accessibilityData={type:"Figure",alt:a}),null===t)return i;t.stamps||(t.stamps=new Map);const o=c(nn,this)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(t.stamps.has(c(ci,this))){if(c(nn,this)){const l=t.stamps.get(c(ci,this));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=E(yt,this,ng).call(this,!1))}}else t.stamps.set(c(ci,this),{area:o,serialized:i}),i.bitmap=E(yt,this,ng).call(this,!1);return i}}function Mc(s,e=!1){s?(x(hi,this,s.bitmap),e||(x(ci,this,s.id),x(nn,this,s.isSvg)),s.file&&x(Sc,this,s.file.name),E(yt,this,dv).call(this)):this.remove()}function kc(){x(Ua,this,null),this._uiManager.enableWaiting(!1),c(In,this)&&this.div.focus()}function ig(){var s=this;if(c(ci,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(c(ci,this)).then(i=>E(yt,this,Mc).call(this,i,!0)).finally(()=>E(yt,this,kc).call(this));if(c(Rr,this)){const i=c(Rr,this);return x(Rr,this,null),this._uiManager.enableWaiting(!0),void x(Ua,this,this._uiManager.imageManager.getFromUrl(i).then(n=>E(yt,this,Mc).call(this,n)).finally(()=>E(yt,this,kc).call(this)))}if(c(Xa,this)){const i=c(Xa,this);return x(Xa,this,null),this._uiManager.enableWaiting(!0),void x(Ua,this,this._uiManager.imageManager.getFromFile(i).then(n=>E(yt,this,Mc).call(this,n)).finally(()=>E(yt,this,kc).call(this)))}const e=document.createElement("input");e.type="file",e.accept=Wo.supportedTypesStr;const t=this._uiManager._signal;x(Ua,this,new Promise(i=>{e.addEventListener("change",(0,re.A)(function*(){if(e.files&&0!==e.files.length){s._uiManager.enableWaiting(!0);const n=yield s._uiManager.imageManager.getFromFile(e.files[0]);E(yt,s,Mc).call(s,n)}else s.remove();i()}),{signal:t}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:t})}).finally(()=>E(yt,this,kc).call(this))),e.click()}function dv(){const{div:s}=this;let{width:e,height:t}=c(hi,this);const[i,n]=this.pageDimensions,a=.75;if(this.width)e=this.width*i,t=this.height*n;else if(e>a*i||t>a*n){const f=Math.min(a*i/e,a*n/t);e*=f,t*=f}const[o,l]=this.parentDimensions;this.setDims(e*o/i,t*l/n),this._uiManager.enableWaiting(!1);const h=x(In,this,document.createElement("canvas"));s.append(h),s.hidden=!1,E(yt,this,fv).call(this,e,t),E(yt,this,Vb).call(this),c(tg,this)||(this.parent.addUndoableEditor(this),x(tg,this,!0)),this._reportTelemetry({action:"inserted_image"}),c(Sc,this)&&h.setAttribute("aria-label",c(Sc,this))}function zb(s,e){var t;const[i,n]=this.parentDimensions;this.width=s/i,this.height=e/n,this.setDims(s,e),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==c(Bn,this)&&clearTimeout(c(Bn,this)),x(Bn,this,setTimeout(()=>{x(Bn,this,null),E(yt,this,fv).call(this,s,e)},200))}function Wb(s,e){const{width:t,height:i}=c(hi,this);let n=t,a=i,o=c(hi,this);for(;n>2*s||a>2*e;){const l=n,h=a;n>2*s&&(n=n>=16384?Math.floor(n/2)-1:Math.ceil(n/2)),a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const f=new OffscreenCanvas(n,a);f.getContext("2d").drawImage(o,0,0,l,h,0,0,n,a),o=f.transferToImageBitmap()}return o}function Hb(s,e,t){return sg.apply(this,arguments)}function sg(){return(sg=(0,re.A)(function*(s,e,t){if(c(eg,this)||(x(eg,this,!0),!(yield this._uiManager.isMLEnabledFor("altText"))||this.hasAltText()))return;const a=new OffscreenCanvas(e,t).getContext("2d",{willReadFrequently:!0});a.drawImage(s,0,0,s.width,s.height,0,0,e,t);const o=yield this._uiManager.mlGuess({service:"moz-image-to-text",request:{data:a.getImageData(0,0,e,t).data,width:e,height:t,channels:4}}),l=(null==o?void 0:o.output)||"";this.parent&&l&&!this.hasAltText()&&(this.altTextData={altText:l,decorative:!1})})).apply(this,arguments)}function fv(s,e){s=Math.ceil(s),e=Math.ceil(e);const t=c(In,this);if(!t||t.width===s&&t.height===e)return;t.width=s,t.height=e;const i=c(nn,this)?c(hi,this):E(yt,this,Wb).call(this,s,e);E(yt,this,Hb).call(this,i,s,e);const n=t.getContext("2d");n.filter=this._uiManager.hcmFilter,n.drawImage(i,0,0,i.width,i.height,0,0,s,e)}function ng(s){if(s){if(c(nn,this)){const i=this._uiManager.imageManager.getSvgUrl(c(ci,this));if(i)return i}const e=document.createElement("canvas");return({width:e.width,height:e.height}=c(hi,this)),e.getContext("2d").drawImage(c(hi,this),0,0),e.toDataURL()}if(c(nn,this)){const[e,t]=this.pageDimensions,i=Math.round(this.width*e*ws.PDF_TO_CSS_UNITS),n=Math.round(this.height*t*ws.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,n);return a.getContext("2d").drawImage(c(hi,this),0,0,c(hi,this).width,c(hi,this).height,0,0,i,n),a.transferToImageBitmap()}return structuredClone(c(hi,this))}function Vb(){this._uiManager._signal&&(x(Or,this,new ResizeObserver(s=>{const e=s[0].contentRect;e.width&&e.height&&E(yt,this,zb).call(this,e.width,e.height)})),c(Or,this).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var s;null===(s=c(Or,this))||void 0===s||s.disconnect(),x(Or,this,null)},{once:!0}))}Wo=Pc,(0,de.A)(Pc,"_type","stamp"),(0,de.A)(Pc,"_editorType",Ne.STAMP);let $b=(()=>{var s=new WeakMap,e=new WeakMap,t=new WeakMap,i=new WeakMap,n=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,h=new WeakMap,f=new WeakMap,d=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakSet;class w{constructor({uiManager:M,pageIndex:R,div:I,accessibilityManager:F,annotationLayer:B,drawLayer:N,textLayer:V,viewport:H,l10n:j}){Ie(this,_),k(this,s,void 0),k(this,e,!1),k(this,t,null),k(this,i,null),k(this,n,null),k(this,a,null),k(this,o,null),k(this,l,new Map),k(this,h,!1),k(this,f,!1),k(this,d,!1),k(this,p,null),k(this,m,void 0);const Y=[...T._.values()];if(!w._initialized){w._initialized=!0;for(const J of Y)J.initialize(j,M)}M.registerEditorTypes(Y),x(m,this,M),this.pageIndex=R,this.div=I,x(s,this,F),x(t,this,B),this.viewport=H,x(p,this,V),this.drawLayer=N,c(m,this).addLayer(this)}get isEmpty(){return 0===c(l,this).size}get isInvisible(){return this.isEmpty&&c(m,this).getMode()===Ne.NONE}updateToolbar(M){c(m,this).updateToolbar(M)}updateMode(M=c(m,this).getMode()){switch(E(_,this,S).call(this),M){case Ne.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Ne.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ne.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:R}=this.div;for(const I of T._.values())R.toggle(`${I._type}Editing`,M===I._editorType);this.div.hidden=!1}hasTextLayer(M){var R;return M===(null===(R=c(p,this))||void 0===R?void 0:R.div)}addInkEditorIfNeeded(M){if(c(m,this).getMode()===Ne.INK){if(!M)for(const I of c(l,this).values())if(I.isEmpty())return void I.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(M){c(m,this).setEditingState(M)}addCommands(M){c(m,this).addCommands(M)}toggleDrawing(M=!1){this.div.classList.toggle("drawing",!M)}togglePointerEvents(M=!1){this.div.classList.toggle("disabled",!M)}toggleAnnotationLayerPointerEvents(M=!1){var R;null===(R=c(t,this))||void 0===R||R.div.classList.toggle("disabled",!M)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const M=new Set;for(const I of c(l,this).values())I.enableEditing(),I.show(!0),I.annotationElementId&&(c(m,this).removeChangedExistingAnnotation(I),M.add(I.annotationElementId));if(!c(t,this))return;const R=c(t,this).getEditableAnnotations();for(const I of R){if(I.hide(),c(m,this).isDeletedAnnotationElement(I.data.id)||M.has(I.data.id))continue;const F=this.deserialize(I);F&&(this.addOrRebuild(F),F.enableEditing())}}disable(){x(d,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const M=new Map,R=new Map;for(const B of c(l,this).values()){var I;if(B.disableEditing(),B.annotationElementId){if(null!==B.serialize()){M.set(B.annotationElementId,B);continue}R.set(B.annotationElementId,B),null===(I=this.getEditableAnnotation(B.annotationElementId))||void 0===I||I.show(),B.remove()}}if(c(t,this)){const B=c(t,this).getEditableAnnotations();for(const N of B){const{id:V}=N.data;if(c(m,this).isDeletedAnnotationElement(V))continue;let H=R.get(V);H?(H.resetAnnotationElement(N),H.show(!1),N.show()):(H=M.get(V),H&&(c(m,this).addChangedExistingAnnotation(H),H.renderAnnotationElement(N),H.show(!1)),N.show())}}E(_,this,S).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:F}=this.div;for(const B of T._.values())F.remove(`${B._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),x(d,this,!1)}getEditableAnnotation(M){var R;return(null===(R=c(t,this))||void 0===R?void 0:R.getEditableAnnotation(M))||null}setActiveEditor(M){c(m,this).getActive()!==M&&c(m,this).setActiveEditor(M)}enableTextSelection(){var M;this.div.tabIndex=-1,null!==(M=c(p,this))&&void 0!==M&&M.div&&!c(a,this)&&(x(a,this,E(_,this,A).bind(this)),c(p,this).div.addEventListener("pointerdown",c(a,this),{signal:c(m,this)._signal}),c(p,this).div.classList.add("highlighting"))}disableTextSelection(){var M;this.div.tabIndex=0,null!==(M=c(p,this))&&void 0!==M&&M.div&&c(a,this)&&(c(p,this).div.removeEventListener("pointerdown",c(a,this)),x(a,this,null),c(p,this).div.classList.remove("highlighting"))}enableClick(){if(c(n,this))return;const M=c(m,this)._signal;x(n,this,this.pointerdown.bind(this)),x(i,this,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(n,this),{signal:M}),this.div.addEventListener("pointerup",c(i,this),{signal:M})}disableClick(){c(n,this)&&(this.div.removeEventListener("pointerdown",c(n,this)),this.div.removeEventListener("pointerup",c(i,this)),x(n,this,null),x(i,this,null))}attach(M){c(l,this).set(M.id,M);const{annotationElementId:R}=M;R&&c(m,this).isDeletedAnnotationElement(R)&&c(m,this).removeDeletedAnnotationElement(M)}detach(M){var R;c(l,this).delete(M.id),null===(R=c(s,this))||void 0===R||R.removePointerInTextLayer(M.contentDiv),!c(d,this)&&M.annotationElementId&&c(m,this).addDeletedAnnotationElement(M)}remove(M){this.detach(M),c(m,this).removeEditor(M),M.div.remove(),M.isAttachedToDOM=!1,c(f,this)||this.addInkEditorIfNeeded(!1)}changeParent(M){var R;M.parent!==this&&(M.parent&&M.annotationElementId&&(c(m,this).addDeletedAnnotationElement(M.annotationElementId),Ce.deleteAnnotationElement(M),M.annotationElementId=null),this.attach(M),null===(R=M.parent)||void 0===R||R.detach(M),M.setParent(this),M.div&&M.isAttachedToDOM&&(M.div.remove(),this.div.append(M.div)))}add(M){if(M.parent!==this||!M.isAttachedToDOM){if(this.changeParent(M),c(m,this).addEditor(M),this.attach(M),!M.isAttachedToDOM){const R=M.render();this.div.append(R),M.isAttachedToDOM=!0}M.fixAndSetPosition(),M.onceAdded(),c(m,this).addToAnnotationStorage(M),M._reportTelemetry(M.telemetryInitialData)}}moveEditorInDOM(M){var R;if(!M.isAttachedToDOM)return;const{activeElement:I}=document;M.div.contains(I)&&!c(o,this)&&(M._focusEventsAllowed=!1,x(o,this,setTimeout(()=>{x(o,this,null),M.div.contains(document.activeElement)?M._focusEventsAllowed=!0:(M.div.addEventListener("focusin",()=>{M._focusEventsAllowed=!0},{once:!0,signal:c(m,this)._signal}),I.focus())},0))),M._structTreeParentId=null===(R=c(s,this))||void 0===R?void 0:R.moveElementInDOM(this.div,M.div,M.contentDiv,!0)}addOrRebuild(M){M.needsToBeRebuilt()?(M.parent||(M.parent=this),M.rebuild(),M.show()):this.add(M)}addUndoableEditor(M){this.addCommands({cmd:()=>M._uiManager.rebuild(M),undo:()=>{M.remove()},mustExec:!1})}getNextId(){return c(m,this).getId()}get _signal(){return c(m,this)._signal}canCreateNewEmptyEditor(){var M;return null===(M=Ee(_,this,C))||void 0===M?void 0:M.canCreateNewEmptyEditor()}pasteEditor(M,R){c(m,this).updateToolbar(M),c(m,this).updateMode(M);const{offsetX:I,offsetY:F}=E(_,this,P).call(this),B=this.getNextId(),N=E(_,this,b).call(this,{parent:this,id:B,x:I,y:F,uiManager:c(m,this),isCentered:!0,...R});N&&this.add(N)}deserialize(M){var R,I;return(null===(R=T._.get(null!==(I=M.annotationType)&&void 0!==I?I:M.annotationEditorType))||void 0===R?void 0:R.deserialize(M,this,c(m,this)))||null}createAndAddNewEditor(M,R,I={}){const F=this.getNextId(),B=E(_,this,b).call(this,{parent:this,id:F,x:M.offsetX,y:M.offsetY,uiManager:c(m,this),isCentered:R,...I});return B&&this.add(B),B}addNewEditor(){this.createAndAddNewEditor(E(_,this,P).call(this),!0)}setSelected(M){c(m,this).setSelected(M)}toggleSelected(M){c(m,this).toggleSelected(M)}isSelected(M){return c(m,this).isSelected(M)}unselect(M){c(m,this).unselect(M)}pointerup(M){const{isMac:R}=X.platform;if(!(0!==M.button||M.ctrlKey&&R)&&M.target===this.div&&c(h,this)){if(x(h,this,!1),!c(e,this))return void x(e,this,!0);if(c(m,this).getMode()===Ne.STAMP)return void c(m,this).unselectAll();this.createAndAddNewEditor(M,!1)}}pointerdown(M){if(c(m,this).getMode()===Ne.HIGHLIGHT&&this.enableTextSelection(),c(h,this))return void x(h,this,!1);const{isMac:R}=X.platform;if(0!==M.button||M.ctrlKey&&R||M.target!==this.div)return;x(h,this,!0);const I=c(m,this).getActive();x(e,this,!I||I.isEmpty())}findNewParent(M,R,I){const F=c(m,this).findParent(R,I);return null!==F&&F!==this&&(F.changeParent(M),!0)}destroy(){var M;(null===(M=c(m,this).getActive())||void 0===M?void 0:M.parent)===this&&(c(m,this).commitOrRemove(),c(m,this).setActiveEditor(null)),c(o,this)&&(clearTimeout(c(o,this)),x(o,this,null));for(const I of c(l,this).values()){var R;null===(R=c(s,this))||void 0===R||R.removePointerInTextLayer(I.contentDiv),I.setParent(null),I.isAttachedToDOM=!1,I.div.remove()}this.div=null,c(l,this).clear(),c(m,this).removeLayer(this)}render({viewport:M}){this.viewport=M,br(this.div,M);for(const R of c(m,this).getEditors(this.pageIndex))this.add(R),R.rebuild();this.updateMode()}update({viewport:M}){c(m,this).commitOrRemove(),E(_,this,S).call(this);const R=this.viewport.rotation,I=M.rotation;if(this.viewport=M,br(this.div,{rotation:I}),R!==I)for(const F of c(l,this).values())F.rotate(I);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:M,pageHeight:R}=this.viewport.rawDims;return[M,R]}get scale(){return c(m,this).viewParameters.realScale}}function A(O){c(m,this).unselectAll();const{target:M}=O;if(M===c(p,this).div||M.classList.contains("endOfContent")&&c(p,this).div.contains(M)){const{isMac:R}=X.platform;if(0!==O.button||O.ctrlKey&&R)return;c(m,this).showAllEditors("highlight",!0,!0),c(p,this).div.classList.add("free"),this.toggleDrawing(),et.startHighlighting(this,"ltr"===c(m,this).direction,O),c(p,this).div.addEventListener("pointerup",()=>{c(p,this).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:c(m,this)._signal}),O.preventDefault()}}function C(O){return T._.get(c(m,O).getMode())}function b(O){const M=Ee(_,this,C);return M?new M.prototype.constructor(O):null}function P(){const{x:O,y:M,width:R,height:I}=this.div.getBoundingClientRect(),F=Math.max(0,O),B=Math.max(0,M),H=(F+Math.min(window.innerWidth,O+R))/2-O,j=(B+Math.min(window.innerHeight,M+I))/2-M,[Y,J]=this.viewport.rotation%180==0?[H,j]:[j,H];return{offsetX:Y,offsetY:J}}function S(){x(f,this,!0);for(const O of c(l,this).values())O.isEmpty()&&O.remove();x(f,this,!1)}(0,de.A)(w,"_initialized",!1);var T={_:new Map([pt,Wt,Pc,et].map(O=>[O._editorType,O]))};return w})();var Rn=new WeakMap,Yl=new WeakMap,Xt=new WeakMap,Za=new WeakMap,Tc=new WeakSet;class Bi{constructor({pageIndex:e}){Ie(this,Tc),k(this,Rn,null),k(this,Yl,0),k(this,Xt,new Map),k(this,Za,new Map),this.pageIndex=e}setParent(e){if(c(Rn,this)){if(c(Rn,this)!==e){if(c(Xt,this).size>0)for(const t of c(Xt,this).values())t.remove(),e.append(t);x(Rn,this,e)}}else x(Rn,this,e)}static get _svgFactory(){return ze(this,"_svgFactory",new uf)}highlight(e,t,i,n=!1){var a,o;const l=(x(Yl,this,(a=c(Yl,this),o=a++,a)),o),h=E(Tc,this,gv).call(this,e.box);h.classList.add("highlight"),e.free&&h.classList.add("free");const f=Bi._svgFactory.createElement("defs");h.append(f);const d=Bi._svgFactory.createElement("path");f.append(d);const p=`path_p${this.pageIndex}_${l}`;d.setAttribute("id",p),d.setAttribute("d",e.toSVGPath()),n&&c(Za,this).set(l,d);const m=E(Tc,this,jb).call(this,f,p),_=Bi._svgFactory.createElement("use");return h.append(_),h.setAttribute("fill",t),h.setAttribute("fill-opacity",i),_.setAttribute("href",`#${p}`),c(Xt,this).set(l,h),{id:l,clipPathId:`url(#${m})`}}highlightOutline(e){var t,i;const n=(x(Yl,this,(t=c(Yl,this),i=t++,t)),i),a=E(Tc,this,gv).call(this,e.box);a.classList.add("highlightOutline");const o=Bi._svgFactory.createElement("defs");a.append(o);const l=Bi._svgFactory.createElement("path");o.append(l);const h=`path_p${this.pageIndex}_${n}`;let f;if(l.setAttribute("id",h),l.setAttribute("d",e.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke"),e.free){a.classList.add("free");const m=Bi._svgFactory.createElement("mask");o.append(m),f=`mask_p${this.pageIndex}_${n}`,m.setAttribute("id",f),m.setAttribute("maskUnits","objectBoundingBox");const _=Bi._svgFactory.createElement("rect");m.append(_),_.setAttribute("width","1"),_.setAttribute("height","1"),_.setAttribute("fill","white");const w=Bi._svgFactory.createElement("use");m.append(w),w.setAttribute("href",`#${h}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const d=Bi._svgFactory.createElement("use");a.append(d),d.setAttribute("href",`#${h}`),f&&d.setAttribute("mask",`url(#${f})`);const p=d.cloneNode();return a.append(p),d.classList.add("mainOutline"),p.classList.add("secondaryOutline"),c(Xt,this).set(n,a),n}finalizeLine(e,t){const i=c(Za,this).get(e);c(Za,this).delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(Xt,this).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(Za,this).delete(e)}updatePath(e,t){c(Za,this).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){pv.call(Bi,c(Xt,this).get(e),t)}show(e,t){c(Xt,this).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(Xt,this).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(Xt,this).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(Xt,this).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(Xt,this).get(e).classList.add(t)}removeClass(e,t){c(Xt,this).get(e).classList.remove(t)}remove(e){null!==c(Rn,this)&&(c(Xt,this).get(e).remove(),c(Xt,this).delete(e))}destroy(){x(Rn,this,null);for(const e of c(Xt,this).values())e.remove();c(Xt,this).clear()}}function pv(s,{x:e=0,y:t=0,width:i=1,height:n=1}={}){const{style:a}=s;a.top=100*t+"%",a.left=100*e+"%",a.width=100*i+"%",a.height=100*n+"%"}function gv(s){const e=Ns._svgFactory.create(1,1,!0);return c(Rn,this).append(e),e.setAttribute("aria-hidden",!0),pv.call(Ns,e,s),e}function jb(s,e){const t=Ns._svgFactory.createElement("clipPath");s.append(t);const i=`clip_${e}`;t.setAttribute("id",i),t.setAttribute("clipPathUnits","objectBoundingBox");const n=Ns._svgFactory.createElement("use");return t.append(n),n.setAttribute("href",`#${e}`),n.classList.add("clip"),i}Ns=Bi;var Gb=Se.AbortException,Ub=Se.AnnotationEditorLayer,Xb=Se.AnnotationEditorParamsType,Zb=Se.AnnotationEditorType,qb=Se.AnnotationEditorUIManager,Yb=Se.AnnotationLayer,Kb=Se.AnnotationMode,Qb=Se.CMapCompressionType,Jb=Se.ColorPicker,eA=Se.DOMSVGFactory,tA=Se.DrawLayer,iA=Se.FeatureTest,sA=Se.GlobalWorkerOptions,nA=Se.ImageKind,rA=Se.InvalidPDFException,aA=Se.MissingPDFException,oA=Se.OPS,lA=Se.PDFDataRangeTransport,uA=Se.PDFDateString,hA=Se.PDFWorker,cA=Se.PasswordResponses,dA=Se.PermissionFlag,fA=Se.PixelsPerInch,pA=Se.RenderingCancelledException,gA=Se.TextLayer,mA=Se.UnexpectedResponseException,vA=Se.Util,mv=Se.VerbosityLevel,_A=Se.XfaLayer,wA=Se.build,bA=Se.createValidAbsoluteUrl,AA=Se.fetchData,yA=Se.getDocument,EA=Se.getFilenameFromUrl,CA=Se.getPdfFilenameFromUrl,xA=Se.getXfaPageViewport,SA=Se.isDataScheme,PA=Se.isPdfFile,MA=Se.noContextMenu,kA=Se.normalizeUnicode,TA=Se.setLayerDimensions,DA=Se.shadow,FA=Se.version;function vv(s,e){this.v=s,this.k=e}function _v(s){return new vv(s,0)}function wv(s){return function(){return new Kl(s.apply(this,arguments))}}function Kl(s){var e,t;function i(a,o){try{var l=s[a](o),h=l.value,f=h instanceof vv;Promise.resolve(f?h.v:h).then(function(d){if(f){var p="return"===a?"return":"next";if(!h.k||d.done)return i(p,d);d=s[p](d).value}n(l.done?"return":"normal",d)},function(d){i("throw",d)})}catch(d){n("throw",d)}}function n(a,o){switch(a){case"return":e.resolve({value:o,done:!0});break;case"throw":e.reject(o);break;default:e.resolve({value:o,done:!1})}(e=e.next)?i(e.key,e.arg):t=null}this._invoke=function(a,o){return new Promise(function(l,h){var f={key:a,arg:o,resolve:l,reject:h,next:null};t?t=t.next=f:(e=t=f,i(a,o))})},"function"!=typeof s.return&&(this.return=void 0)}function Dc(s){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var i=t.done;return Promise.resolve(t.value).then(function(n){return{value:n,done:i}})}return(Dc=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(i){var n=this.s.return;return void 0===n?Promise.resolve({value:i,done:!0}):e(n.apply(this.s,arguments))},throw:function(i){var n=this.s.return;return void 0===n?Promise.reject(i):e(n.apply(this.s,arguments))}},new Dc(s)}Kl.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Kl.prototype.next=function(s){return this._invoke("next",s)},Kl.prototype.throw=function(s){return this._invoke("throw",s)},Kl.prototype.return=function(s){return this._invoke("return",s)};var Ql,di,Jl={d:(s,e)=>{for(var t in e)Jl.o(e,t)&&!Jl.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:e[t]})},o:(s,e)=>Object.prototype.hasOwnProperty.call(s,e)},Et=globalThis.pdfjsViewer={};Jl.d(Et,{AnnotationLayerBuilder:()=>Vv,DownloadManager:()=>zy,EventBus:()=>wg,FindState:()=>On,GenericL10n:()=>Nn,LinkTarget:()=>Nr,PDFFindController:()=>my,PDFHistory:()=>zE,PDFLinkService:()=>Wc,PDFPageView:()=>C_,PDFScriptingManager:()=>lC,PDFSinglePageViewer:()=>AC,PDFViewer:()=>B_,ProgressBar:()=>XA,RenderingStates:()=>St,ScrollMode:()=>$e,SimpleLinkService:()=>fg,SpreadMode:()=>ei,StructTreeLayerBuilder:()=>__,TextLayerBuilder:()=>uu,XfaLayerBuilder:()=>E_,parseQueryString:()=>Fc});const OA=1.25,yv=40,Ev=5,St={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},$e={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},ei={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};class NA{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}}function Cv(s,e,t=!1){let i=s.offsetParent;if(!i)return void console.error("offsetParent is not set -- cannot scroll");let n=s.offsetTop+s.clientTop,a=s.offsetLeft+s.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||"hidden"===getComputedStyle(i).overflow);)if(n+=i.offsetTop,a+=i.offsetLeft,i=i.offsetParent,!i)return;e&&(void 0!==e.top&&(n+=e.top),void 0!==e.left&&(a+=e.left,i.scrollLeft=a)),i.scrollTop=n}function Fc(s){const e=new Map;for(const[t,i]of new URLSearchParams(s))e.set(t.toLowerCase(),i);return e}const xv=/[\x00-\x1F]/g;function Lc(s,e=!1){return xv.test(s)?e?s.replaceAll(xv,t=>"\0"===t?"":" "):s.replaceAll("\0",""):s}function eu(s,e,t=0){let i=t,n=s.length-1;if(n<0||!e(s[n]))return s.length;if(e(s[i]))return i;for(;i<n;){const a=i+n>>1;e(s[a])?n=a:i=a+1}return i}function Sv(s){if(Math.floor(s)===s)return[s,1];const e=1/s;if(e>8)return[1,8];if(Math.floor(e)===e)return[1,e];const i=s>1?e:s;let h,n=0,a=1,o=1,l=1;for(;;){const f=n+o,d=a+l;if(d>8)break;i<=f/d?(o=f,l=d):(n=f,a=d)}return h=i-n/a<o/l-i?i===s?[n,a]:[a,n]:i===s?[o,l]:[l,o],h}function Ic(s,e){return s-s%e}function Pv(s){return Number.isInteger(s)&&s%90==0}function Mv(s){return s.width<=s.height}new Promise(function(s){window.requestAnimationFrame(s)});const GA=document.documentElement.style;var Ka=new WeakMap,tu=new WeakMap,Qa=new WeakMap,Bc=new WeakMap,iu=new WeakMap;class XA{constructor(e){k(this,Ka,null),k(this,tu,null),k(this,Qa,0),k(this,Bc,null),k(this,iu,!0),x(Ka,this,e.classList),x(Bc,this,e.style)}get percent(){return c(Qa,this)}set percent(e){x(Qa,this,function UA(s,e,t){return Math.min(Math.max(s,e),t)}(e,0,100)),isNaN(e)?c(Ka,this).add("indeterminate"):(c(Ka,this).remove("indeterminate"),c(Bc,this).setProperty("--progressBar-percent",`${c(Qa,this)}%`))}setWidth(e){if(!e)return;const i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&c(Bc,this).setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){100===c(Qa,this)||isNaN(c(Qa,this))||(c(tu,this)&&clearTimeout(c(tu,this)),this.show(),x(tu,this,setTimeout(()=>{x(tu,this,null),this.hide()},e)))}hide(){c(iu,this)&&(x(iu,this,!1),c(Ka,this).add("hidden"))}show(){c(iu,this)||(x(iu,this,!0),c(Ka,this).remove("hidden"))}}const us={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function Rc(s){return function qA(s){return s<11904}(s)?function YA(s){return!(65408&s)}(s)?function JA(s){return 32===s||9===s||13===s||10===s}(s)?us.SPACE:function KA(s){return s>=97&&s<=122||s>=65&&s<=90}(s)||function QA(s){return s>=48&&s<=57}(s)||95===s?us.ALPHA_LETTER:us.PUNCT:function ny(s){return 3584==(65408&s)}(s)?us.THAI_LETTER:160===s?us.SPACE:us.ALPHA_LETTER:function ey(s){return s>=13312&&s<=40959||s>=63744&&s<=64255}(s)?us.HAN_LETTER:function ty(s){return s>=12448&&s<=12543}(s)?us.KATAKANA_LETTER:function iy(s){return s>=12352&&s<=12447}(s)?us.HIRAGANA_LETTER:function sy(s){return s>=65376&&s<=65439}(s)?us.HALFWIDTH_KATAKANA_LETTER:us.ALPHA_LETTER}let ag;const On={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},kv={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},Tv=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let og;const uy=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]+/gu,hy=/([.*+?^${}()|[\]\\])|([!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65\u{10100}-\u{10102}\u{1039F}\u{103D0}\u{1056F}\u{10857}\u{1091F}\u{1093F}\u{10A50}-\u{10A58}\u{10A7F}\u{10AF0}-\u{10AF6}\u{10B39}-\u{10B3F}\u{10B99}-\u{10B9C}\u{10EAD}\u{10F55}-\u{10F59}\u{10F86}-\u{10F89}\u{11047}-\u{1104D}\u{110BB}\u{110BC}\u{110BE}-\u{110C1}\u{11140}-\u{11143}\u{11174}\u{11175}\u{111C5}-\u{111C8}\u{111CD}\u{111DB}\u{111DD}-\u{111DF}\u{11238}-\u{1123D}\u{112A9}\u{1144B}-\u{1144F}\u{1145A}\u{1145B}\u{1145D}\u{114C6}\u{115C1}-\u{115D7}\u{11641}-\u{11643}\u{11660}-\u{1166C}\u{116B9}\u{1173C}-\u{1173E}\u{1183B}\u{11944}-\u{11946}\u{119E2}\u{11A3F}-\u{11A46}\u{11A9A}-\u{11A9C}\u{11A9E}-\u{11AA2}\u{11B00}-\u{11B09}\u{11C41}-\u{11C45}\u{11C70}\u{11C71}\u{11EF7}\u{11EF8}\u{11F43}-\u{11F4F}\u{11FFF}\u{12470}-\u{12474}\u{12FF1}\u{12FF2}\u{16A6E}\u{16A6F}\u{16AF5}\u{16B37}-\u{16B3B}\u{16B44}\u{16E97}-\u{16E9A}\u{16FE2}\u{1BC9F}\u{1DA87}-\u{1DA8B}\u{1E95E}\u{1E95F}])|(\s+)|([\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}])|([A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{1031F}\u{1032D}-\u{10340}\u{10342}-\u{10349}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{103A0}-\u{103C3}\u{103C8}-\u{103CF}\u{10400}-\u{1049D}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{10570}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10860}-\u{10876}\u{10880}-\u{1089E}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{10900}-\u{10915}\u{10920}-\u{10939}\u{10980}-\u{109B7}\u{109BE}\u{109BF}\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A60}-\u{10A7C}\u{10A80}-\u{10A9C}\u{10AC0}-\u{10AC7}\u{10AC9}-\u{10AE4}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B60}-\u{10B72}\u{10B80}-\u{10B91}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10D00}-\u{10D23}\u{10E80}-\u{10EA9}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F1C}\u{10F27}\u{10F30}-\u{10F45}\u{10F70}-\u{10F81}\u{10FB0}-\u{10FC4}\u{10FE0}-\u{10FF6}\u{11003}-\u{11037}\u{11071}\u{11072}\u{11075}\u{11083}-\u{110AF}\u{110D0}-\u{110E8}\u{11103}-\u{11126}\u{11144}\u{11147}\u{11150}-\u{11172}\u{11176}\u{11183}-\u{111B2}\u{111C1}-\u{111C4}\u{111DA}\u{111DC}\u{11200}-\u{11211}\u{11213}-\u{1122B}\u{1123F}\u{11240}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A8}\u{112B0}-\u{112DE}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}\u{11350}\u{1135D}-\u{11361}\u{11400}-\u{11434}\u{11447}-\u{1144A}\u{1145F}-\u{11461}\u{11480}-\u{114AF}\u{114C4}\u{114C5}\u{114C7}\u{11580}-\u{115AE}\u{115D8}-\u{115DB}\u{11600}-\u{1162F}\u{11644}\u{11680}-\u{116AA}\u{116B8}\u{11700}-\u{1171A}\u{11740}-\u{11746}\u{11800}-\u{1182B}\u{118A0}-\u{118DF}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{1192F}\u{1193F}\u{11941}\u{119A0}-\u{119A7}\u{119AA}-\u{119D0}\u{119E1}\u{119E3}\u{11A00}\u{11A0B}-\u{11A32}\u{11A3A}\u{11A50}\u{11A5C}-\u{11A89}\u{11A9D}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2E}\u{11C40}\u{11C72}-\u{11C8F}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D89}\u{11D98}\u{11EE0}-\u{11EF2}\u{11F02}\u{11F04}-\u{11F10}\u{11F12}-\u{11F33}\u{11FB0}\u{12000}-\u{12399}\u{12480}-\u{12543}\u{12F90}-\u{12FF0}\u{13000}-\u{1342F}\u{13441}-\u{13446}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A70}-\u{16ABE}\u{16AD0}-\u{16AED}\u{16B00}-\u{16B2F}\u{16B40}-\u{16B43}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E7F}\u{16F00}-\u{16F4A}\u{16F50}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6C0}\u{1D6C2}-\u{1D6DA}\u{1D6DC}-\u{1D6FA}\u{1D6FC}-\u{1D714}\u{1D716}-\u{1D734}\u{1D736}-\u{1D74E}\u{1D750}-\u{1D76E}\u{1D770}-\u{1D788}\u{1D78A}-\u{1D7A8}\u{1D7AA}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E030}-\u{1E06D}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E14E}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E4D0}-\u{1E4EB}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E800}-\u{1E8C4}\u{1E900}-\u{1E943}\u{1E94B}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2EBF0}-\u{2EE5D}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}])/gu,cy=/([^\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}])[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,dy=/^[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*([^\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}])/u,fy=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,Dv=new Map,py="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",Fv=new Map;let lg=null,ug=null;function hg(s){const e=[];let t,i;for(;null!==(t=fy.exec(s));){let{index:_}=t;for(const w of t[0]){let A=Dv.get(w);A||(A=w.normalize("NFD").length,Dv.set(w,A)),e.push([A,_++])}}if(0===e.length&&lg)i=lg;else if(e.length>0&&ug)i=ug;else{const b=`([${Object.keys(kv).join("")}])|([${function ry(){return ag||(ag="\xa0\xa8\xaa\xaf\xb2-\xb5\xb8-\xba\xbc-\xbe\u0132-\u0133\u013f-\u0140\u0149\u017f\u01c4-\u01cc\u01f1-\u01f3\u02b0-\u02b8\u02d8-\u02dd\u02e0-\u02e4\u0374\u037a\u037e\u0384-\u0385\u0387\u03d0-\u03d6\u03f0-\u03f2\u03f4-\u03f5\u03f9\u0587\u0675-\u0678\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e33\u0eb3\u0edc-\u0edd\u0f0c\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u10fc\u1d2c-\u1d2e\u1d30-\u1d3a\u1d3c-\u1d4d\u1d4f-\u1d6a\u1d78\u1d9b-\u1dbf\u1e9a-\u1e9b\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbd-\u1fc1\u1fc9\u1fcb\u1fcd-\u1fcf\u1fd3\u1fdb\u1fdd-\u1fdf\u1fe3\u1feb\u1fed-\u1fef\u1ff9\u1ffb\u1ffd-\u1ffe\u2000-\u200a\u2011\u2017\u2024-\u2026\u202f\u2033-\u2034\u2036-\u2037\u203c\u203e\u2047-\u2049\u2057\u205f\u2070-\u2071\u2074-\u208e\u2090-\u209c\u20a8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211d\u2120-\u2122\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213b-\u2140\u2145-\u2149\u2150-\u217f\u2189\u222c-\u222d\u222f-\u2230\u2329-\u232a\u2460-\u24ea\u2a0c\u2a74-\u2a76\u2adc\u2c7c-\u2c7d\u2d6f\u2e9f\u2ef3\u2f00-\u2fd5\u3000\u3036\u3038-\u303a\u309b-\u309c\u309f\u30ff\u3131-\u318e\u3192-\u319f\u3200-\u321e\u3220-\u3247\u3250-\u327e\u3280-\u33ff\ua69c-\ua69d\ua770\ua7f2-\ua7f4\ua7f8-\ua7f9\uab5c-\uab5f\uab69\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfc\ufe10-\ufe19\ufe30-\ufe44\ufe47-\ufe52\ufe54-\ufe66\ufe68-\ufe6b\ufe70-\ufe72\ufe74\ufe76-\ufefc\uff01-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\uffe0-\uffe6"),ag}()}])|((?:\u3099|\u309a)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30ff])\\n)|(\\n)`;i=0===e.length?lg=new RegExp(b+"|(\\u0000)","gum"):ug=new RegExp(b+`|(${py})`,"gum")}const n=[];for(;null!==(t=uy.exec(s));)n.push([t[0].length,t.index]);let a=s.normalize("NFD");const o=[[0,0]];let l=0,h=0,f=0,d=0,p=0,m=!1;return a=a.replace(i,(_,w,A,C,b,P,S,T,O,M)=>{var R,I;if(M-=d,w){const B=kv[w],N=B.length;for(let V=1;V<N;V++)o.push([M-f+V,f-V]);return f-=N-1,B}if(A){let B=Fv.get(A);B||(B=A.normalize("NFKC"),Fv.set(A,B));const N=B.length;for(let V=1;V<N;V++)o.push([M-f+V,f-V]);return f-=N-1,B}if(C)return m=!0,M+p===(null===(I=n[l])||void 0===I?void 0:I[1])?++l:(o.push([M-1-f+1,f-1]),f-=1,d+=1),o.push([M-f+1,f]),d+=1,p+=1,C.charAt(0);if(b){var F;const B=b.endsWith("\n"),N=B?b.length-2:b.length;m=!0;let V=N;M+p===(null===(F=n[l])||void 0===F?void 0:F[1])&&(V-=n[l][0],++l);for(let H=1;H<=V;H++)o.push([M-1-f+H,f-H]);return f-=V,d+=V,B?(o.push([(M+=N-1)-f+1,1+f]),f+=1,d+=1,p+=1,b.slice(0,N)):b}if(P)return o.push([M-f+(P.length-2),1+f]),f+=1,d+=1,p+=1,P.slice(0,-2);if(S)return o.push([M-f+(S.length-1),f]),d+=1,p+=1,S.slice(0,-1);if(T)return o.push([M-f+1,f-1]),f-=1,d+=1,p+=1," ";if(M+p===(null===(R=e[h])||void 0===R?void 0:R[1])){const B=e[h][0]-1;++h;for(let N=1;N<=B;N++)o.push([M-(f-N),f-N]);f-=B,d+=B}return O}),o.push([a.length,f]),[a,o,m]}function gy(s,e,t){if(!s)return[e,t];const i=e,n=e+t-1;let a=eu(s,d=>d[0]>=i);s[a][0]>i&&--a;let o=eu(s,d=>d[0]>=n,a);s[o][0]>n&&--o;const l=i+s[a][1];return[l,n+s[o][1]+1-l]}var ti=new WeakMap,Oc=new WeakMap,Ja=new WeakMap,Be=new WeakSet;class my{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){Ie(this,Be),k(this,ti,null),k(this,Oc,!0),k(this,Ja,0),this._linkService=e,this._eventBus=t,x(Oc,this,i),this.onIsPageVisible=null,E(Be,this,Lv).call(this),t._on("find",E(Be,this,vy).bind(this)),t._on("findbarclose",E(Be,this,Cy).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return c(ti,this)}setDocument(e){this._pdfDocument&&E(Be,this,Lv).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:n=-1}){this._scrollMatches&&e&&-1!==n&&n===this._selected.matchIdx&&-1!==i&&i===this._selected.pageIdx&&(this._scrollMatches=!1,Cv(e,{top:-50,left:t+-400},!0))}}function vy(s){if(!s)return;const e=this._pdfDocument,{type:t}=s;(null===c(ti,this)||E(Be,this,_y).call(this,s))&&(this._dirtyMatch=!0),x(ti,this,s),"highlightallchange"!==t&&E(Be,this,zc).call(this,On.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||e&&this._pdfDocument!==e)return;E(Be,this,yy).call(this);const i=!this._highlightMatches,n=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),t?this._dirtyMatch?E(Be,this,su).call(this):"again"===t?(E(Be,this,su).call(this),i&&c(ti,this).highlightAll&&E(Be,this,Nc).call(this)):"highlightallchange"===t?(n?E(Be,this,su).call(this):this._highlightMatches=!0,E(Be,this,Nc).call(this)):E(Be,this,su).call(this):this._findTimeout=setTimeout(()=>{E(Be,this,su).call(this),this._findTimeout=null},250)})}function Lv(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],x(Ja,this,0),x(ti,this,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}function Iv(s){const{query:e}=c(ti,s);return"string"==typeof e?(e!==s._rawQuery&&(s._rawQuery=e,[s._normalizedQuery]=hg(e)),s._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>hg(t)[0])}function _y(s){var e,t;const i=s.query,n=c(ti,this).query,a=typeof i;if(a!==typeof n)return!0;if("string"===a){if(i!==n)return!0}else if(JSON.stringify(i)!==JSON.stringify(n))return!0;switch(s.type){case"again":const l=this._selected.pageIdx+1,h=this._linkService;return l>=1&&l<=h.pagesCount&&l!==h.page&&!(null===(e=null===(t=this.onIsPageVisible)||void 0===t?void 0:t.call(this,l))||void 0===e||e);case"highlightallchange":return!1}return!0}function wy(s,e,t){let i=s.slice(0,e).match(cy);if(i){const n=s.charCodeAt(e),a=i[1].charCodeAt(0);if(Rc(n)===Rc(a))return!1}if(i=s.slice(e+t).match(dy),i){const n=s.charCodeAt(e+t-1),a=i[1].charCodeAt(0);if(Rc(n)===Rc(a))return!1}return!0}function by(s,e,t,i){const n=this._pageMatches[t]=[],a=this._pageMatchesLength[t]=[];if(!s)return;const o=this._pageDiffs[t];let l;for(;null!==(l=s.exec(i));){if(e&&!E(Be,this,wy).call(this,i,l.index,l[0].length))continue;const[h,f]=gy(o,l.index,l[0].length);f&&(n.push(h),a.push(f))}}function Bv(s,e){const{matchDiacritics:t}=c(ti,this);let i=!1;return(s=s.replaceAll(hy,(a,o,l,h,f,d)=>o?`[ ]*\\${o}[ ]*`:l?`[ ]*${l}[ ]*`:h?"[ ]+":t?f||d:f?Tv.has(f.charCodeAt(0))?f:"":e?(i=!0,`${d}\\p{M}*`):d)).endsWith("[ ]*")&&(s=s.slice(0,s.length-4)),t&&e&&(og||(og=String.fromCharCode(...Tv)),i=!0,s=`${s}(?=[${og}]|[^\\p{M}]|$)`),[i,s]}function Ay(s){var e;let t=Ee(Be,this,Iv);if(0===t.length)return;const{caseSensitive:i,entireWord:n}=c(ti,this),a=this._pageContents[s],o=this._hasDiacritics[s];let l=!1;"string"==typeof t?[l,t]=E(Be,this,Bv).call(this,t,o):t=t.sort().reverse().map(d=>{const[p,m]=E(Be,this,Bv).call(this,d,o);return l||(l=p),`(${m})`}).join("|"),t=t?new RegExp(t,`g${l?"u":""}${i?"":"i"}`):null,E(Be,this,by).call(this,t,n,s,a),c(ti,this).highlightAll&&E(Be,this,cg).call(this,s),this._resumePageIdx===s&&(this._resumePageIdx=null,E(Be,this,Rv).call(this));const f=this._pageMatches[s].length;this._matchesCountTotal+=f,c(Oc,this)?f>0&&E(Be,this,zv).call(this):x(Ja,this,(e=c(Ja,this),++e))===this._linkService.pagesCount&&E(Be,this,zv).call(this)}function yy(){if(this._extractTextPromises.length>0)return;let s=Promise.resolve();const e={disableNormalization:!0};for(let t=0,i=this._linkService.pagesCount;t<i;t++){const{promise:n,resolve:a}=Promise.withResolvers();this._extractTextPromises[t]=n,s=s.then(()=>this._pdfDocument.getPage(t+1).then(o=>o.getTextContent(e)).then(o=>{const l=[];for(const h of o.items)l.push(h.str),h.hasEOL&&l.push("\n");[this._pageContents[t],this._pageDiffs[t],this._hasDiacritics[t]]=hg(l.join("")),a()},o=>{console.error(`Unable to get text content for page ${t+1}`,o),this._pageContents[t]="",this._pageDiffs[t]=null,this._hasDiacritics[t]=!1,a()}))}}function cg(s){this._scrollMatches&&this._selected.pageIdx===s&&(this._linkService.page=s+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:s})}function Nc(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function su(){const s=c(ti,this).findPrevious,e=this._linkService.page-1,t=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=e,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,x(Ja,this,0),this._matchesCountTotal=0,E(Be,this,Nc).call(this);for(let a=0;a<t;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),E(Be,this,Ay).call(this,a)}))}if(0===Ee(Be,this,Iv).length)return void E(Be,this,zc).call(this,On.FOUND);if(this._resumePageIdx)return;const n=this._offset;if(this._pagesToSearch=t,null!==n.matchIdx){if(!s&&n.matchIdx+1<this._pageMatches[n.pageIdx].length||s&&n.matchIdx>0)return n.matchIdx=s?n.matchIdx-1:n.matchIdx+1,void E(Be,this,dg).call(this,!0);E(Be,this,Ov).call(this,s)}E(Be,this,Rv).call(this)}function Ey(s){const e=this._offset,t=s.length,i=c(ti,this).findPrevious;return t?(e.matchIdx=i?t-1:0,E(Be,this,dg).call(this,!0),!0):(E(Be,this,Ov).call(this,i),!!(e.wrapped&&(e.matchIdx=null,this._pagesToSearch<0))&&(E(Be,this,dg).call(this,!1),!0))}function Rv(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let s=null;do{const e=this._offset.pageIdx;if(s=this._pageMatches[e],!s){this._resumePageIdx=e;break}}while(!E(Be,this,Ey).call(this,s))}function Ov(s){const e=this._offset,t=this._linkService.pagesCount;e.pageIdx=s?e.pageIdx-1:e.pageIdx+1,e.matchIdx=null,this._pagesToSearch--,(e.pageIdx>=t||e.pageIdx<0)&&(e.pageIdx=s?t-1:0,e.wrapped=!0)}function dg(s=!1){let e=On.NOT_FOUND;const t=this._offset.wrapped;if(this._offset.wrapped=!1,s){const i=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,e=t?On.WRAPPED:On.FOUND,-1!==i&&i!==this._selected.pageIdx&&E(Be,this,cg).call(this,i)}E(Be,this,zc).call(this,e,c(ti,this).findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,E(Be,this,cg).call(this,this._selected.pageIdx))}function Cy(s){const e=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||e&&this._pdfDocument!==e||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),E(Be,this,zc).call(this,On.FOUND),this._highlightMatches=!1,E(Be,this,Nc).call(this))})}function Nv(){const{pageIdx:s,matchIdx:e}=this._selected;let t=0,i=this._matchesCountTotal;if(-1!==e){for(let a=0;a<s;a++){var n;t+=(null===(n=this._pageMatches[a])||void 0===n?void 0:n.length)||0}t+=e+1}return(t<1||t>i)&&(t=i=0),{current:t,total:i}}function zv(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:E(Be,this,Nv).call(this)})}function zc(s,e=!1){var t,i,n,a;!c(Oc,this)&&(c(Ja,this)!==this._linkService.pagesCount||s===On.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:s,previous:e,entireWord:null!==(t=null===(i=c(ti,this))||void 0===i?void 0:i.entireWord)&&void 0!==t?t:null,matchesCount:E(Be,this,Nv).call(this),rawQuery:null!==(n=null===(a=c(ti,this))||void 0===a?void 0:a.query)&&void 0!==n?n:null})}const Nr={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class Wc{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:n=!1}={}){(0,de.A)(this,"externalLinkEnabled",!0),this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=n,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return!!this.pdfDocument&&this.pdfViewer.isInPresentationMode}goToDestination(e){var t=this;return(0,re.A)(function*(){if(!t.pdfDocument)return;let i,n,a;if("string"==typeof e?(i=e,n=yield t.pdfDocument.getDestination(e)):(i=null,n=yield e),!Array.isArray(n))return void console.error(`goToDestination: "${n}" is not a valid destination array, for dest="${e}".`);const[o]=n;if(o&&"object"==typeof o){if(a=t.pdfDocument.cachedPageNumber(o),!a)try{a=(yield t.pdfDocument.getPageIndex(o))+1}catch{return void console.error(`goToDestination: "${o}" is not a valid page reference, for dest="${e}".`)}}else Number.isInteger(o)&&(a=o+1);!a||a<1||a>t.pagesCount?console.error(`goToDestination: "${a}" is not a valid page number, for dest="${e}".`):(t.pdfHistory&&(t.pdfHistory.pushCurrentPosition(),t.pdfHistory.push({namedDest:i,explicitDest:n,pageNumber:a})),t.pdfViewer.scrollPageIntoView({pageNumber:a,destArray:n,ignoreDestinationZoom:t._ignoreDestinationZoom}))})()}goToPage(e){if(!this.pdfDocument)return;const t="string"==typeof e&&this.pdfViewer.pageLabelToPageNumber(e)||0|e;Number.isInteger(t)&&t>0&&t<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})):console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`)}addLinkAttributes(e,t,i=!1){if(!t||"string"!=typeof t)throw new Error('A valid "url" parameter must provided.');const n=i?Nr.BLANK:this.externalLinkTarget,a=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let o="";switch(n){case Nr.NONE:break;case Nr.SELF:o="_self";break;case Nr.BLANK:o="_blank";break;case Nr.PARENT:o="_parent";break;case Nr.TOP:o="_top"}e.target=o,e.rel="string"==typeof a?a:"noopener noreferrer nofollow"}getDestinationHash(e){if("string"==typeof e){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const n=Fc(e);if(n.has("search")){const a=n.get("search").replaceAll('"',""),o="true"===n.get("phrase");this.eventBus.dispatch("findfromurlhash",{source:this,query:o?a:a.match(/\S+/g)})}if(n.has("page")&&(t=0|n.get("page")||1),n.has("zoom")){const a=n.get("zoom").split(","),o=a[0],l=parseFloat(o);o.includes("Fit")?"Fit"===o||"FitB"===o?i=[null,{name:o}]:"FitH"===o||"FitBH"===o||"FitV"===o||"FitBV"===o?i=[null,{name:o},a.length>1?0|a[1]:null]:"FitR"===o?5!==a.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:o},0|a[1],0|a[2],0|a[3],0|a[4]]:console.error(`PDFLinkService.setHash: "${o}" is not a valid zoom value.`):i=[null,{name:"XYZ"},a.length>1?0|a[1]:null,a.length>2?0|a[2]:null,l?l/100:o]}return i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),n.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:n.get("pagemode")}),void(n.has("nameddest")&&this.goToDestination(n.get("nameddest")))}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}"string"==typeof i||Sy.call(Wc,i)?this.goToDestination(i):console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,i;if(this.pdfDocument){switch(e){case"GoBack":null===(t=this.pdfHistory)||void 0===t||t.back();break;case"GoForward":null===(i=this.pdfHistory)||void 0===i||i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}}executeSetOCGState(e){var t=this;return(0,re.A)(function*(){if(!t.pdfDocument)return;const i=t.pdfDocument,n=yield t.pdfViewer.optionalContentConfigPromise;i===t.pdfDocument&&(n.setOCGState(e),t.pdfViewer.optionalContentConfigPromise=Promise.resolve(n))})()}}function Sy(s){if(!Array.isArray(s)||s.length<2)return!1;const[e,t,...i]=s;if(("object"!=typeof e||!Number.isInteger(null==e?void 0:e.num)||!Number.isInteger(null==e?void 0:e.gen))&&!Number.isInteger(e)||"object"!=typeof t||"string"!=typeof(null==t?void 0:t.name))return!1;const n=i.length;let a=!0;switch(t.name){case"XYZ":if(n<2||n>3)return!1;break;case"Fit":case"FitB":return 0===n;case"FitH":case"FitBH":case"FitV":case"FitBV":if(n>1)return!1;break;case"FitR":if(4!==n)return!1;a=!1;break;default:return!1}for(const o of i)if(!("number"==typeof o||a&&null===o))return!1;return!0}class fg extends Wc{setDocument(e,t=null){}}const{AbortException:Py,AnnotationEditorLayer:My,AnnotationEditorType:hs,AnnotationEditorUIManager:ky,AnnotationLayer:Ty,AnnotationMode:rn,createValidAbsoluteUrl:Dy,DrawLayer:Fy,fetchData:Wv,getPdfFilenameFromUrl:Ly,isPdfFile:Iy,normalizeUnicode:By,PermissionFlag:Hc,PixelsPerInch:an,RenderingCancelledException:pg,setLayerDimensions:Ry,shadow:Vc,TextLayer:Oy,version:Hv,XfaLayer:gg}=globalThis.pdfjsLib;var mg=new WeakMap,eo=new WeakMap,vg=new WeakSet;class Vv{constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:n=null,imageResourcesPath:a="",renderForms:o=!0,enableScripting:l=!1,hasJSActionsPromise:h=null,fieldObjectsPromise:f=null,annotationCanvasMap:d=null,accessibilityManager:p=null,annotationEditorUIManager:m=null,onAppend:_=null}){Ie(this,vg),k(this,mg,null),k(this,eo,null),this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=a,this.renderForms=o,this.annotationStorage=n,this.enableScripting=l,this._hasJSActionsPromise=h||Promise.resolve(!1),this._fieldObjectsPromise=f||Promise.resolve(null),this._annotationCanvasMap=d,this._accessibilityManager=p,this._annotationEditorUIManager=m,x(mg,this,_),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}render(e,t="display"){var i=this;return(0,re.A)(function*(){var n;if(i.div){if(i._cancelled||!i.annotationLayer)return;return void i.annotationLayer.update({viewport:e.clone({dontFlip:!0})})}const[a,o,l]=yield Promise.all([i.pdfPage.getAnnotations({intent:t}),i._hasJSActionsPromise,i._fieldObjectsPromise]);if(i._cancelled)return;const h=i.div=document.createElement("div");var f;h.className="annotationLayer",null===(n=c(mg,i))||void 0===n||n.call(i,h),0!==a.length?(i.annotationLayer=new Ty({div:h,accessibilityManager:i._accessibilityManager,annotationCanvasMap:i._annotationCanvasMap,annotationEditorUIManager:i._annotationEditorUIManager,page:i.pdfPage,viewport:e.clone({dontFlip:!0})}),yield i.annotationLayer.render({annotations:a,imageResourcesPath:i.imageResourcesPath,renderForms:i.renderForms,linkService:i.linkService,downloadManager:i.downloadManager,annotationStorage:i.annotationStorage,enableScripting:i.enableScripting,hasJSActions:o,fieldObjects:l}),i.linkService.isInPresentationMode&&E(vg,i,$v).call(i,3),c(eo,i)||(x(eo,i,new AbortController),null===(f=i._eventBus)||void 0===f||f._on("presentationmodechanged",d=>{E(vg,i,$v).call(i,d.state)},{signal:c(eo,i).signal}))):i.hide()})()}cancel(){var e;this._cancelled=!0,null===(e=c(eo,this))||void 0===e||e.abort(),x(eo,this,null)}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){var e;return!(null===(e=this.annotationLayer)||void 0===e||!e.hasEditableAnnotations())}}function $v(s){if(!this.div)return;let e=!1;switch(s){case 3:e=!0;break;case 1:break;default:return}for(const t of this.div.childNodes)t.hasAttribute("data-internal-link")||(t.inert=e)}function jv(s,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=s,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var Ny=new WeakMap;class zy{constructor(){k(this,Ny,new WeakMap)}downloadData(e,t,i){jv(URL.createObjectURL(new Blob([e],{type:i})),t)}openOrDownloadData(e,t,i=null){const a=Iy(t)?"application/pdf":"";return this.downloadData(e,t,a),!1}download(e,t,i,n){let a;if(e)a=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!Dy(t,"http://example.com"))return void console.error(`download - not a valid URL: ${t}`);a=t+"#pdfjs.action=download"}jv(a,i)}}const Gv={EVENT:"event",TIMEOUT:"timeout"};function _g(){return(_g=(0,re.A)(function*({target:s,name:e,delay:t=0}){if("object"!=typeof s||!e||"string"!=typeof e||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:n}=Promise.withResolvers(),a=new AbortController;function o(f){a.abort(),clearTimeout(h),n(f)}s[s instanceof wg?"_on":"addEventListener"](e,o.bind(null,Gv.EVENT),{signal:a.signal});const h=setTimeout(o.bind(null,Gv.TIMEOUT),t);return i})).apply(this,arguments)}var $c=new WeakMap;class wg{constructor(){k(this,$c,Object.create(null))}on(e,t,i=null){this._on(e,t,{external:!0,once:null==i?void 0:i.once,signal:null==i?void 0:i.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){const i=c($c,this)[e];if(!i||0===i.length)return;let n;for(const{listener:a,external:o,once:l}of i.slice(0))l&&this._off(e,a),o?(n||(n=[])).push(a):a(t);if(n){for(const a of n)a(t);n=null}}_on(e,t,i=null){var n;let a=null;if((null==i?void 0:i.signal)instanceof AbortSignal){const{signal:l}=i;if(l.aborted)return void console.error("Cannot use an `aborted` signal.");const h=()=>this._off(e,t);a=()=>l.removeEventListener("abort",h),l.addEventListener("abort",h)}((n=c($c,this))[e]||(n[e]=[])).push({listener:t,external:!0===(null==i?void 0:i.external),once:!0===(null==i?void 0:i.once),rmAbort:a})}_off(e,t,i=null){const n=c($c,this)[e];if(n)for(let o=0,l=n.length;o<l;o++){const h=n[o];var a;if(h.listener===t)return null===(a=h.rmAbort)||void 0===a||a.call(h),void n.splice(o,1)}}}class jc{constructor(e){this.value=e}valueOf(){return this.value}}class Bt extends jc{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class on extends jc{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}}class nu extends jc{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}}const qv=100,Hy="\u2068",Vy="\u2069";function $y(s,e,t){return t===e||t instanceof on&&e instanceof on&&t.value===e.value||e instanceof on&&"string"==typeof t&&t===s.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value)}function Yv(s,e,t){return e[t]?to(s,e[t].value):(s.reportError(new RangeError("No default")),new Bt)}function bg(s,e){const t=[],i=Object.create(null);for(const n of e)"narg"===n.type?i[n.name]=ru(s,n.value):t.push(ru(s,n));return{positional:t,named:i}}function ru(s,e){switch(e.type){case"str":return e.value;case"num":return new on(e.value,{minimumFractionDigits:e.precision});case"var":return function jy(s,{name:e}){let t;if(s.params){if(!Object.prototype.hasOwnProperty.call(s.params,e))return new Bt(`$${e}`);t=s.params[e]}else{if(!s.args||!Object.prototype.hasOwnProperty.call(s.args,e))return s.reportError(new ReferenceError(`Unknown variable: $${e}`)),new Bt(`$${e}`);t=s.args[e]}if(t instanceof jc)return t;switch(typeof t){case"string":return t;case"number":return new on(t);case"object":if(t instanceof Date)return new nu(t.getTime());default:return s.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new Bt(`$${e}`)}}(s,e);case"mesg":return function Gy(s,{name:e,attr:t}){const i=s.bundle._messages.get(e);if(!i)return s.reportError(new ReferenceError(`Unknown message: ${e}`)),new Bt(e);if(t){const n=i.attributes[t];return n?to(s,n):(s.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Bt(`${e}.${t}`))}return i.value?to(s,i.value):(s.reportError(new ReferenceError(`No value: ${e}`)),new Bt(e))}(s,e);case"term":return function Uy(s,{name:e,attr:t,args:i}){const n=`-${e}`,a=s.bundle._terms.get(n);if(!a)return s.reportError(new ReferenceError(`Unknown term: ${n}`)),new Bt(n);if(t){const l=a.attributes[t];if(l){s.params=bg(s,i).named;const h=to(s,l);return s.params=null,h}return s.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Bt(`${n}.${t}`)}s.params=bg(s,i).named;const o=to(s,a.value);return s.params=null,o}(s,e);case"func":return function Xy(s,{name:e,args:t}){let i=s.bundle._functions[e];if(!i)return s.reportError(new ReferenceError(`Unknown function: ${e}()`)),new Bt(`${e}()`);if("function"!=typeof i)return s.reportError(new TypeError(`Function ${e}() is not callable`)),new Bt(`${e}()`);try{let n=bg(s,t);return i(n.positional,n.named)}catch(n){return s.reportError(n),new Bt(`${e}()`)}}(s,e);case"select":return function Zy(s,{selector:e,variants:t,star:i}){let n=ru(s,e);if(n instanceof Bt)return Yv(s,t,i);for(const a of t)if($y(s,n,ru(s,a.key)))return to(s,a.value);return Yv(s,t,i)}(s,e);default:return new Bt}}function Kv(s,e){if(s.dirty.has(e))return s.reportError(new RangeError("Cyclic reference")),new Bt;s.dirty.add(e);const t=[],i=s.bundle._useIsolating&&e.length>1;for(const n of e)if("string"!=typeof n){if(s.placeables++,s.placeables>qv)throw s.dirty.delete(e),new RangeError(`Too many placeables expanded: ${s.placeables}, max allowed is ${qv}`);i&&t.push(Hy),t.push(ru(s,n).toString(s)),i&&t.push(Vy)}else t.push(s.bundle._transform(n));return s.dirty.delete(e),t.join("")}function to(s,e){return"string"==typeof e?s.bundle._transform(e):Kv(s,e)}class qy{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!(this.errors&&e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let n=JSON.stringify(t);return i[n]||(i[n]=new e(this.bundle.locales,t)),i[n]}}function Gc(s,e){const t=Object.create(null);for(const[i,n]of Object.entries(s))e.includes(i)&&(t[i]=n.valueOf());return t}const Qv=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function Yy(s,e){let t=s[0];if(t instanceof Bt)return new Bt(`NUMBER(${t.valueOf()})`);if(t instanceof on)return new on(t.valueOf(),{...t.opts,...Gc(e,Qv)});if(t instanceof nu)return new on(t.valueOf(),{...Gc(e,Qv)});throw new TypeError("Invalid argument to NUMBER")}const Jv=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Ky(s,e){let t=s[0];if(t instanceof Bt)return new Bt(`DATETIME(${t.valueOf()})`);if(t instanceof nu)return new nu(t.valueOf(),{...t.opts,...Gc(e,Jv)});if(t instanceof on)return new nu(t.valueOf(),{...Gc(e,Jv)});throw new TypeError("Invalid argument to DATETIME")}const e_=new Map;class Jy{constructor(e,{functions:t,useIsolating:i=!0,transform:n=(a=>a)}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:Yy,DATETIME:Ky,...t},this._useIsolating=i,this._transform=n,this._intls=function Qy(s){const e=Array.isArray(s)?s.join(" "):s;let t=e_.get(e);return void 0===t&&(t=new Map,e_.set(e,t)),t}(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const i=[];for(let n=0;n<e.body.length;n++){let a=e.body[n];if(a.id.startsWith("-")){if(!1===t&&this._terms.has(a.id)){i.push(new Error(`Attempt to override an existing term: "${a.id}"`));continue}this._terms.set(a.id,a)}else{if(!1===t&&this._messages.has(a.id)){i.push(new Error(`Attempt to override an existing message: "${a.id}"`));continue}this._messages.set(a.id,a)}}return i}formatPattern(e,t=null,i=null){if("string"==typeof e)return this._transform(e);let n=new qy(this,i,t);try{return Kv(n,e).toString(n)}catch(a){if(n.errors&&a instanceof Error)return n.errors.push(a),(new Bt).toString(n);throw a}}}const Ag=/^(-?[a-zA-Z][\w-]*) *= */gm,t_=/\.([a-zA-Z][\w-]*) *= */y,eE=/\*?\[/y,yg=/(-?[0-9]+(?:\.([0-9]+))?)/y,tE=/([a-zA-Z][\w-]*)/y,i_=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,iE=/^[A-Z][A-Z0-9_-]*$/,Uc=/([^{}\n\r]+)/y,sE=/([^\\"\n\r]*)/y,s_=/\\([\\"])/y,n_=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,nE=/^\n+/,r_=/ +$/,rE=/ *\r?\n/g,aE=/( *)$/,oE=/{\s*/y,a_=/\s*}/y,lE=/\[\s*/y,uE=/\s*] */y,hE=/\s*\(\s*/y,cE=/\s*->\s*/y,dE=/\s*:\s*/y,fE=/\s*,?\s*/y,pE=/\s+/y;class gE{constructor(e){this.body=[],Ag.lastIndex=0;let t=0;for(;;){let F=Ag.exec(e);if(null===F)break;t=Ag.lastIndex;try{this.body.push(h(F[1]))}catch(B){if(B instanceof SyntaxError)continue;throw B}}function i(F){return F.lastIndex=t,F.test(e)}function n(F,B){if(e[t]===F)return t++,!0;if(B)throw new B(`Expected ${F}`);return!1}function a(F,B){if(i(F))return t=F.lastIndex,!0;if(B)throw new B(`Expected ${F.toString()}`);return!1}function o(F){F.lastIndex=t;let B=F.exec(e);if(null===B)throw new SyntaxError(`Expected ${F.toString()}`);return t=F.lastIndex,B}function l(F){return o(F)[1]}function h(F){let B=d(),N=function f(){let F=Object.create(null);for(;i(t_);){let B=l(t_),N=d();if(null===N)throw new SyntaxError("Expected attribute value");F[B]=N}return F}();if(null===B&&0===Object.keys(N).length)throw new SyntaxError("Expected message value or attributes");return{id:F,value:B,attributes:N}}function d(){let F;if(i(Uc)&&(F=l(Uc)),"{"===e[t]||"}"===e[t])return p(F?[F]:[],1/0);let B=M();return B?F?p([F,B],B.length):(B.value=R(B.value,nE),p([B],B.length)):F?R(F,r_):null}function p(F=[],B){for(;;){if(i(Uc)){F.push(l(Uc));continue}if("{"===e[t]){F.push(m());continue}if("}"===e[t])throw new SyntaxError("Unbalanced closing brace");let j=M();if(!j)break;F.push(j),B=Math.min(B,j.length)}let N=F.length-1,V=F[N];"string"==typeof V&&(F[N]=R(V,r_));let H=[];for(let j of F)j instanceof o_&&(j=j.value.slice(0,j.value.length-B)),j&&H.push(j);return H}function m(){a(oE,SyntaxError);let F=_();if(a(a_))return F;if(a(cE)){let B=function C(){let N,F=[],B=0;for(;i(eE);){n("*")&&(N=B);let V=b(),H=d();if(null===H)throw new SyntaxError("Expected variant value");F[B++]={key:V,value:H}}if(0===B)return null;if(void 0===N)throw new SyntaxError("Expected default variant");return{variants:F,star:N}}();return a(a_,SyntaxError),{type:"select",selector:F,...B}}throw new SyntaxError("Unclosed placeable")}function _(){if("{"===e[t])return m();if(i(i_)){let[,F,B,N=null]=o(i_);if("$"===F)return{type:"var",name:B};if(a(hE)){let V=function w(){let F=[];for(;;){switch(e[t]){case")":return t++,F;case void 0:throw new SyntaxError("Unclosed argument list")}F.push(A()),a(fE)}}();if("-"===F)return{type:"term",name:B,attr:N,args:V};if(iE.test(B))return{type:"func",name:B,args:V};throw new SyntaxError("Function names must be all upper-case")}return"-"===F?{type:"term",name:B,attr:N,args:[]}:{type:"mesg",name:B,attr:N}}return P()}function A(){let F=_();return"mesg"!==F.type?F:a(dE)?{type:"narg",name:F.name,value:P()}:F}function b(){let F;return a(lE,SyntaxError),F=i(yg)?S():{type:"str",value:l(tE)},a(uE,SyntaxError),F}function P(){if(i(yg))return S();if('"'===e[t])return function T(){n('"',SyntaxError);let F="";for(;;){if(F+=l(sE),"\\"!==e[t]){if(n('"'))return{type:"str",value:F};throw new SyntaxError("Unclosed string literal")}F+=O()}}();throw new SyntaxError("Invalid expression")}function S(){let[,F,B=""]=o(yg),N=B.length;return{type:"num",value:parseFloat(F),precision:N}}function O(){if(i(s_))return l(s_);if(i(n_)){let[,F,B]=o(n_),N=parseInt(F||B,16);return N<=55295||57344<=N?String.fromCodePoint(N):"\ufffd"}throw new SyntaxError("Unknown escape sequence")}function M(){let F=t;switch(a(pE),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return I(e.slice(F,t))}return" "===e[t-1]&&I(e.slice(F,t))}function R(F,B){return F.replace(B,"")}function I(F){let B=F.replace(rE,"\n"),N=aE.exec(F)[1].length;return new o_(B,N)}}}class o_{constructor(e,t){this.value=e,this.length=t}}const mE=/<|&#?\w+;/,vE={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},_E={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function wE(s,e){const{value:t}=e;if("string"==typeof t)if("title"===s.localName&&"http://www.w3.org/1999/xhtml"===s.namespaceURI)s.textContent=t;else if(mE.test(t)){const i=s.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,function bE(s,e){for(const t of s.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const i=yE(e,t);s.replaceChild(i,t);continue}if(CE(t)){const i=EE(t);s.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),s.replaceChild(Eg(t),t)}e.textContent="",e.appendChild(s)}(i.content,s)}else s.textContent=t;l_(e,s)}function AE(s,e){if(!s)return!1;for(let t of s)if(t.name===e)return!0;return!1}function l_(s,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(e.attributes))u_(i.name,e,t)&&!AE(s.attributes,i.name)&&e.removeAttribute(i.name);if(s.attributes)for(const i of Array.from(s.attributes))u_(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function yE(s,e){const t=e.getAttribute("data-l10n-name"),i=s.querySelector(`[data-l10n-name="${t}"]`);return i?i.localName!==e.localName?(console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),Eg(e)):(s.removeChild(i),h_(e,i.cloneNode(!1))):(console.warn(`An element named "${t}" wasn't found in the source.`),Eg(e))}function EE(s){const e=s.ownerDocument.createElement(s.localName);return h_(s,e)}function Eg(s){return s.ownerDocument.createTextNode(s.textContent)}function CE(s){const e=vE[s.namespaceURI];return e&&e.includes(s.localName)}function u_(s,e,t=null){if(t&&t.includes(s))return!0;const i=_E[e.namespaceURI];if(!i)return!1;const n=s.toLowerCase(),a=e.localName;if(i.global.includes(n))return!0;if(!i[a])return!1;if(i[a].includes(n))return!0;if("http://www.w3.org/1999/xhtml"===e.namespaceURI&&"input"===a&&"value"===n){const o=e.type.toLowerCase();if("submit"===o||"button"===o||"reset"===o)return!0}return!1}function h_(s,e){return e.textContent=s.textContent,l_(s,e),e}class c_ extends Array{static from(e){return e instanceof this?e:new this(e)}}Symbol;class xE extends c_{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else{if(!(Symbol.iterator in Object(e)))throw new TypeError("Argument must implement the iteration protocol.");this.iterator=e[Symbol.iterator]()}}[Symbol.asyncIterator](){const e=this;let t=0;return{next:()=>(0,re.A)(function*(){return e.length<=t&&e.push(e.iterator.next()),e[t++]})()}}touchNext(e=1){var t=this;return(0,re.A)(function*(){let i=0;for(;i++<e;){const n=t[t.length-1];if(n&&(yield n).done)break;t.push(t.iterator.next())}return t[t.length-1]})()}}class SE{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}formatWithFallback(e,t){var i=this;return(0,re.A)(function*(){const n=[];let a=!1;var h,o=!1,l=!1;try{for(var d,f=function LA(s){var e,t,i,n=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,i=Symbol.iterator);n--;){if(t&&null!=(e=s[t]))return e.call(s);if(i&&null!=(e=s[i]))return new Dc(e.call(s));t="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}(i.bundles);o=!(d=yield f.next()).done;o=!1){const p=d.value;{a=!0;const m=kE(t,p,e,n);if(0===m.size)break;if(typeof console<"u"){const _=p.locales[0],w=Array.from(m).join(", ");console.warn(`[fluent] Missing translations in ${_}: ${w}`)}}}}catch(p){l=!0,h=p}finally{try{o&&null!=f.return&&(yield f.return())}finally{if(l)throw h}}return!a&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(e)}.\n  resourceIds: ${JSON.stringify(i.resourceIds)}.`),n})()}formatMessages(e){return this.formatWithFallback(e,ME)}formatValues(e){return this.formatWithFallback(e,PE)}formatValue(e,t){var i=this;return(0,re.A)(function*(){const[n]=yield i.formatValues([{id:e,args:t}]);return n})()}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=xE.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function PE(s,e,t,i){return t.value?s.formatPattern(t.value,i,e):null}function ME(s,e,t,i){const n={value:null,attributes:null};t.value&&(n.value=s.formatPattern(t.value,i,e));let a=Object.keys(t.attributes);if(a.length>0){n.attributes=new Array(a.length);for(let[o,l]of a.entries()){let h=s.formatPattern(t.attributes[l],i,e);n.attributes[o]={name:l,value:h}}}return n}function kE(s,e,t,i){const n=[],a=new Set;return t.forEach(({id:o,args:l},h)=>{if(void 0!==i[h])return;let f=e.getMessage(o);if(f){if(n.length=0,i[h]=s(e,n,f,l),n.length>0&&typeof console<"u"){const d=e.locales[0],p=n.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${o}: ${p}.`)}}else a.add(o)}),a}const zr="data-l10n-id",au="data-l10n-args",TE=`[${zr}]`;class DE extends SE{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[zr,au]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(zr,t),i?e.setAttribute(au,JSON.stringify(i)):e.removeAttribute(au),e}getAttributes(e){return{id:e.getAttribute(zr),args:JSON.parse(e.getAttribute(au)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error("Cannot connect a root:\n          DOMLocalization already has a root from a different window.")}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),0===this.roots.size?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const n of this.getTranslatables(i))this.pendingElements.add(n);else i.hasAttribute(zr)&&this.pendingElements.add(i)}this.pendingElements.size>0&&null===this.pendingrAF&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}translateElements(e){var t=this;return(0,re.A)(function*(){if(!e.length)return;const i=e.map(t.getKeysForElement),n=yield t.formatMessages(i);return t.applyTranslations(e,n)})()}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)void 0!==t[i]&&wE(e[i],t[i]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(TE));return"function"==typeof e.hasAttribute&&e.hasAttribute(zr)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(zr),args:JSON.parse(e.getAttribute(au)||null)}}}var Cg=new WeakMap,Xc=new WeakMap,Zc=new WeakMap,cs=new WeakMap;class qc{constructor({lang:e,isRTL:t},i=null){k(this,Cg,void 0),k(this,Xc,new Set),k(this,Zc,void 0),k(this,cs,void 0),x(Zc,this,FE.call(qc,e)),x(cs,this,i),x(Cg,this,(null!=t?t:LE.call(qc,c(Zc,this)))?"rtl":"ltr")}_setL10n(e){x(cs,this,e)}getLanguage(){return c(Zc,this)}getDirection(){return c(Cg,this)}get(e,t=null,i){var n=this;return(0,re.A)(function*(){if(Array.isArray(e))return e=e.map(l=>({id:l})),(yield c(cs,n).formatMessages(e)).map(l=>l.value);const a=yield c(cs,n).formatMessages([{id:e,args:t}]);return(null==a?void 0:a[0].value)||i})()}translate(e){var t=this;return(0,re.A)(function*(){c(Xc,t).add(e);try{c(cs,t).connectRoot(e),yield c(cs,t).translateRoots()}catch{}})()}destroy(){var e=this;return(0,re.A)(function*(){for(const t of c(Xc,e))c(cs,e).disconnectRoot(t);c(Xc,e).clear(),c(cs,e).pauseObserving()})()}pause(){c(cs,this).pauseObserving()}resume(){c(cs,this).resumeObserving()}}function FE(s){var e;return{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[s=(null===(e=s)||void 0===e?void 0:e.toLowerCase())||"en-us"]||s}function LE(s){const e=s.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(e)}function d_(s,e){const t=new gE(e),i=new Jy(s),n=i.addResource(t);return n.length&&console.error("L10n errors",n),i}class Nn extends qc{constructor(e){super({lang:e});const t=e?IE.bind(Nn,"en-us",this.getLanguage()):OE.bind(Nn,this.getLanguage());this._setL10n(new DE([],t))}}function IE(s,e){var t=this;return wv(function*(){const{baseURL:i,paths:n}=yield _v(E(Ql,t,RE).call(t)),a=[e];if(s!==e){const o=e.split("-",1)[0];o!==e&&a.push(o),a.push(s)}for(const o of a){const l=yield _v(E(Ql,t,BE).call(t,o,i,n));l?yield l:"en-us"===o&&(yield E(Ql,t,f_).call(t,o))}})()}function BE(s,e,t){return xg.apply(this,arguments)}function xg(){return(xg=(0,re.A)(function*(s,e,t){const i=t[s];if(!i)return null;const n=new URL(i,e);return d_(s,yield Wv(n,"text"))})).apply(this,arguments)}function RE(){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,re.A)(function*(){try{const{href:s}=document.querySelector('link[type="application/l10n"]'),e=yield Wv(s,"json");return{baseURL:s.replace(/[^/]*$/,"")||"./",paths:e}}catch{}return{baseURL:"./",paths:Object.create(null)}})).apply(this,arguments)}function OE(s){var e=this;return wv(function*(){yield E(Ql,e,f_).call(e,s)})()}function f_(s){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,re.A)(function*(s){return d_(s,"pdfjs-previous-button =\n    .title = Previous Page\npdfjs-previous-button-label = Previous\npdfjs-next-button =\n    .title = Next Page\npdfjs-next-button-label = Next\npdfjs-page-input =\n    .title = Page\npdfjs-of-pages = of { $pagesCount }\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\npdfjs-zoom-out-button =\n    .title = Zoom Out\npdfjs-zoom-out-button-label = Zoom Out\npdfjs-zoom-in-button =\n    .title = Zoom In\npdfjs-zoom-in-button-label = Zoom In\npdfjs-zoom-select =\n    .title = Zoom\npdfjs-presentation-mode-button =\n    .title = Switch to Presentation Mode\npdfjs-presentation-mode-button-label = Presentation Mode\npdfjs-open-file-button =\n    .title = Open File\npdfjs-open-file-button-label = Open\npdfjs-print-button =\n    .title = Print\npdfjs-print-button-label = Print\npdfjs-save-button =\n    .title = Save\npdfjs-save-button-label = Save\npdfjs-download-button =\n    .title = Download\npdfjs-download-button-label = Download\npdfjs-bookmark-button =\n    .title = Current Page (View URL from Current Page)\npdfjs-bookmark-button-label = Current Page\npdfjs-tools-button =\n    .title = Tools\npdfjs-tools-button-label = Tools\npdfjs-first-page-button =\n    .title = Go to First Page\npdfjs-first-page-button-label = Go to First Page\npdfjs-last-page-button =\n    .title = Go to Last Page\npdfjs-last-page-button-label = Go to Last Page\npdfjs-page-rotate-cw-button =\n    .title = Rotate Clockwise\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\npdfjs-page-rotate-ccw-button =\n    .title = Rotate Counterclockwise\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\npdfjs-cursor-text-select-tool-button =\n    .title = Enable Text Selection Tool\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\npdfjs-cursor-hand-tool-button =\n    .title = Enable Hand Tool\npdfjs-cursor-hand-tool-button-label = Hand Tool\npdfjs-scroll-page-button =\n    .title = Use Page Scrolling\npdfjs-scroll-page-button-label = Page Scrolling\npdfjs-scroll-vertical-button =\n    .title = Use Vertical Scrolling\npdfjs-scroll-vertical-button-label = Vertical Scrolling\npdfjs-scroll-horizontal-button =\n    .title = Use Horizontal Scrolling\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\npdfjs-scroll-wrapped-button =\n    .title = Use Wrapped Scrolling\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\npdfjs-spread-none-button =\n    .title = Do not join page spreads\npdfjs-spread-none-button-label = No Spreads\npdfjs-spread-odd-button =\n    .title = Join page spreads starting with odd-numbered pages\npdfjs-spread-odd-button-label = Odd Spreads\npdfjs-spread-even-button =\n    .title = Join page spreads starting with even-numbered pages\npdfjs-spread-even-button-label = Even Spreads\npdfjs-document-properties-button =\n    .title = Document Properties\u2026\npdfjs-document-properties-button-label = Document Properties\u2026\npdfjs-document-properties-file-name = File name:\npdfjs-document-properties-file-size = File size:\npdfjs-document-properties-kb = { $size_kb } KB ({ $size_b } bytes)\npdfjs-document-properties-mb = { $size_mb } MB ({ $size_b } bytes)\npdfjs-document-properties-title = Title:\npdfjs-document-properties-author = Author:\npdfjs-document-properties-subject = Subject:\npdfjs-document-properties-keywords = Keywords:\npdfjs-document-properties-creation-date = Creation Date:\npdfjs-document-properties-modification-date = Modification Date:\npdfjs-document-properties-date-string = { $date }, { $time }\npdfjs-document-properties-creator = Creator:\npdfjs-document-properties-producer = PDF Producer:\npdfjs-document-properties-version = PDF Version:\npdfjs-document-properties-page-count = Page Count:\npdfjs-document-properties-page-size = Page Size:\npdfjs-document-properties-page-size-unit-inches = in\npdfjs-document-properties-page-size-unit-millimeters = mm\npdfjs-document-properties-page-size-orientation-portrait = portrait\npdfjs-document-properties-page-size-orientation-landscape = landscape\npdfjs-document-properties-page-size-name-a-three = A3\npdfjs-document-properties-page-size-name-a-four = A4\npdfjs-document-properties-page-size-name-letter = Letter\npdfjs-document-properties-page-size-name-legal = Legal\npdfjs-document-properties-page-size-dimension-string = { $width } \xd7 { $height } { $unit } ({ $orientation })\npdfjs-document-properties-page-size-dimension-name-string = { $width } \xd7 { $height } { $unit } ({ $name }, { $orientation })\npdfjs-document-properties-linearized = Fast Web View:\npdfjs-document-properties-linearized-yes = Yes\npdfjs-document-properties-linearized-no = No\npdfjs-document-properties-close-button = Close\npdfjs-print-progress-message = Preparing document for printing\u2026\npdfjs-print-progress-percent = { $progress }%\npdfjs-print-progress-close-button = Cancel\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\npdfjs-toggle-sidebar-button =\n    .title = Toggle Sidebar\npdfjs-toggle-sidebar-notification-button =\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\npdfjs-document-outline-button =\n    .title = Show Document Outline (double-click to expand/collapse all items)\npdfjs-document-outline-button-label = Document Outline\npdfjs-attachments-button =\n    .title = Show Attachments\npdfjs-attachments-button-label = Attachments\npdfjs-layers-button =\n    .title = Show Layers (double-click to reset all layers to the default state)\npdfjs-layers-button-label = Layers\npdfjs-thumbs-button =\n    .title = Show Thumbnails\npdfjs-thumbs-button-label = Thumbnails\npdfjs-current-outline-item-button =\n    .title = Find Current Outline Item\npdfjs-current-outline-item-button-label = Current Outline Item\npdfjs-findbar-button =\n    .title = Find in Document\npdfjs-findbar-button-label = Find\npdfjs-additional-layers = Additional Layers\npdfjs-thumb-page-title =\n    .title = Page { $page }\npdfjs-thumb-page-canvas =\n    .aria-label = Thumbnail of Page { $page }\npdfjs-find-input =\n    .title = Find\n    .placeholder = Find in document\u2026\npdfjs-find-previous-button =\n    .title = Find the previous occurrence of the phrase\npdfjs-find-previous-button-label = Previous\npdfjs-find-next-button =\n    .title = Find the next occurrence of the phrase\npdfjs-find-next-button-label = Next\npdfjs-find-highlight-checkbox = Highlight All\npdfjs-find-match-case-checkbox-label = Match Case\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\npdfjs-find-entire-word-checkbox-label = Whole Words\npdfjs-find-reached-top = Reached top of document, continued from bottom\npdfjs-find-reached-bottom = Reached end of document, continued from top\npdfjs-find-match-count =\n    { $total ->\n        [one] { $current } of { $total } match\n       *[other] { $current } of { $total } matches\n    }\npdfjs-find-match-count-limit =\n    { $limit ->\n        [one] More than { $limit } match\n       *[other] More than { $limit } matches\n    }\npdfjs-find-not-found = Phrase not found\npdfjs-page-scale-width = Page Width\npdfjs-page-scale-fit = Page Fit\npdfjs-page-scale-auto = Automatic Zoom\npdfjs-page-scale-actual = Actual Size\npdfjs-page-scale-percent = { $scale }%\npdfjs-page-landmark =\n    .aria-label = Page { $page }\npdfjs-loading-error = An error occurred while loading the PDF.\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\npdfjs-missing-file-error = Missing PDF file.\npdfjs-unexpected-response-error = Unexpected server response.\npdfjs-rendering-error = An error occurred while rendering the page.\npdfjs-annotation-date-string = { $date }, { $time }\npdfjs-text-annotation-type =\n    .alt = [{ $type } Annotation]\npdfjs-password-label = Enter the password to open this PDF file.\npdfjs-password-invalid = Invalid password. Please try again.\npdfjs-password-ok-button = OK\npdfjs-password-cancel-button = Cancel\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\npdfjs-editor-free-text-button =\n    .title = Text\npdfjs-editor-free-text-button-label = Text\npdfjs-editor-ink-button =\n    .title = Draw\npdfjs-editor-ink-button-label = Draw\npdfjs-editor-stamp-button =\n    .title = Add or edit images\npdfjs-editor-stamp-button-label = Add or edit images\npdfjs-editor-highlight-button =\n    .title = Highlight\npdfjs-editor-highlight-button-label = Highlight\npdfjs-highlight-floating-button1 =\n    .title = Highlight\n    .aria-label = Highlight\npdfjs-highlight-floating-button-label = Highlight\npdfjs-editor-remove-ink-button =\n    .title = Remove drawing\npdfjs-editor-remove-freetext-button =\n    .title = Remove text\npdfjs-editor-remove-stamp-button =\n    .title = Remove image\npdfjs-editor-remove-highlight-button =\n    .title = Remove highlight\npdfjs-editor-free-text-color-input = Color\npdfjs-editor-free-text-size-input = Size\npdfjs-editor-ink-color-input = Color\npdfjs-editor-ink-thickness-input = Thickness\npdfjs-editor-ink-opacity-input = Opacity\npdfjs-editor-stamp-add-image-button =\n    .title = Add image\npdfjs-editor-stamp-add-image-button-label = Add image\npdfjs-editor-free-highlight-thickness-input = Thickness\npdfjs-editor-free-highlight-thickness-title =\n    .title = Change thickness when highlighting items other than text\npdfjs-free-text =\n    .aria-label = Text Editor\npdfjs-free-text-default-content = Start typing\u2026\npdfjs-ink =\n    .aria-label = Draw Editor\npdfjs-ink-canvas =\n    .aria-label = User-created image\npdfjs-editor-alt-text-button-label = Alt text\npdfjs-editor-alt-text-edit-button-label = Edit alt text\npdfjs-editor-alt-text-dialog-label = Choose an option\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.\npdfjs-editor-alt-text-add-description-label = Add a description\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\npdfjs-editor-alt-text-cancel-button = Cancel\npdfjs-editor-alt-text-save-button = Save\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\npdfjs-editor-alt-text-textarea =\n    .placeholder = For example, \u201cA young man sits down at a table to eat a meal\u201d\npdfjs-editor-resizer-label-top-left = Top left corner \u2014 resize\npdfjs-editor-resizer-label-top-middle = Top middle \u2014 resize\npdfjs-editor-resizer-label-top-right = Top right corner \u2014 resize\npdfjs-editor-resizer-label-middle-right = Middle right \u2014 resize\npdfjs-editor-resizer-label-bottom-right = Bottom right corner \u2014 resize\npdfjs-editor-resizer-label-bottom-middle = Bottom middle \u2014 resize\npdfjs-editor-resizer-label-bottom-left = Bottom left corner \u2014 resize\npdfjs-editor-resizer-label-middle-left = Middle left \u2014 resize\npdfjs-editor-highlight-colorpicker-label = Highlight color\npdfjs-editor-colorpicker-button =\n    .title = Change color\npdfjs-editor-colorpicker-dropdown =\n    .aria-label = Color choices\npdfjs-editor-colorpicker-yellow =\n    .title = Yellow\npdfjs-editor-colorpicker-green =\n    .title = Green\npdfjs-editor-colorpicker-blue =\n    .title = Blue\npdfjs-editor-colorpicker-pink =\n    .title = Pink\npdfjs-editor-colorpicker-red =\n    .title = Red\npdfjs-editor-highlight-show-all-button-label = Show all\npdfjs-editor-highlight-show-all-button =\n    .title = Show all")})).apply(this,arguments)}Ql=Nn;const NE=1e3,Mg=50,p_=1e3;function kg(){return document.location.hash}var io=new WeakMap,tt=new WeakSet;class zE{constructor({linkService:e,eventBus:t}){Ie(this,tt),k(this,io,null),this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||"string"!=typeof e)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const n=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===i,this._initialized=!0,E(tt,this,VE).call(this);const a=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=kg(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!E(tt,this,Yc).call(this,a,!0)||t){const{hash:l,page:h,rotation:f}=E(tt,this,g_).call(this,!0);return!l||n||t?void E(tt,this,zn).call(this,null,!0):void E(tt,this,zn).call(this,{hash:l,page:h,rotation:f},!0)}const o=a.destination;E(tt,this,Fg).call(this,o,a.uid,!0),void 0!==o.rotation&&(this._initialRotation=o.rotation),o.dest?(this._initialBookmark=JSON.stringify(o.dest),this._destination.page=null):o.hash?this._initialBookmark=o.hash:o.page&&(this._initialBookmark=`page=${o.page}`)}reset(){this._initialized&&(E(tt,this,m_).call(this),this._initialized=!1,E(tt,this,$E).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&"string"!=typeof e)return void console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);if(!Array.isArray(t))return void console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);if(!E(tt,this,Dg).call(this,i)&&(null!==i||this._destination))return void console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);const n=e||JSON.stringify(t);if(!n)return;let a=!1;if(this._destination&&(function jE(s,e){return"string"==typeof s&&"string"==typeof e&&(s===e||Fc(s).get("nameddest")===e)}(this._destination.hash,n)||function GE(s,e){function t(i,n){if(typeof i!=typeof n||Array.isArray(i)||Array.isArray(n))return!1;if(null!==i&&"object"==typeof i&&null!==n){if(Object.keys(i).length!==Object.keys(n).length)return!1;for(const a in i)if(!t(i[a],n[a]))return!1;return!0}return i===n||Number.isNaN(i)&&Number.isNaN(n)}if(!Array.isArray(s)||!Array.isArray(e)||s.length!==e.length)return!1;for(let i=0,n=s.length;i<n;i++)if(!t(s[i],e[i]))return!1;return!0}(this._destination.dest,t))){if(this._destination.page)return;a=!0}this._popStateInProgress&&!a||(E(tt,this,zn).call(this,{dest:t,hash:n,page:i,rotation:this.linkService.rotation},a),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!E(tt,this,Dg).call(this,e))return void console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);(null===(t=this._destination)||void 0===t?void 0:t.page)!==e&&(this._popStateInProgress||(E(tt,this,zn).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||E(tt,this,Tg).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;E(tt,this,Yc).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;E(tt,this,Yc).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}function zn(s,e=!1){const t=e||!this._destination,i={fingerprint:this._fingerprint,uid:t?this._uid:this._uid+1,destination:s};let n;if(E(tt,this,Fg).call(this,s,i.uid),this._updateUrl&&null!=s&&s.hash){const a=document.location.href.split("#",1)[0];a.startsWith("file://")||(n=`${a}#${s.hash}`)}t?window.history.replaceState(i,"",n):window.history.pushState(i,"",n)}function Tg(s=!1){if(!this._position)return;let e=this._position;if(s&&(e=Object.assign(Object.create(null),this._position),e.temporary=!0),!this._destination)return void E(tt,this,zn).call(this,e);if(this._destination.temporary)return void E(tt,this,zn).call(this,e,!0);if(this._destination.hash===e.hash||!this._destination.page&&(Mg<=0||this._numPositionUpdates<=Mg))return;let t=!1;if(this._destination.page>=e.first&&this._destination.page<=e.page){if(void 0!==this._destination.dest||!this._destination.first)return;t=!0}E(tt,this,zn).call(this,e,t)}function Dg(s){return Number.isInteger(s)&&s>0&&s<=this.linkService.pagesCount}function Yc(s,e=!1){if(!s)return!1;if(s.fingerprint!==this._fingerprint){if(!e)return!1;{if("string"!=typeof s.fingerprint||s.fingerprint.length!==this._fingerprint.length)return!1;const[t]=performance.getEntriesByType("navigation");if("reload"!==(null==t?void 0:t.type))return!1}}return!(!Number.isInteger(s.uid)||s.uid<0||null===s.destination||"object"!=typeof s.destination)}function Fg(s,e,t=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),t&&null!=s&&s.temporary&&delete s.temporary,this._destination=s,this._uid=e,this._maxUid=Math.max(this._maxUid,e),this._numPositionUpdates=0}function g_(s=!1){const e=unescape(kg()).substring(1),t=Fc(e),i=t.get("nameddest")||"";let n=0|t.get("page");return(!E(tt,this,Dg).call(this,n)||s&&i.length>0)&&(n=null),{hash:e,page:n,rotation:this.linkService.rotation}}function WE({location:s}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:s.pdfOpenParams.substring(1),page:this.linkService.page,first:s.pageNumber,rotation:s.rotation},!this._popStateInProgress&&(Mg>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,p_>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||E(tt,this,Tg).call(this,!0),this._updateViewareaTimeout=null},p_)))}function HE({state:s}){const e=kg(),t=this._currentHash!==e;if(this._currentHash=e,!s){this._uid++;const{hash:n,page:a,rotation:o}=E(tt,this,g_).call(this);return void E(tt,this,zn).call(this,{hash:n,page:a,rotation:o},!0)}if(!E(tt,this,Yc).call(this,s))return;this._popStateInProgress=!0,t&&(this._blockHashChange++,function Wy(s){return _g.apply(this,arguments)}({target:window,name:"hashchange",delay:NE}).then(()=>{this._blockHashChange--}));const i=s.destination;E(tt,this,Fg).call(this,i,s.uid,!0),Pv(i.rotation)&&(this.linkService.rotation=i.rotation),i.dest?this.linkService.goToDestination(i.dest):i.hash?this.linkService.setHash(i.hash):i.page&&(this.linkService.page=i.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}function m_(){(!this._destination||this._destination.temporary)&&E(tt,this,Tg).call(this)}function VE(){if(c(io,this))return;x(io,this,new AbortController);const{signal:s}=c(io,this);this.eventBus._on("updateviewarea",E(tt,this,WE).bind(this),{signal:s}),window.addEventListener("popstate",E(tt,this,HE).bind(this),{signal:s}),window.addEventListener("pagehide",E(tt,this,m_).bind(this),{signal:s})}function $E(){var s;null===(s=c(io,this))||void 0===s||s.abort(),x(io,this,null)}var Lg=new WeakMap,Ig=new WeakMap,Bg=new WeakMap,Rg=new WeakMap,Kc=new WeakMap;class UE{constructor(e){k(this,Lg,null),k(this,Ig,null),k(this,Bg,null),k(this,Rg,null),k(this,Kc,void 0),this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new Nn),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,x(Kc,this,e.uiManager),x(Lg,this,e.annotationLayer||null),x(Rg,this,e.textLayer||null),x(Ig,this,e.drawLayer||null),x(Bg,this,e.onAppend||null)}render(e,t="display"){var i=this;return(0,re.A)(function*(){var n;if("display"!==t||i._cancelled)return;const a=e.clone({dontFlip:!0});if(i.div)return i.annotationEditorLayer.update({viewport:a}),void i.show();const o=i.div=document.createElement("div");o.className="annotationEditorLayer",o.hidden=!0,o.dir=c(Kc,i).direction,null===(n=c(Bg,i))||void 0===n||n.call(i,o),i.annotationEditorLayer=new My({uiManager:c(Kc,i),div:o,accessibilityManager:i.accessibilityManager,pageIndex:i.pdfPage.pageNumber-1,l10n:i.l10n,viewport:a,annotationLayer:c(Lg,i),textLayer:c(Rg,i),drawLayer:c(Ig,i)}),i.annotationEditorLayer.render({viewport:a,div:o,annotations:null,intent:t}),i.show()})()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}}{var Qc=new Map;const s=navigator.userAgent||"",e=navigator.platform||"",t=navigator.maxTouchPoints||1,i=/Android/.test(s);(/\b(iPad|iPhone|iPod)(?=;)/.test(s)||"MacIntel"===e&&t>1||i)&&Qc.set("maxCanvasPixels",5242880),i&&Qc.set("useSystemFonts",!1)}const Og={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},Wn={allowedGlobalEvents:{value:null,kind:1},canvasMaxAreaInBytes:{value:-1,kind:5},isInAutomation:{value:!1,kind:1},localeProperties:{value:{lang:navigator.language||"en-US"},kind:1},nimbusDataStr:{value:"",kind:1},supportsCaretBrowsingMode:{value:!1,kind:1},supportsDocumentFonts:{value:!0,kind:1},supportsIntegratedFind:{value:!1,kind:1},supportsMouseWheelZoomCtrlKey:{value:!0,kind:1},supportsMouseWheelZoomMetaKey:{value:!0,kind:1},supportsPinchToZoom:{value:!0,kind:1},toolbarDensity:{value:0,kind:17},altTextLearnMoreUrl:{value:"",kind:130},annotationEditorMode:{value:0,kind:130},annotationMode:{value:2,kind:130},cursorToolOnLoad:{value:0,kind:130},debuggerSrc:{value:"./debugger.mjs",kind:2},defaultZoomDelay:{value:400,kind:130},defaultZoomValue:{value:"",kind:130},disableHistory:{value:!1,kind:2},disablePageLabels:{value:!1,kind:130},enableAltText:{value:!1,kind:130},enableGuessAltText:{value:!0,kind:130},enableHighlightEditor:{value:!1,kind:130},enableHighlightFloatingButton:{value:!1,kind:130},enablePermissions:{value:!1,kind:130},enablePrintAutoRotate:{value:!0,kind:130},enableScripting:{value:!0,kind:130},enableUpdatedAddImage:{value:!1,kind:130},externalLinkRel:{value:"noopener noreferrer nofollow",kind:2},externalLinkTarget:{value:0,kind:130},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:130},historyUpdateUrl:{value:!1,kind:130},ignoreDestinationZoom:{value:!1,kind:130},imageResourcesPath:{value:"./images/",kind:2},maxCanvasPixels:{value:2**25,kind:2},forcePageColors:{value:!1,kind:130},pageColorsBackground:{value:"Canvas",kind:130},pageColorsForeground:{value:"CanvasText",kind:130},pdfBugEnabled:{value:!1,kind:130},printResolution:{value:150,kind:2},sidebarViewOnLoad:{value:-1,kind:130},scrollModeOnLoad:{value:-1,kind:130},spreadModeOnLoad:{value:-1,kind:130},textLayerMode:{value:1,kind:130},viewOnLoad:{value:0,kind:130},cMapPacked:{value:!0,kind:4},cMapUrl:{value:"../web/cmaps/",kind:4},disableAutoFetch:{value:!1,kind:132},disableFontFace:{value:!1,kind:132},disableRange:{value:!1,kind:132},disableStream:{value:!1,kind:132},docBaseUrl:{value:"",kind:4},enableHWA:{value:!0,kind:134},enableXfa:{value:!0,kind:132},fontExtraProperties:{value:!1,kind:4},isEvalSupported:{value:!0,kind:4},isOffscreenCanvasSupported:{value:!0,kind:4},maxImageSize:{value:-1,kind:4},pdfBug:{value:!1,kind:4},standardFontDataUrl:{value:"../web/standard_fonts/",kind:4},useSystemFonts:{value:void 0,kind:4,type:Og.BOOLEAN+Og.UNDEFINED},verbosity:{value:1,kind:4},workerPort:{value:null,kind:8},workerSrc:{value:"../build/pdf.worker.mjs",kind:8},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:2},sandboxBundleSrc:{value:"../build/pdf.sandbox.mjs",kind:2},viewerCssTheme:{value:0,kind:130},disablePreferences:{value:!1,kind:2}},Wr=new Map;for(const[s,e]of Qc)Wr.set(s,e);let Ng=(()=>{class s{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(t){var i;return Wr.has(t)?Wr.get(t):null===(i=Wn[t])||void 0===i?void 0:i.value}static getAll(t=null,i=!1){const n=Object.create(null);for(const a in Wn){const o=Wn[a];t&&!(t&o.kind)||(n[a]=!i&&Wr.has(a)?Wr.get(a):o.value)}return n}static set(t,i){this.setAll({[t]:i})}static setAll(t,i=!1){let n;for(const a in t){const o=Wn[a],l=t[a];if(!o||!(typeof l==typeof o.value||Og[(typeof l).toUpperCase()]&o.type))continue;const{kind:h}=o;i&&!(1&h||128&h)||(this.eventBus&&16&h&&(n||(n=new Map)).set(a,l),Wr.set(a,l))}if(n)for(const[a,o]of n)this.eventBus.dispatch(a.toLowerCase(),{source:this,value:o})}}return(0,de.A)(s,"eventBus",void 0),s})();Ng._checkDisablePreferences=()=>{if(Ng.get("disablePreferences"))return!0;for(const[s]of Wr)if(!Qc.has(s)){console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.');break}return!1};var Hn=new WeakMap;class XE{constructor(e){k(this,Hn,null),this.pageIndex=e.pageIndex}render(e="display"){var t=this;return(0,re.A)(function*(){"display"!==e||c(Hn,t)||t._cancelled||x(Hn,t,new Fy({pageIndex:t.pageIndex}))})()}cancel(){this._cancelled=!0,c(Hn,this)&&(c(Hn,this).destroy(),x(Hn,this,null))}setParent(e){var t;null===(t=c(Hn,this))||void 0===t||t.setParent(e)}getDrawLayer(){return c(Hn,this)}}const v_={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},ZE=/^H(\d+)$/;var Ps=new WeakMap,ou=new WeakSet;class __{constructor(){Ie(this,ou),k(this,Ps,void 0)}get renderingDone(){return void 0!==c(Ps,this)}render(e){if(void 0!==c(Ps,this))return c(Ps,this);const t=E(ou,this,b_).call(this,e);return null==t||t.classList.add("structTree"),x(Ps,this,t)}hide(){c(Ps,this)&&!c(Ps,this).hidden&&(c(Ps,this).hidden=!0)}show(){var e;null!==(e=c(Ps,this))&&void 0!==e&&e.hidden&&(c(Ps,this).hidden=!1)}}function w_(s,e){const{alt:t,id:i,lang:n}=s;void 0!==t&&e.setAttribute("aria-label",Lc(t)),void 0!==i&&e.setAttribute("aria-owns",i),void 0!==n&&e.setAttribute("lang",Lc(n,!0))}function b_(s){if(!s)return null;const e=document.createElement("span");if("role"in s){const{role:t}=s,i=t.match(ZE);i?(e.setAttribute("role","heading"),e.setAttribute("aria-level",i[1])):v_[t]&&e.setAttribute("role",v_[t])}if(E(ou,this,w_).call(this,s,e),s.children)if(1===s.children.length&&"id"in s.children[0])E(ou,this,w_).call(this,s.children[0],e);else for(const t of s.children)e.append(E(ou,this,b_).call(this,t));return e}var Hr=new WeakMap,Ms=new WeakMap,Vr=new WeakMap,so=new WeakMap,zg=new WeakSet;class Jc{constructor(){Ie(this,zg),k(this,Hr,!1),k(this,Ms,null),k(this,Vr,new Map),k(this,so,new Map)}setTextMapping(e){x(Ms,this,e)}enable(){if(c(Hr,this))throw new Error("TextAccessibilityManager is already enabled.");if(!c(Ms,this))throw new Error("Text divs and strings have not been set.");if(x(Hr,this,!0),x(Ms,this,c(Ms,this).slice()),c(Ms,this).sort(Wg),c(Vr,this).size>0){const e=c(Ms,this);for(const[t,i]of c(Vr,this))document.getElementById(t)?E(zg,this,A_).call(this,t,e[i]):c(Vr,this).delete(t)}for(const[e,t]of c(so,this))this.addPointerInTextLayer(e,t);c(so,this).clear()}disable(){c(Hr,this)&&(c(so,this).clear(),x(Ms,this,null),x(Hr,this,!1))}removePointerInTextLayer(e){var t;if(!c(Hr,this))return void c(so,this).delete(e);const i=c(Ms,this);if(!i||0===i.length)return;const{id:n}=e,a=c(Vr,this).get(n);if(void 0===a)return;const o=i[a];c(Vr,this).delete(n);let l=o.getAttribute("aria-owns");null!==(t=l)&&void 0!==t&&t.includes(n)&&(l=l.split(" ").filter(h=>h!==n).join(" "),l?o.setAttribute("aria-owns",l):(o.removeAttribute("aria-owns"),o.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return null;if(!c(Hr,this))return c(so,this).set(e,t),null;t&&this.removePointerInTextLayer(e);const n=c(Ms,this);if(!n||0===n.length)return null;const a=eu(n,f=>Wg.call(Jc,e,f)<0),o=Math.max(0,a-1),l=n[o];E(zg,this,A_).call(this,i,l),c(Vr,this).set(i,o);const h=l.parentNode;return null!=h&&h.classList.contains("markedContent")?h.id:null}moveElementInDOM(e,t,i,n){const a=this.addPointerInTextLayer(i,n);if(!e.hasChildNodes())return e.append(t),a;const o=Array.from(e.childNodes).filter(f=>f!==t);if(0===o.length)return a;const l=i||t,h=eu(o,f=>Wg.call(Jc,l,f)<0);return 0===h?o[0].before(t):o[h-1].after(t),a}}function Wg(s,e){const t=s.getBoundingClientRect(),i=e.getBoundingClientRect();if(0===t.width&&0===t.height)return 1;if(0===i.width&&0===i.height)return-1;const o=t.y+t.height/2,f=i.y+i.height/2;return o<=i.y&&f>=t.y+t.height?-1:f<=t.y&&o>=i.y+i.height?1:t.x+t.width/2-(i.x+i.width/2)}function A_(s,e){const t=e.getAttribute("aria-owns");null!=t&&t.includes(s)||e.setAttribute("aria-owns",t?`${t} ${s}`:s),e.removeAttribute("role")}var no=new WeakMap;class qE{constructor({findController:e,eventBus:t,pageIndex:i}){k(this,no,null),this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,c(no,this)||(x(no,this,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||-1===e.pageIndex)&&this._updateMatches()},{signal:c(no,this).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,null===(e=c(no,this))||void 0===e||e.abort(),x(no,this,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:i}=this;let n=0,a=0;const o=i.length-1,l=[];for(let h=0,f=e.length;h<f;h++){let d=e[h];for(;n!==o&&d>=a+i[n].length;)a+=i[n].length,n++;n===i.length&&console.error("Could not find a matching mapping");const p={begin:{divIdx:n,offset:d-a}};for(d+=t[h];n!==o&&d>a+i[n].length;)a+=i[n].length,n++;p.end={divIdx:n,offset:d-a},l.push(p)}return l}_renderMatches(e){if(0===e.length)return;const{findController:t,pageIdx:i}=this,{textContentItemsStr:n,textDivs:a}=this,o=i===t.selected.pageIdx,l=t.selected.matchIdx;let f=null;function p(b,P){const S=b.divIdx;return a[S].textContent="",m(S,0,b.offset,P)}function m(b,P,S,T){let O=a[b];if(O.nodeType===Node.TEXT_NODE){const I=document.createElement("span");O.before(I),I.append(O),a[b]=I,O=I}const M=n[b].substring(P,S),R=document.createTextNode(M);if(T){const I=document.createElement("span");return I.className=`${T} appended`,I.append(R),O.append(I),T.includes("selected")?I.offsetLeft:0}return O.append(R),0}let _=l,w=_+1;if(t.state.highlightAll)_=0,w=e.length;else if(!o)return;let A=-1,C=-1;for(let b=_;b<w;b++){const P=e[b],S=P.begin;if(S.divIdx===A&&S.offset===C)continue;A=S.divIdx,C=S.offset;const T=P.end,O=o&&b===l,M=O?" selected":"";let R=0;if(f&&S.divIdx===f.divIdx?m(f.divIdx,f.offset,S.offset):(null!==f&&m(f.divIdx,f.offset,undefined),p(S)),S.divIdx===T.divIdx)R=m(S.divIdx,S.offset,T.offset,"highlight"+M);else{R=m(S.divIdx,S.offset,undefined,"highlight begin"+M);for(let I=S.divIdx+1,F=T.divIdx;I<F;I++)a[I].className="highlight middle"+M;p(T,"highlight end"+M)}f=T,O&&t.scrollMatchIntoView({element:a[S.divIdx],selectedLeft:R,pageIndex:i,matchIndex:l})}f&&m(f.divIdx,f.offset,undefined)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:n}=this,{textContentItemsStr:a,textDivs:o}=this;let l=-1;for(const d of i){for(let m=Math.max(l,d.begin.divIdx),_=d.end.divIdx;m<=_;m++){const w=o[m];w.textContent=a[m],w.className=""}l=d.end.divIdx+1}null!=t&&t.highlightMatches&&!e&&(this.matches=this._convertMatches(t.pageMatches[n]||null,t.pageMatchesLength[n]||null),this._renderMatches(this.matches))}}var Hg=new WeakMap,Vg=new WeakMap,lu=new WeakMap,Vn=new WeakMap,y_=new WeakSet;class uu{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:n=!1,onAppend:a=null}){Ie(this,y_),k(this,Hg,!1),k(this,Vg,null),k(this,lu,!1),k(this,Vn,null),this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,x(Hg,this,!0===n),x(Vg,this,a),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(e,t=null){var i=this;return(0,re.A)(function*(){var n,a,o,l,h;if(c(lu,i)&&c(Vn,i))return c(Vn,i).update({viewport:e,onBefore:i.hide.bind(i)}),void i.show();i.cancel(),x(Vn,i,new Oy({textContentSource:i.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:i.div,viewport:e}));const{textDivs:f,textContentItemsStr:d}=c(Vn,i);null===(n=i.highlighter)||void 0===n||n.setTextMapping(f,d),null===(a=i.accessibilityManager)||void 0===a||a.setTextMapping(f),yield c(Vn,i).render(),x(lu,i,!0);const p=document.createElement("div");p.className="endOfContent",i.div.append(p),E(y_,i,YE).call(i,p),null===(o=c(Vg,i))||void 0===o||o.call(i,i.div),null===(l=i.highlighter)||void 0===l||l.enable(),null===(h=i.accessibilityManager)||void 0===h||h.enable()})()}hide(){var e;!this.div.hidden&&c(lu,this)&&(null===(e=this.highlighter)||void 0===e||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&c(lu,this)&&(this.div.hidden=!1,null===(e=this.highlighter)||void 0===e||e.enable())}cancel(){var e,t,i;null===(e=c(Vn,this))||void 0===e||e.cancel(),x(Vn,this,null),null===(t=this.highlighter)||void 0===t||t.disable(),null===(i=this.accessibilityManager)||void 0===i||i.disable(),KE.call(uu,this.div)}}function YE(s){const{div:e}=this;e.addEventListener("mousedown",t=>{s.classList.add("active")}),e.addEventListener("copy",t=>{if(!c(Hg,this)){const i=document.getSelection();t.clipboardData.setData("text/plain",Lc(By(i.toString())))}t.preventDefault(),t.stopPropagation()}),ln._.set(e,s),QE.call(di)}function KE(s){var e;E(di,this,ln)._.delete(s),0===E(di,this,ln)._.size&&(null===(e=E(di,this,hu)._)||void 0===e||e.abort(),hu._=E(di,this,null))}function QE(){if(E(di,this,hu)._)return;hu._=E(di,this,new AbortController);const{signal:s}=E(di,this,hu)._,e=(n,a)=>{a.append(n),n.style.width="",n.style.height="",n.classList.remove("active")};var t,i;document.addEventListener("pointerup",()=>{E(di,this,ln)._.forEach(e)},{signal:s}),document.addEventListener("selectionchange",()=>{var n;const a=document.getSelection();if(0===a.rangeCount)return void E(di,this,ln)._.forEach(e);const o=new Set;for(let m=0;m<a.rangeCount;m++){const _=a.getRangeAt(m);for(const w of E(di,this,ln)._.keys())!o.has(w)&&_.intersectsNode(w)&&o.add(w)}for(const[m,_]of E(di,this,ln)._)o.has(m)?_.classList.add("active"):e(_,m);if(null!==(n=t)&&void 0!==n||(t="none"===getComputedStyle(E(di,this,ln)._.values().next().value).getPropertyValue("-moz-user-select")),t)return;const l=a.getRangeAt(0),h=i&&(0===l.compareBoundaryPoints(Range.END_TO_END,i)||0===l.compareBoundaryPoints(Range.START_TO_END,i));let f=h?l.startContainer:l.endContainer;f.nodeType===Node.TEXT_NODE&&(f=f.parentNode);const d=f.parentElement.closest(".textLayer"),p=E(di,this,ln)._.get(d);p&&(p.style.width=d.style.width,p.style.height=d.style.height,f.parentElement.insertBefore(p,h?f:f.nextSibling)),i=l.cloneRange()},{signal:s})}di=uu;var ln={_:new Map},hu={_:null};class E_{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:n=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=n,this.div=null,this._cancelled=!1}render(e,t="display"){var i=this;return(0,re.A)(function*(){if("print"===t){const o={viewport:e.clone({dontFlip:!0}),div:i.div,xfaHtml:i.xfaHtml,annotationStorage:i.annotationStorage,linkService:i.linkService,intent:t};return i.div=document.createElement("div"),o.div=i.div,gg.render(o)}const n=yield i.pdfPage.getXfa();if(i._cancelled||!n)return{textDivs:[]};const a={viewport:e.clone({dontFlip:!0}),div:i.div,xfaHtml:n,annotationStorage:i.annotationStorage,linkService:i.linkService,intent:t};return i.div?gg.update(a):(i.div=document.createElement("div"),a.div=i.div,gg.render(a))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const JE={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new fg}},eC=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var cu=new WeakMap,$g=new WeakMap,du=new WeakMap,jg=new WeakMap,ro=new WeakMap,ao=new WeakMap,Gg=new WeakMap,fu=new WeakMap,ed=new WeakMap,td=new WeakMap,$r=new WeakMap,pu=new WeakMap,oo=new WeakMap,lt=new WeakSet;class C_{constructor(e){var t,i,n,a;Ie(this,lt),k(this,cu,rn.ENABLE_FORMS),k(this,$g,!1),k(this,du,!1),k(this,jg,!1),k(this,ro,null),k(this,ao,null),k(this,Gg,null),k(this,fu,null),k(this,ed,St.INITIAL),k(this,td,1),k(this,$r,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0}),k(this,pu,new WeakMap),k(this,oo,[null,null,null,null]);const o=e.container,l=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,x(ro,this,e.layerProperties||JE),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||1,this.viewport=l,this.pdfPageRotate=l.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,x(td,this,null!==(t=e.textLayerMode)&&void 0!==t?t:1),x(cu,this,null!==(i=e.annotationMode)&&void 0!==i?i:rn.ENABLE_FORMS),this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=null!==(n=e.maxCanvasPixels)&&void 0!==n?n:Ng.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,x($g,this,e.enableHWA||!1),this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||(this.l10n=new Nn),this.renderTask=null,this.resume=null,this._isStandalone=!(null!==(a=this.renderingQueue)&&void 0!==a&&a.hasViewer()),this._container=o,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;const h=document.createElement("div");if(h.className="page",h.setAttribute("data-page-number",this.id),h.setAttribute("role","region"),h.setAttribute("data-l10n-id","pdfjs-page-landmark"),h.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=h,E(lt,this,Ug).call(this),null==o||o.append(h),this._isStandalone){null==o||o.style.setProperty("--scale-factor",this.scale*an.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:f}=e;f&&f.then(d=>{f===this._optionalContentConfigPromise&&(c($r,this).initialOptionalContent=d.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}get renderingState(){return c(ed,this)}set renderingState(e){if(e!==c(ed,this))switch(x(ed,this,e),c(ao,this)&&(clearTimeout(c(ao,this)),x(ao,this,null)),e){case St.PAUSED:this.div.classList.remove("loading");break;case St.RUNNING:this.div.classList.add("loadingIcon"),x(ao,this,setTimeout(()=>{this.div.classList.add("loading"),x(ao,this,null)},0));break;case St.INITIAL:case St.FINISHED:this.div.classList.remove("loadingIcon","loading")}}setPdfPage(e){var t,i,n,a;!this._isStandalone||"CanvasText"!==(null===(t=this.pageColors)||void 0===t?void 0:t.foreground)&&"Canvas"!==(null===(i=this.pageColors)||void 0===i?void 0:i.background)||(null===(n=this._container)||void 0===n||n.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),null===(a=this._container)||void 0===a||a.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate,this.viewport=e.getViewport({scale:this.scale*an.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),E(lt,this,Ug).call(this),this.reset()}destroy(){var e;this.reset(),null===(e=this.pdfPage)||void 0===e||e.cleanup()}hasEditableAnnotations(){var e;return!(null===(e=this.annotationLayer)||void 0===e||!e.hasEditableAnnotations())}get _textHighlighter(){return Vc(this,"_textHighlighter",new qE({pageIndex:this.id-1,eventBus:this.eventBus,findController:c(ro,this).findController}))}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;const t=this.zoomLayer.firstChild;c(pu,this).delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:n=!1,keepTextLayer:a=!1}={}){var o,l,h,f,d;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:n,keepTextLayer:a}),this.renderingState=St.INITIAL;const p=this.div,m=p.childNodes,_=e&&this.zoomLayer||null,w=t&&(null===(o=this.annotationLayer)||void 0===o?void 0:o.div)||null,A=i&&(null===(l=this.annotationEditorLayer)||void 0===l?void 0:l.div)||null,C=n&&(null===(h=this.xfaLayer)||void 0===h?void 0:h.div)||null,b=a&&(null===(f=this.textLayer)||void 0===f?void 0:f.div)||null;for(let P=m.length-1;P>=0;P--){const S=m[P];switch(S){case _:case w:case A:case C:case b:continue}S.remove();const T=c(oo,this).indexOf(S);T>=0&&(c(oo,this)[T]=null)}p.removeAttribute("data-loaded"),w&&this.annotationLayer.hide(),A&&this.annotationEditorLayer.hide(),C&&this.xfaLayer.hide(),b&&this.textLayer.hide(),null===(d=this.structTreeLayer)||void 0===d||d.hide(),_||(this.canvas&&(c(pu,this).delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(e){this.hasEditableAnnotations()&&(x(jg,this,e),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:i=null,drawingDelay:n=-1}){var o;if(this.scale=e||this.scale,"number"==typeof t&&(this.rotation=t),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(l=>{i===this._optionalContentConfigPromise&&(c($r,this).initialOptionalContent=l.hasInitialVisibility)})),c($r,this).directDrawing=!0,this.viewport=this.viewport.clone({scale:this.scale*an.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),E(lt,this,Ug).call(this),this._isStandalone&&(null===(o=this._container)||void 0===o||o.style.setProperty("--scale-factor",this.viewport.scale)),this.canvas){let l=!1;if(c(du,this))if(0===this.maxCanvasPixels)l=!0;else if(this.maxCanvasPixels>0){const{width:f,height:d}=this.viewport,{sx:p,sy:m}=this.outputScale;l=(Math.floor(f)*p|0)*(Math.floor(d)*m|0)>this.maxCanvasPixels}const h=n>=0&&n<1e3;if(h||l){if(h&&!l&&this.renderingState!==St.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:n}),this.renderingState=St.FINISHED,c($r,this).directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h}),h)return;return void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:c(fu,this)})}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:i=!1,keepTextLayer:n=!1,cancelExtraDelay:a=0}={}){var o;this.renderTask&&(this.renderTask.cancel(a),this.renderTask=null),this.resume=null,this.textLayer&&(!n||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),!this.xfaLayer||i&&this.xfaLayer.div||(this.xfaLayer.cancel(),this.xfaLayer=null,null===(o=this._textHighlighter)||void 0===o||o.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:n=!1,redrawTextLayer:a=!1,hideTextLayer:o=!1}){if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);const{style:f}=e;f.width=f.height=""}const l=c(pu,this).get(e);if(this.viewport!==l){const f=this.viewport.rotation-l.rotation,d=Math.abs(f);let p=1,m=1;if(90===d||270===d){const{width:_,height:w}=this.viewport;p=w/_,m=_/w}e.style.transform=`rotate(${f}deg) scale(${p}, ${m})`}if(t&&this.annotationLayer&&E(lt,this,x_).call(this),i&&this.annotationEditorLayer&&(this.drawLayer&&E(lt,this,P_).call(this),E(lt,this,S_).call(this)),n&&this.xfaLayer&&E(lt,this,M_).call(this),this.textLayer)if(o){var h;this.textLayer.hide(),null===(h=this.structTreeLayer)||void 0===h||h.hide()}else a&&E(lt,this,k_).call(this)}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}draw(){var e=this;return(0,re.A)(function*(){e.renderingState!==St.INITIAL&&(console.error("Must be in new state before drawing"),e.reset());const{div:t,l10n:i,pageColors:n,pdfPage:a,viewport:o}=e;if(!a)throw e.renderingState=St.FINISHED,new Error("pdfPage is not loaded");e.renderingState=St.RUNNING;const l=document.createElement("div");if(l.classList.add("canvasWrapper"),E(lt,e,gu).call(e,l,"canvasWrapper"),!e.textLayer&&0!==c(td,e)&&!a.isPureXfa&&(e._accessibilityManager||(e._accessibilityManager=new Jc),e.textLayer=new uu({pdfPage:a,highlighter:e._textHighlighter,accessibilityManager:e._accessibilityManager,enablePermissions:2===c(td,e),onAppend:R=>{e.l10n.pause(),E(lt,e,gu).call(e,R,"textLayer"),e.l10n.resume()}})),!e.annotationLayer&&c(cu,e)!==rn.DISABLE){const{annotationStorage:R,annotationEditorUIManager:I,downloadManager:F,enableScripting:B,fieldObjectsPromise:N,hasJSActionsPromise:V,linkService:H}=c(ro,e);e._annotationCanvasMap||(e._annotationCanvasMap=new Map),e.annotationLayer=new Vv({pdfPage:a,annotationStorage:R,imageResourcesPath:e.imageResourcesPath,renderForms:c(cu,e)===rn.ENABLE_FORMS,linkService:H,downloadManager:F,enableScripting:B,hasJSActionsPromise:V,fieldObjectsPromise:N,annotationCanvasMap:e._annotationCanvasMap,accessibilityManager:e._accessibilityManager,annotationEditorUIManager:I,onAppend:j=>{E(lt,e,gu).call(e,j,"annotationLayer")}})}const{width:f,height:d}=o,p=document.createElement("canvas");p.setAttribute("role","presentation"),p.hidden=!0;const m=!(null==n||!n.background||null==n||!n.foreground);let _=R=>{(!m||R)&&(p.hidden=!1,_=null)};l.append(p),e.canvas=p;const w=p.getContext("2d",{alpha:!1,willReadFrequently:!c($g,e)}),A=e.outputScale=new NA;if(0===e.maxCanvasPixels){const R=1/e.scale;A.sx*=R,A.sy*=R,x(du,e,!0)}else if(e.maxCanvasPixels>0){const I=Math.sqrt(e.maxCanvasPixels/(f*d));A.sx>I||A.sy>I?(A.sx=I,A.sy=I,x(du,e,!0)):x(du,e,!1)}const C=Sv(A.sx),b=Sv(A.sy);p.width=Ic(f*A.sx,C[0]),p.height=Ic(d*A.sy,b[0]);const{style:P}=p;P.width=Ic(f,C[1])+"px",P.height=Ic(d,b[1])+"px",c(pu,e).set(p,o);const T={canvasContext:w,transform:A.scaled?[A.sx,0,0,A.sy,0,0]:null,viewport:o,annotationMode:c(cu,e),optionalContentConfigPromise:e._optionalContentConfigPromise,annotationCanvasMap:e._annotationCanvasMap,pageColors:n,isEditing:c(jg,e)},O=e.renderTask=a.render(T);O.onContinue=R=>{var I;if(null===(I=_)||void 0===I||I(!1),e.renderingQueue&&!e.renderingQueue.isHighestPriority(e))return e.renderingState=St.PAUSED,void(e.resume=()=>{e.renderingState=St.RUNNING,R()});R()};const M=O.promise.then((0,re.A)(function*(){var R;null===(R=_)||void 0===R||R(!0),yield E(lt,e,T_).call(e,O),E(lt,e,k_).call(e),e.annotationLayer&&(yield E(lt,e,x_).call(e));const{annotationEditorUIManager:I}=c(ro,e);var F;I&&(e.drawLayer||(e.drawLayer=new XE({pageIndex:e.id})),yield E(lt,e,P_).call(e),e.drawLayer.setParent(l),e.annotationEditorLayer||(e.annotationEditorLayer=new UE({uiManager:I,pdfPage:a,l10n:i,accessibilityManager:e._accessibilityManager,annotationLayer:null===(F=e.annotationLayer)||void 0===F?void 0:F.annotationLayer,textLayer:e.textLayer,drawLayer:e.drawLayer.getDrawLayer(),onAppend:B=>{E(lt,e,gu).call(e,B,"annotationEditorLayer")}})),E(lt,e,S_).call(e))}),R=>{var I;return R instanceof pg||null===(I=_)||void 0===I||I(!0),E(lt,e,T_).call(e,O,R)});if(a.isPureXfa){if(!e.xfaLayer){const{annotationStorage:R,linkService:I}=c(ro,e);e.xfaLayer=new E_({pdfPage:a,annotationStorage:R,linkService:I})}E(lt,e,M_).call(e)}return t.setAttribute("data-loaded",!0),e.eventBus.dispatch("pagerender",{source:e,pageNumber:e.id}),M})()}setPageLabel(e){var t;this.pageLabel="string"==typeof e?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:null!==(t=this.pageLabel)&&void 0!==t?t:this.id})),null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:e,initialOptionalContent:t,regularAnnotations:i}=c($r,this);return e&&t&&i?this.canvas:null}}function gu(s,e){const t=eC.get(e),i=c(oo,this)[t];if(c(oo,this)[t]=s,i)i.replaceWith(s);else{for(let n=t-1;n>=0;n--){const a=c(oo,this)[n];if(a)return void a.after(s)}this.div.prepend(s)}}function Ug(){const{viewport:s}=this;if(this.pdfPage){if(c(Gg,this)===s.rotation)return;x(Gg,this,s.rotation)}Ry(this.div,s,!0,!1)}function id(s,e){this.eventBus.dispatch(s,{source:this,pageNumber:this.id,error:e})}function x_(){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,re.A)(function*(){let s=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(e){console.error(`#renderAnnotationLayer: "${e}".`),s=e}finally{E(lt,this,id).call(this,"annotationlayerrendered",s)}})).apply(this,arguments)}function S_(){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,re.A)(function*(){let s=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(e){console.error(`#renderAnnotationEditorLayer: "${e}".`),s=e}finally{E(lt,this,id).call(this,"annotationeditorlayerrendered",s)}})).apply(this,arguments)}function P_(){return qg.apply(this,arguments)}function qg(){return(qg=(0,re.A)(function*(){try{yield this.drawLayer.render("display")}catch(s){console.error(`#renderDrawLayer: "${s}".`)}})).apply(this,arguments)}function M_(){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,re.A)(function*(){let s=null;try{const t=yield this.xfaLayer.render(this.viewport,"display");null!=t&&t.textDivs&&this._textHighlighter&&E(lt,this,iC).call(this,t.textDivs)}catch(t){console.error(`#renderXfaLayer: "${t}".`),s=t}finally{var e;null!==(e=this.xfaLayer)&&void 0!==e&&e.div&&(this.l10n.pause(),E(lt,this,gu).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),E(lt,this,id).call(this,"xfalayerrendered",s)}})).apply(this,arguments)}function k_(){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,re.A)(function*(){if(!this.textLayer)return;let s=null;try{yield this.textLayer.render(this.viewport)}catch(e){if(e instanceof Py)return;console.error(`#renderTextLayer: "${e}".`),s=e}E(lt,this,id).call(this,"textlayerrendered",s),E(lt,this,tC).call(this)})).apply(this,arguments)}function tC(){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,re.A)(function*(){var s,e;if(!this.textLayer)return;this.structTreeLayer||(this.structTreeLayer=new __);const t=yield this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree(),i=null===(s=this.structTreeLayer)||void 0===s?void 0:s.render(t);var n;i&&(this.l10n.pause(),null===(n=this.canvas)||void 0===n||n.append(i),this.l10n.resume()),null===(e=this.structTreeLayer)||void 0===e||e.show()})).apply(this,arguments)}function iC(s){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,re.A)(function*(s){const e=yield this.pdfPage.getTextContent(),t=[];for(const i of e.items)t.push(i.str);this._textHighlighter.setTextMapping(s,t),this._textHighlighter.enable()})).apply(this,arguments)}function T_(s){return em.apply(this,arguments)}function em(){return(em=(0,re.A)(function*(s,e=null){if(s===this.renderTask&&(this.renderTask=null),e instanceof pg)x(fu,this,null);else if(x(fu,this,e),this.renderingState=St.FINISHED,this._resetZoomLayer(!0),c($r,this).regularAnnotations=!s.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:c(fu,this)}),e)throw e})).apply(this,arguments)}function tm(){return(tm=(0,re.A)(function*(s){const t="".split("#",1)[0];let{info:i,metadata:n,contentDispositionFilename:a,contentLength:o}=yield s.getMetadata();if(!o){const{length:l}=yield s.getDownloadInfo();o=l}return{...i,baseURL:t,filesize:o,filename:a||Ly(""),metadata:null==n?void 0:n.getRaw(),authors:null==n?void 0:n.get("dc:creator"),numPages:s.numPages,URL:""}})).apply(this,arguments)}class nC{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(a=>{t(a.QuickJSSandbox())}).catch(i)})}createSandbox(e){var t=this;return(0,re.A)(function*(){(yield t._ready).create(e)})()}dispatchEventInSandbox(e){var t=this;return(0,re.A)(function*(){const i=yield t._ready;setTimeout(()=>i.dispatchEvent(e),0)})()}destroySandbox(){var e=this;return(0,re.A)(function*(){(yield e._ready).nukeSandbox()})()}}var $n=new WeakMap,mu=new WeakMap,im=new WeakMap,vu=new WeakMap,_u=new WeakMap,sm=new WeakMap,Ri=new WeakMap,jr=new WeakMap,sd=new WeakMap,Zt=new WeakMap,ks=new WeakMap,Zi=new WeakSet;class rC{constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){Ie(this,Zi),k(this,$n,null),k(this,mu,null),k(this,im,null),k(this,vu,null),k(this,_u,null),k(this,sm,null),k(this,Ri,null),k(this,jr,null),k(this,sd,!1),k(this,Zt,null),k(this,ks,null),x(_u,this,e),x(sm,this,t),x(im,this,i)}setViewer(e){x(jr,this,e)}setDocument(e){var t=this;return(0,re.A)(function*(){var i;if(c(Ri,t)&&(yield E(Zi,t,nd).call(t)),x(Ri,t,e),!e)return;const[n,a,o]=yield Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!n&&!o)return void(yield E(Zi,t,nd).call(t));if(e!==c(Ri,t))return;try{x(Zt,t,E(Zi,t,oC).call(t))}catch(f){return console.error(`setDocument: "${f.message}".`),void(yield E(Zi,t,nd).call(t))}const l=c(_u,t);x(vu,t,new AbortController);const{signal:h}=c(vu,t);l._on("updatefromsandbox",f=>{(null==f?void 0:f.source)===window&&E(Zi,t,aC).call(t,f.detail)},{signal:h}),l._on("dispatcheventinsandbox",f=>{var d;null===(d=c(Zt,t))||void 0===d||d.dispatchEventInSandbox(f.detail)},{signal:h}),l._on("pagechanging",({pageNumber:f,previous:d})=>{f!==d&&(E(Zi,t,D_).call(t,d),E(Zi,t,rm).call(t,f))},{signal:h}),l._on("pagerendered",({pageNumber:f})=>{t._pageOpenPending.has(f)&&f===c(jr,t).currentPageNumber&&E(Zi,t,rm).call(t,f)},{signal:h}),l._on("pagesdestroy",(0,re.A)(function*(){var f,d;yield E(Zi,t,D_).call(t,c(jr,t).currentPageNumber),yield null===(f=c(Zt,t))||void 0===f?void 0:f.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null===(d=c($n,t))||void 0===d||d.resolve()}),{signal:h});try{const f=yield c(im,t).call(t,e);if(e!==c(Ri,t))return;yield c(Zt,t).createSandbox({objects:n,calculationOrder:a,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...f,actions:o}}),l.dispatch("sandboxcreated",{source:t})}catch(f){return console.error(`setDocument: "${f.message}".`),void(yield E(Zi,t,nd).call(t))}yield null===(i=c(Zt,t))||void 0===i?void 0:i.dispatchEventInSandbox({id:"doc",name:"Open"}),yield E(Zi,t,rm).call(t,c(jr,t).currentPageNumber,!0),Promise.resolve().then(()=>{e===c(Ri,t)&&x(sd,t,!0)})})()}dispatchWillSave(){var e=this;return(0,re.A)(function*(){var t;return null===(t=c(Zt,e))||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(){var e=this;return(0,re.A)(function*(){var t;return null===(t=c(Zt,e))||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(){var e=this;return(0,re.A)(function*(){var t;if(c(Zt,e)){yield null===(t=c(ks,e))||void 0===t?void 0:t.promise,x(ks,e,Promise.withResolvers());try{yield c(Zt,e).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(i){throw c(ks,e).resolve(),x(ks,e,null),i}yield c(ks,e).promise}})()}dispatchDidPrint(){var e=this;return(0,re.A)(function*(){var t;return null===(t=c(Zt,e))||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get destroyPromise(){var e;return(null===(e=c(mu,this))||void 0===e?void 0:e.promise)||null}get ready(){return c(sd,this)}get _pageOpenPending(){return Vc(this,"_pageOpenPending",new Set)}get _visitedPages(){return Vc(this,"_visitedPages",new Map)}}function aC(s){return nm.apply(this,arguments)}function nm(){return(nm=(0,re.A)(function*(s){var e;const t=c(jr,this),i=t.isInPresentationMode||t.isChangingPresentationMode,{id:n,siblings:a,command:o,value:l}=s;if(!n){switch(o){case"clear":console.clear();break;case"error":console.error(l);break;case"layout":if(!i){const d=function ZA(s){let e=$e.VERTICAL,t=ei.NONE;switch(s){case"SinglePage":e=$e.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=$e.PAGE;case"TwoColumnLeft":t=ei.ODD;break;case"TwoPageRight":e=$e.PAGE;case"TwoColumnRight":t=ei.EVEN}return{scrollMode:e,spreadMode:t}}(l);t.spreadMode=d.spreadMode}break;case"page-num":t.currentPageNumber=l+1;break;case"print":yield t.pagesPromise,c(_u,this).dispatch("print",{source:this});break;case"println":console.log(l);break;case"zoom":i||(t.currentScaleValue=l);break;case"SaveAs":c(_u,this).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":null===(e=c(ks,this))||void 0===e||e.resolve(),x(ks,this,null)}return}if(i&&s.focus)return;delete s.id,delete s.siblings;const h=a?[n,...a]:[n];for(const d of h){const p=document.querySelector(`[data-element-id="${d}"]`);var f;p?p.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:s})):null===(f=c(Ri,this))||void 0===f||f.annotationStorage.setValue(d,s)}})).apply(this,arguments)}function rm(s){return am.apply(this,arguments)}function am(){return(am=(0,re.A)(function*(s,e=!1){var t=this;const i=c(Ri,this),n=this._visitedPages;if(e&&x($n,this,Promise.withResolvers()),!c($n,this))return;const a=c(jr,this).getPageView(s-1);if((null==a?void 0:a.renderingState)!==St.FINISHED)return void this._pageOpenPending.add(s);this._pageOpenPending.delete(s);const o=(0,re.A)(function*(){var l,h;const f=yield n.has(s)?null:null===(l=a.pdfPage)||void 0===l?void 0:l.getJSActions();i===c(Ri,t)&&(yield null===(h=c(Zt,t))||void 0===h?void 0:h.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:s,actions:f}))})();n.set(s,o)})).apply(this,arguments)}function D_(s){return om.apply(this,arguments)}function om(){return(om=(0,re.A)(function*(s){var e;const t=c(Ri,this),i=this._visitedPages;if(!c($n,this)||this._pageOpenPending.has(s))return;const n=i.get(s);n&&(i.set(s,null),yield n,t===c(Ri,this)&&(yield null===(e=c(Zt,this))||void 0===e?void 0:e.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:s})))})).apply(this,arguments)}function oC(){if(x(mu,this,Promise.withResolvers()),c(Zt,this))throw new Error("#initScripting: Scripting already exists.");return c(sm,this).createScripting()}function nd(){return lm.apply(this,arguments)}function lm(){return(lm=(0,re.A)(function*(){var s,e,t,i;if(!c(Zt,this))return x(Ri,this,null),void(null===(i=c(mu,this))||void 0===i||i.resolve());c($n,this)&&(yield Promise.race([c($n,this).promise,new Promise(n=>{setTimeout(n,1e3)})]).catch(()=>{}),x($n,this,null)),x(Ri,this,null);try{yield c(Zt,this).destroySandbox()}catch{}null===(s=c(ks,this))||void 0===s||s.reject(new Error("Scripting destroyed.")),x(ks,this,null),null===(e=c(vu,this))||void 0===e||e.abort(),x(vu,this,null),this._pageOpenPending.clear(),this._visitedPages.clear(),x(Zt,this,null),x(sd,this,!1),null===(t=c(mu,this))||void 0===t||t.resolve()})).apply(this,arguments)}class lC extends rC{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new nC(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>function sC(s){return tm.apply(this,arguments)}(t)),super(e)}}class hC{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&null!==(t=this.pdfThumbnailViewer)&&void 0!==t&&t.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(e,t,i,n=!1){const a=e.views,o=a.length;if(0===o)return null;for(let p=0;p<o;p++){const m=a[p].view;if(!this.isViewFinished(m))return m}const l=e.first.id,h=e.last.id;if(h-l+1>o){const p=e.ids;for(let m=1,_=h-l;m<_;m++){const w=i?l+m:h-m;if(p.has(w))continue;const A=t[w-1];if(!this.isViewFinished(A))return A}}let f=i?h:l-2,d=t[f];return d&&!this.isViewFinished(d)||n&&(f+=i?1:-1,d=t[f],d&&!this.isViewFinished(d))?d:null}isViewFinished(e){return e.renderingState===St.FINISHED}renderView(e){switch(e.renderingState){case St.FINISHED:return!1;case St.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case St.RUNNING:this.highestPriorityPage=e.renderingId;break;case St.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof pg||console.error(`renderView: "${t}"`)})}return!0}}function L_(s){return Object.values(hs).includes(s)&&s!==hs.DISABLE}var Gr=new WeakMap,wu=new WeakMap,um=new WeakSet;class cC{constructor(e){Ie(this,um),k(this,Gr,new Set),k(this,wu,0),x(wu,this,e)}push(e){const t=c(Gr,this);t.has(e)&&t.delete(e),t.add(e),t.size>c(wu,this)&&E(um,this,I_).call(this)}resize(e,t=null){x(wu,this,e);const i=c(Gr,this);if(t){const n=i.size;let a=1;for(const o of i)if(t.has(o.id)&&(i.delete(o),i.add(o)),++a>n)break}for(;i.size>c(wu,this);)E(um,this,I_).call(this)}has(e){return c(Gr,this).has(e)}[Symbol.iterator](){return c(Gr,this).keys()}}function I_(){const s=c(Gr,this).keys().next().value;null==s||s.destroy(),c(Gr,this).delete(s)}var lo=new WeakMap,hm=new WeakMap,cm=new WeakMap,jn=new WeakMap,Si=new WeakMap,bu=new WeakMap,ad=new WeakMap,dm=new WeakMap,fm=new WeakMap,pm=new WeakMap,gm=new WeakMap,uo=new WeakMap,mm=new WeakMap,ho=new WeakMap,Au=new WeakMap,od=new WeakMap,co=new WeakMap,ld=new WeakMap,vm=new WeakMap,ud=new WeakMap,yu=new WeakMap,fo=new WeakMap,hd=new WeakMap,Xe=new WeakSet;class B_{constructor(e){var t,i,n,a,o;Ie(this,Xe),k(this,lo,null),k(this,hm,null),k(this,cm,null),k(this,jn,hs.NONE),k(this,Si,null),k(this,bu,rn.ENABLE_FORMS),k(this,ad,null),k(this,dm,!1),k(this,fm,!1),k(this,pm,!1),k(this,gm,!1),k(this,uo,null),k(this,mm,null),k(this,ho,null),k(this,Au,null),k(this,od,!1),k(this,co,null),k(this,ld,!1),k(this,vm,0),k(this,ud,new ResizeObserver(E(Xe,this,bC).bind(this))),k(this,yu,null),k(this,fo,null),k(this,hd,1);const l="4.5.136";if(Hv!==l)throw new Error(`The API version "${Hv}" does not match the Viewer version "${l}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,"DIV"!==(null===(t=this.container)||void 0===t?void 0:t.tagName)||"DIV"!==(null===(i=this.viewer)||void 0===i?void 0:i.tagName))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");c(ud,this).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new fg,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,x(hm,this,e.altTextManager||null),this.findController&&(this.findController.onIsPageVisible=f=>this._getVisiblePages().ids.has(f)),this._scriptingManager=e.scriptingManager||null,x(hd,this,null!==(n=e.textLayerMode)&&void 0!==n?n:1),x(bu,this,null!==(a=e.annotationMode)&&void 0!==a?a:rn.ENABLE_FORMS),x(jn,this,null!==(o=e.annotationEditorMode)&&void 0!==o?o:hs.NONE),x(cm,this,e.annotationEditorHighlightColors||null),x(fm,this,!0===e.enableHighlightFloatingButton),x(gm,this,!0===e.enableUpdatedAddImage),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||(this.l10n=new Nn),x(pm,this,e.enablePermissions||!1),this.pageColors=e.pageColors||null,x(mm,this,e.mlManager||null),x(dm,this,e.enableHWA||!1),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new hC,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:h}=e;null==h||h.addEventListener("abort",()=>{c(ud,this).disconnect(),x(ud,this,null)},{once:!0}),this.scroll=function zA(s,e,t){const i=function(o){a||(a=window.requestAnimationFrame(function(){a=null;const h=s.scrollLeft,f=n.lastX;h!==f&&(n.right=h>f),n.lastX=h;const d=s.scrollTop,p=n.lastY;d!==p&&(n.down=d>p),n.lastY=d,e(n)}))},n={right:!0,down:!0,lastX:s.scrollLeft,lastY:s.scrollTop,_eventHandler:i};let a=null;return s.addEventListener("scroll",i,{useCapture:!0,signal:t}),null==t||t.addEventListener("abort",()=>window.cancelAnimationFrame(a),{once:!0}),n}(this.container,this._scrollUpdate.bind(this),h),this.presentationModeState=0,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),E(Xe,this,N_).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:f,pdfPage:d})=>{const p=this._pages[f-1];c(lo,this).has(p)||null==d||d.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(c(lo,this))}get pageViewsReady(){return this._pages.every(e=>null==e?void 0:e.pdfPage)}get renderForms(){return c(bu,this)===rn.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var i,n;if(this._currentPageNumber===e)return t&&E(Xe,this,O_).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const a=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:null!==(i=null===(n=this._pageLabels)||void 0===n?void 0:n[e-1])&&void 0!==i?i:null,previous:a}),t&&E(Xe,this,O_).call(this),!0}get currentPageLabel(){var e,t;return null!==(e=null===(t=this._pageLabels)||void 0===t?void 0:t[this._currentPageNumber-1])&&void 0!==e?e:null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=0|e;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return 0!==this._currentScale?this._currentScale:1}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&E(Xe,this,Ur).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&E(Xe,this,Ur).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!Pv(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((e%=360)<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&E(Xe,this,Ur).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return Vc(this,"_layerProperties",{get annotationEditorUIManager(){return c(Si,e)},get annotationStorage(){var t;return null===(t=e.pdfDocument)||void 0===t?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return null===(t=e.pdfDocument)||void 0===t?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return null===(t=e.pdfDocument)||void 0===t?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}getAllText(){var e=this;return(0,re.A)(function*(){const t=[],i=[];for(let n=1,a=e.pdfDocument.numPages;n<=a;++n){if(c(ld,e))return null;i.length=0;const o=yield e.pdfDocument.getPage(n),{items:l}=yield o.getTextContent();for(const h of l)h.str&&i.push(h.str),h.hasEOL&&i.push("\n");t.push(Lc(i.join("")))}return t.join("\n")})()}setDocument(e){var i,n,t=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),null===(i=this.findController)||void 0===i||i.setDocument(null),null===(n=this._scriptingManager)||void 0===n||n.setDocument(null),c(Si,this)&&(c(Si,this).destroy(),x(Si,this,null))),this.pdfDocument=e,!e)return;const a=e.numPages,o=e.getPage(1),l=e.getOptionalContentConfig({intent:"display"}),h=c(pm,this)?e.getPermissions():Promise.resolve(),{eventBus:f,pageColors:d,viewer:p}=this;x(uo,this,new AbortController);const{signal:m}=c(uo,this);if(a>1e4){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const A=this._scrollMode=$e.PAGE;f.dispatch("scrollmodechanged",{source:this,mode:A})}this._pagesCapability.promise.then(()=>{f.dispatch("pagesloaded",{source:this,pagesCount:a})},()=>{}),f._on("pagerender",A=>{const C=this._pages[A.pageNumber-1];C&&c(lo,this).push(C)},{signal:m});const w=A=>{A.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:A.timestamp}),f._off("pagerendered",w))};f._on("pagerendered",w,{signal:m}),Promise.all([o,h]).then(([A,C])=>{var b;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(A),this._optionalContentConfigPromise=l;const{annotationEditorMode:P,annotationMode:S,textLayerMode:T}=E(Xe,this,dC).call(this,C);if(0!==T){const I=x(co,this,document.createElement("div"));I.id="hiddenCopyElement",p.before(I)}if(P!==hs.DISABLE){const I=P;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):L_(I)?(x(Si,this,new ky(this.container,p,c(hm,this),f,e,d,c(cm,this),c(fm,this),c(gm,this),c(mm,this))),f.dispatch("annotationeditoruimanager",{source:this,uiManager:c(Si,this)}),I!==hs.NONE&&c(Si,this).updateMode(I)):console.error(`Invalid AnnotationEditor mode: ${I}`)}const O=this._scrollMode===$e.PAGE?null:p,M=this.currentScale,R=A.getViewport({scale:M*an.PDF_TO_CSS_UNITS});p.style.setProperty("--scale-factor",R.scale),("CanvasText"===(null==d?void 0:d.foreground)||"Canvas"===(null==d?void 0:d.background))&&(p.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),p.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let I=1;I<=a;++I){const F=new C_({container:O,eventBus:f,id:I,scale:M,defaultViewport:R.clone(),optionalContentConfigPromise:l,renderingQueue:this.renderingQueue,textLayerMode:T,annotationMode:S,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:d,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:c(dm,this)});this._pages.push(F)}null===(b=this._pages[0])||void 0===b||b.setPdfPage(A),this._scrollMode===$e.PAGE?E(Xe,this,cd).call(this):this._spreadMode!==ei.NONE&&this._updateSpreadMode(),E(Xe,this,fC).call(this,m).then((0,re.A)(function*(){var I,F;if(e!==t.pdfDocument)return;if(null===(I=t.findController)||void 0===I||I.setDocument(e),null===(F=t._scriptingManager)||void 0===F||F.setDocument(e),c(co,t)&&document.addEventListener("copy",E(Xe,t,pC).bind(t,T),{signal:m}),c(Si,t)&&f.dispatch("annotationeditormodechanged",{source:t,mode:c(jn,t)}),e.loadingParams.disableAutoFetch||a>5e3)return void t._pagesCapability.resolve();let B=a-1;if(B<=0)t._pagesCapability.resolve();else for(let N=2;N<=a;++N){const V=e.getPage(N).then(H=>{const j=t._pages[N-1];j.pdfPage||j.setPdfPage(H),0==--B&&t._pagesCapability.resolve()},H=>{console.error(`Unable to get page ${N} to initialize viewer`,H),0==--B&&t._pagesCapability.resolve()});N%250==0&&(yield V)}})),f.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:I})=>{e===this.pdfDocument&&I.Language&&(p.lang=I.Language)}),this.defaultRenderingQueue&&this.update()}).catch(A=>{console.error("Unable to initialize viewer",A),this._pagesCapability.reject(A)})}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let n=0,a=this._pages.length;n<a;n++){var t,i;this._pages[n].setPageLabel(null!==(t=null===(i=this._pageLabels)||void 0===i?void 0:i[n])&&void 0!==t?t:null)}}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=0,this._currentScaleValue=null,this._pageLabels=null,x(lo,this,new cC(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=$e.VERTICAL,this._previousScrollMode=$e.UNKNOWN,this._spreadMode=ei.NONE,x(yu,this,{previousPageNumber:1,scrollDown:!0,pages:[]}),null===(e=c(uo,this))||void 0===e||e.abort(),x(uo,this,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),null===(t=c(co,this))||void 0===t||t.remove(),x(co,this,null),E(Xe,this,Am).call(this)}_scrollUpdate(){0!==this.pagesCount&&this.update()}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:n=!1}){if(!this.pdfDocument)return;const a=Number.isInteger(e)&&this._pages[e-1];if(!a)return void console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!t)return void this._setCurrentPageNumber(e,!0);let d,p,o=0,l=0,h=0,f=0;const m=a.rotation%180!=0,_=(m?a.height:a.width)/a.scale/an.PDF_TO_CSS_UNITS,w=(m?a.width:a.height)/a.scale/an.PDF_TO_CSS_UNITS;let A=0;switch(t[1].name){case"XYZ":o=t[2],l=t[3],A=t[4],o=null!==o?o:0,l=null!==l?l:w;break;case"Fit":case"FitB":A="page-fit";break;case"FitH":case"FitBH":l=t[2],A="page-width",null===l&&this._location?(o=this._location.left,l=this._location.top):("number"!=typeof l||l<0)&&(l=w);break;case"FitV":case"FitBV":o=t[2],h=_,f=w,A="page-height";break;case"FitR":o=t[2],l=t[3],h=t[4]-o,f=t[5]-l;let S=yv,T=Ev;this.removePageBorders&&(S=T=0),d=(this.container.clientWidth-S)/h/an.PDF_TO_CSS_UNITS,p=(this.container.clientHeight-T)/f/an.PDF_TO_CSS_UNITS,A=Math.min(Math.abs(d),Math.abs(p));break;default:return void console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`)}if(n||(A&&A!==this._currentScale?this.currentScaleValue=A:0===this._currentScale&&(this.currentScaleValue="auto")),"page-fit"===A&&!t[4])return void E(Xe,this,wm).call(this,a);const C=[a.viewport.convertToViewportPoint(o,l),a.viewport.convertToViewportPoint(o+h,l+f)];let b=Math.min(C[0][0],C[1][0]),P=Math.min(C[0][1],C[1][1]);i||(b=Math.max(b,0),P=Math.max(P,0)),E(Xe,this,wm).call(this,a,{left:b,top:P})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,n=parseFloat(i)===t?Math.round(1e4*t)/100:i,a=e.id,l=this.container,h=this._pages[a-1].getPagePoint(l.scrollLeft-e.x,l.scrollTop-e.y),f=Math.round(h[0]),d=Math.round(h[1]);let p=`#page=${a}`;this.isInPresentationMode||(p+=`&zoom=${n},${f},${d}`),this._location={pageNumber:a,scale:n,top:d,left:f,rotation:this._pagesRotation,pdfOpenParams:p}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(0===i)return;const n=Math.max(10,2*i+1);c(lo,this).resize(n,e.ids),this.renderingQueue.renderHighestPriority(e);const a=this._spreadMode===ei.NONE&&(this._scrollMode===$e.PAGE||this._scrollMode===$e.VERTICAL),o=this._currentPageNumber;let l=!1;for(const h of t){if(h.percent<100)break;if(h.id===o&&a){l=!0;break}}this._setCurrentPageNumber(l?o:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return 3===this.presentationModeState}get isChangingPresentationMode(){return 2===this.presentationModeState}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===$e.PAGE?c(yu,this).pages:this._pages,t=this._scrollMode===$e.HORIZONTAL;return function HA({scrollEl:s,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:n=!1}){const a=s.scrollTop,o=a+s.clientHeight,l=s.scrollLeft,h=l+s.clientWidth,p=[],m=new Set,_=e.length;let w=eu(e,i?function d(P){const S=P.div,T=S.offsetLeft+S.clientLeft;return n?T<h:T+S.clientWidth>l}:function f(P){const S=P.div;return S.offsetTop+S.clientTop+S.clientHeight>a});w>0&&w<_&&!i&&(w=function WA(s,e,t){if(s<2)return s;let i=e[s].div,n=i.offsetTop+i.clientTop;n>=t&&(i=e[s-1].div,n=i.offsetTop+i.clientTop);for(let a=s-2;a>=0&&(i=e[a].div,!(i.offsetTop+i.clientTop+i.clientHeight<=n));--a)s=a;return s}(w,e,a));let A=i?h:-1;for(let P=w;P<_;P++){const S=e[P],T=S.div,O=T.offsetLeft+T.clientLeft,M=T.offsetTop+T.clientTop,R=T.clientWidth,I=T.clientHeight,F=O+R,B=M+I;if(-1===A)B>=o&&(A=B);else if((i?O:M)>A)break;if(B<=a||M>=o||F<=l||O>=h)continue;const N=Math.max(0,a-M)+Math.max(0,B-o),j=(R-(Math.max(0,l-O)+Math.max(0,F-h)))/R;p.push({id:S.id,x:O,y:M,view:S,percent:(I-N)/I*j*100|0,widthPercent:100*j|0}),m.add(S.id)}const C=p[0],b=p.at(-1);return t&&p.sort(function(P,S){const T=P.percent-S.percent;return Math.abs(T)>.001?-T:P.id-S.id}),{first:C,last:b,views:p,ids:m}}({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:t&&this._isContainerRtl})}cleanup(){for(const e of this._pages)e.renderingState!==St.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),i=E(Xe,this,wC).call(this,t),a=this.renderingQueue.getHighestPriority(t,this._pages,i,this._spreadMode!==ei.NONE&&this._scrollMode!==$e.HORIZONTAL);return!!a&&(E(Xe,this,_C).call(this,a).then(()=>{this.renderingQueue.renderView(a)}),!0)}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const n=this._pages[t];if(n.width!==e.width||n.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const i=t.pdfPage.getViewport({scale:1}),n=Mv(i);if(void 0===e)e=n;else if(this.enablePrintAutoRotate&&n!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!function $A(s){return Number.isInteger(s)&&Object.values($e).includes(s)&&s!==$e.UNKNOWN}(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>1e4||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===$e.HORIZONTAL),i.classList.toggle("scrollWrapped",t===$e.WRAPPED),this.pdfDocument&&e&&(t===$e.PAGE?E(Xe,this,cd).call(this):this._previousScrollMode===$e.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&E(Xe,this,Ur).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!function jA(s){return Number.isInteger(s)&&Object.values(ei).includes(s)&&s!==ei.UNKNOWN}(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===$e.PAGE)E(Xe,this,cd).call(this);else if(t.textContent="",this._spreadMode===ei.NONE)for(const n of this._pages)t.append(n.div);else{const n=this._spreadMode-1;let a=null;for(let o=0,l=i.length;o<l;++o)null===a?(a=document.createElement("div"),a.className="spread",t.append(a)):o%2===n&&(a=a.cloneNode(!1),t.append(a)),a.append(i[o].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&E(Xe,this,Ur).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case $e.WRAPPED:{const{views:i}=this._getVisiblePages(),n=new Map;for(const{id:a,y:o,percent:l,widthPercent:h}of i){if(0===l||h<100)continue;let f=n.get(o);f||n.set(o,f||(f=[])),f.push(a)}for(const a of n.values()){const o=a.indexOf(e);if(-1===o)continue;const l=a.length;if(1===l)break;if(t)for(let h=o-1,f=0;h>=f;h--){const p=a[h+1]-1;if(a[h]<p)return e-p}else for(let h=o+1,f=l;h<f;h++){const p=a[h-1]+1;if(a[h]>p)return p-e}if(t){const h=a[0];if(h<e)return e-h+1}else{const h=a[l-1];if(h>e)return h-e+1}break}break}case $e.HORIZONTAL:break;case $e.PAGE:case $e.VERTICAL:{if(this._spreadMode===ei.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:n}=this._getVisiblePages(),a=t?e-1:e+1;for(const{id:o,percent:l,widthPercent:h}of n)if(o===a){if(l>0&&100===h)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:n}){if(null===i&&null===t)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let a=this._currentScale;if(t>0&&1!==t)a=Math.round(a*t*100)/100;else if(i){const o=i>0?1.1:1/1.1,l=i>0?Math.ceil:Math.floor;i=Math.abs(i);do{a=l(10*(a*o).toFixed(2))/10}while(--i>0)}a=Math.max(.1,Math.min(10,a)),E(Xe,this,Ur).call(this,a,{noScroll:!1,drawingDelay:e,origin:n})}increaseScale(e={}){var t;this.updateScale({...e,steps:null!==(t=e.steps)&&void 0!==t?t:1})}decreaseScale(e={}){var t;this.updateScale({...e,steps:-(null!==(t=e.steps)&&void 0!==t?t:1)})}get containerTopLeft(){return c(ad,this)||x(ad,this,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return c(Si,this)?c(jn,this):hs.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1}){if(!c(Si,this))throw new Error("The AnnotationEditor is not enabled.");if(c(jn,this)===e)return;if(!L_(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;const{eventBus:n}=this,a=()=>{E(Xe,this,Am).call(this),x(jn,this,e),c(Si,this).updateMode(e,t,i),n.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===hs.NONE||c(jn,this)===hs.NONE){const o=e!==hs.NONE;o||this.pdfDocument.annotationStorage.resetModifiedIds();for(const h of this._pages)h.toggleEditingMode(o);const l=E(Xe,this,vC).call(this);if(o&&l){E(Xe,this,Am).call(this),x(ho,this,({pageNumber:f})=>{l.delete(f),0===l.size&&x(Au,this,setTimeout(a,0))});const{signal:h}=c(uo,this);return void n._on("pagerendered",c(ho,this),{signal:h})}}a()}set annotationEditorParams({type:e,value:t}){if(!c(Si,this))throw new Error("The AnnotationEditor is not enabled.");c(Si,this).updateParams(e,t)}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(t);null!==c(fo,this)&&(clearTimeout(c(fo,this)),x(fo,this,null)),e||this.update()}}}function dC(s){const e={annotationEditorMode:c(jn,this),annotationMode:c(bu,this),textLayerMode:c(hd,this)};return s&&(!s.includes(Hc.COPY)&&1===c(hd,this)&&(e.textLayerMode=2),s.includes(Hc.MODIFY_CONTENTS)||(e.annotationEditorMode=hs.DISABLE),!s.includes(Hc.MODIFY_ANNOTATIONS)&&!s.includes(Hc.FILL_INTERACTIVE_FORMS)&&c(bu,this)===rn.ENABLE_FORMS&&(e.annotationMode=rn.ENABLE)),e}function fC(s){return _m.apply(this,arguments)}function _m(){return(_m=(0,re.A)(function*(s){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return;const e=Promise.withResolvers();function t(){"hidden"===document.visibilityState&&e.resolve()}document.addEventListener("visibilitychange",t,{signal:s}),yield Promise.race([this._onePageRenderedCapability.promise,e.promise]),document.removeEventListener("visibilitychange",t)})).apply(this,arguments)}function pC(s,e){const t=document.getSelection(),{focusNode:i,anchorNode:n}=t;if(n&&i&&t.containsNode(c(co,this))){if(c(od,this)||2===s)return e.preventDefault(),void e.stopPropagation();x(od,this,!0);const{classList:a}=this.viewer;a.add("copyAll");const o=new AbortController;window.addEventListener("keydown",l=>x(ld,this,"Escape"===l.key),{signal:o.signal}),this.getAllText().then(function(){var l=(0,re.A)(function*(h){null!==h&&(yield navigator.clipboard.writeText(h))});return function(h){return l.apply(this,arguments)}}()).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{x(od,this,!1),x(ld,this,!1),o.abort(),a.remove("copyAll")}),e.preventDefault(),e.stopPropagation()}}function cd(){if(this._scrollMode!==$e.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const s=this._currentPageNumber,e=c(yu,this),t=this.viewer;if(t.textContent="",e.pages.length=0,this._spreadMode!==ei.NONE||this.isInPresentationMode){const i=new Set,n=this._spreadMode-1;-1===n?i.add(s-1):s%2!==n?(i.add(s-1),i.add(s)):(i.add(s-2),i.add(s-1));const a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){const o=document.createElement("div");o.className="dummyPage",a.append(o)}for(const o of i){const l=this._pages[o];l&&(a.append(l.div),e.pages.push(l))}t.append(a)}else{const i=this._pages[s-1];t.append(i.div),e.pages.push(i)}e.scrollDown=s>=e.previousPageNumber,e.previousPageNumber=s}function wm(s,e=null){const{div:t,id:i}=s;if(this._currentPageNumber!==i&&this._setCurrentPageNumber(i),this._scrollMode===$e.PAGE&&(E(Xe,this,cd).call(this),this.update()),!e&&!this.isInPresentationMode){const n=t.offsetLeft+t.clientLeft,a=n+t.clientWidth,{scrollLeft:o,clientWidth:l}=this.container;(this._scrollMode===$e.HORIZONTAL||n<o||a>o+l)&&(e={left:0,top:0})}Cv(t,e),!this._currentScaleValue&&this._location&&(this._location=null)}function gC(s){return s===this._currentScale||Math.abs(s-this._currentScale)<1e-15}function R_(s,e,{noScroll:t=!1,preset:i=!1,drawingDelay:n=-1,origin:a=null}){if(this._currentScaleValue=e.toString(),E(Xe,this,gC).call(this,s))return void(i&&this.eventBus.dispatch("scalechanging",{source:this,scale:s,presetValue:e}));this.viewer.style.setProperty("--scale-factor",s*an.PDF_TO_CSS_UNITS);const o=n>=0&&n<1e3;this.refresh(!0,{scale:s,drawingDelay:o?n:-1}),o&&x(fo,this,setTimeout(()=>{x(fo,this,null),this.refresh()},n));const l=this._currentScale;if(this._currentScale=s,!t){let f,h=this._currentPageNumber;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(h=this._location.pageNumber,f=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:h,destArray:f,allowNegativeOffset:!0}),Array.isArray(a)){const d=s/l-1,[p,m]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-m)*d,this.container.scrollTop+=(a[1]-p)*d}}this.eventBus.dispatch("scalechanging",{source:this,scale:s,presetValue:i?e:void 0}),this.defaultRenderingQueue&&this.update()}function mC(s){return s._spreadMode!==ei.NONE&&s._scrollMode!==$e.HORIZONTAL?2:1}function Ur(s,e){let t=parseFloat(s);if(t>0)e.preset=!1,E(Xe,this,R_).call(this,t,s,e);else{const i=this._pages[this._currentPageNumber-1];if(!i)return;let n=yv,a=Ev;this.isInPresentationMode?(n=a=4,this._spreadMode!==ei.NONE&&(n*=2)):this.removePageBorders?n=a=0:this._scrollMode===$e.HORIZONTAL&&([n,a]=[a,n]);const o=(this.container.clientWidth-n)/i.width*i.scale/Ee(Xe,this,mC),l=(this.container.clientHeight-a)/i.height*i.scale;switch(s){case"page-actual":t=1;break;case"page-width":t=o;break;case"page-height":t=l;break;case"page-fit":t=Math.min(o,l);break;case"auto":const h=Mv(i)?o:Math.min(l,o);t=Math.min(OA,h);break;default:return void console.error(`#setScale: "${s}" is an unknown zoom value.`)}e.preset=!0,E(Xe,this,R_).call(this,t,s,e)}}function O_(){const s=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&E(Xe,this,Ur).call(this,this._currentScaleValue,{noScroll:!0}),E(Xe,this,wm).call(this,s)}function vC(){const s=this._getVisiblePages(),e=[],{ids:t,views:i}=s;for(const n of i){const{view:a}=n;a.hasEditableAnnotations()?e.push(n):t.delete(a.id)}return 0===e.length?null:(this.renderingQueue.renderHighestPriority({first:e[0],last:e.at(-1),views:e,ids:t}),t)}function _C(s){return bm.apply(this,arguments)}function bm(){return(bm=(0,re.A)(function*(s){if(s.pdfPage)return s.pdfPage;try{const e=yield this.pdfDocument.getPage(s.id);return s.pdfPage||s.setPdfPage(e),e}catch(e){return console.error("Unable to get page for page view",e),null}})).apply(this,arguments)}function wC(s){var e,t;if(1===(null===(e=s.first)||void 0===e?void 0:e.id))return!0;if((null===(t=s.last)||void 0===t?void 0:t.id)===this.pagesCount)return!1;switch(this._scrollMode){case $e.PAGE:return c(yu,this).scrollDown;case $e.HORIZONTAL:return this.scroll.right}return this.scroll.down}function N_(s=this.container.clientHeight){s!==c(vm,this)&&(x(vm,this,s),GA.setProperty("--viewer-container-height",`${s}px`))}function bC(s){for(const e of s)if(e.target===this.container){E(Xe,this,N_).call(this,Math.floor(e.borderBoxSize[0].blockSize)),x(ad,this,null);break}}function Am(){c(ho,this)&&(this.eventBus._off("pagerendered",c(ho,this)),x(ho,this,null)),null!==c(Au,this)&&(clearTimeout(c(Au,this)),x(Au,this,null))}class AC extends B_{_resetView(){super._resetView(),this._scrollMode=$e.PAGE,this._spreadMode=ei.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}(function CC(){return typeof window>"u"})()||function EC(s,e,t){s[e]=t}(Zn,"verbosity",mv.INFOS),typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let s,e;return{promise:new Promise((i,n)=>{s=i,e=n}),resolve:s,reject:e}});let SC=(()=>{var s;class e{}return s=e,(0,de.A)(e,"\u0275fac",function(i){return new(i||s)}),(0,de.A)(e,"\u0275mod",$.$C({type:s})),(0,de.A)(e,"\u0275inj",$.G2t({})),e})();const PC={validation:!1};let MC=(()=>{var s;class e{}return(s=e).\u0275fac=function(i){return new(i||s)},s.\u0275mod=$.$C({type:s}),s.\u0275inj=$.G2t({imports:[Ze.MD,rt.YN,Pt.bv,Bs.forRoot(PC),SC,Kd]}),e})()},8244:function($_,Eu){!function(ne){"use strict";function Ze(r){var u,g,v,y;for(g=1,v=arguments.length;g<v;g++)for(u in y=arguments[g])r[u]=y[u];return r}var Pt=Object.create||function(){function r(){}return function(u){return r.prototype=u,new r}}();function rt(r,u){var g=Array.prototype.slice;if(r.bind)return r.bind.apply(r,g.call(arguments,1));var v=g.call(arguments,2);return function(){return r.apply(u,v.length?v.concat(g.call(arguments)):arguments)}}var Qr=0;function Re(r){return"_leaflet_id"in r||(r._leaflet_id=++Qr),r._leaflet_id}function po(r,u,g){var v,y,D,W;return W=function(){v=!1,y&&(D.apply(g,y),y=!1)},D=function(){v?y=arguments:(r.apply(g,arguments),setTimeout(W,u),v=!0)},D}function Ts(r,u,g){var v=u[1],y=u[0],D=v-y;return r===v&&g?r:((r-y)%D+D)%D+y}function gt(){return!1}function at(r,u){if(!1===u)return r;var g=Math.pow(10,void 0===u?6:u);return Math.round(r*g)/g}function go(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Qe(r){return go(r).split(/\s+/)}function je(r,u){for(var g in Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?Pt(r.options):{}),u)r.options[g]=u[g];return r.options}function Cu(r,u,g){var v=[];for(var y in r)v.push(encodeURIComponent(g?y.toUpperCase():y)+"="+encodeURIComponent(r[y]));return(u&&-1!==u.indexOf("?")?"&":"?")+v.join("&")}var Ds=/\{ *([\w_ -]+) *\}/g;function si(r,u){return r.replace(Ds,function(g,v){var y=u[v];if(void 0===y)throw new Error("No value provided for variable "+g);return"function"==typeof y&&(y=y(u)),y})}var ki=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};function qn(r,u){for(var g=0;g<r.length;g++)if(r[g]===u)return g;return-1}var ps="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function mo(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var Yt=0;function cn(r){var u=+new Date,g=Math.max(0,16-(u-Yt));return Yt=u+g,window.setTimeout(r,g)}var Jr=window.requestAnimationFrame||mo("RequestAnimationFrame")||cn,gs=window.cancelAnimationFrame||mo("CancelAnimationFrame")||mo("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function qe(r,u,g){if(!g||Jr!==cn)return Jr.call(window,rt(r,u));r.call(u)}function fi(r){r&&gs.call(window,r)}var ea={__proto__:null,extend:Ze,create:Pt,bind:rt,get lastId(){return Qr},stamp:Re,throttle:po,wrapNum:Ts,falseFn:gt,formatNum:at,trim:go,splitWords:Qe,setOptions:je,getParamString:Cu,template:si,isArray:ki,indexOf:qn,emptyImageUrl:ps,requestFn:Jr,cancelFn:gs,requestAnimFrame:qe,cancelAnimFrame:fi};function _t(){}_t.extend=function(r){var u=function(){je(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=u.__super__=this.prototype,v=Pt(g);for(var y in v.constructor=u,u.prototype=v,this)Object.prototype.hasOwnProperty.call(this,y)&&"prototype"!==y&&"__super__"!==y&&(u[y]=this[y]);return r.statics&&Ze(u,r.statics),r.includes&&(function ta(r){if(!(typeof L>"u")&&L&&L.Mixin){r=ki(r)?r:[r];for(var u=0;u<r.length;u++)r[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(r.includes),Ze.apply(null,[v].concat(r.includes))),Ze(v,r),delete v.statics,delete v.includes,v.options&&(v.options=g.options?Pt(g.options):{},Ze(v.options,r.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,W=v._initHooks.length;D<W;D++)v._initHooks[D].call(this)}},u},_t.include=function(r){var u=this.prototype.options;return Ze(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},_t.mergeOptions=function(r){return Ze(this.prototype.options,r),this},_t.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),g="function"==typeof r?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};var ni={on:function(r,u,g){if("object"==typeof r)for(var v in r)this._on(v,r[v],u);else for(var y=0,D=(r=Qe(r)).length;y<D;y++)this._on(r[y],u,g);return this},off:function(r,u,g){if(arguments.length)if("object"==typeof r)for(var v in r)this._off(v,r[v],u);else{r=Qe(r);for(var y=1===arguments.length,D=0,W=r.length;D<W;D++)y?this._off(r[D]):this._off(r[D],u,g)}else delete this._events;return this},_on:function(r,u,g,v){if("function"==typeof u){if(!1===this._listens(r,u,g)){g===this&&(g=void 0);var y={fn:u,ctx:g};v&&(y.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(y)}}else console.warn("wrong listener type: "+typeof u)},_off:function(r,u,g){var v,y,D;if(this._events&&(v=this._events[r])){if(1===arguments.length){if(this._firingCount)for(y=0,D=v.length;y<D;y++)v[y].fn=gt;return void delete this._events[r]}if("function"!=typeof u)return void console.warn("wrong listener type: "+typeof u);var W=this._listens(r,u,g);!1!==W&&(this._firingCount&&(v[W].fn=gt,this._events[r]=v=v.slice()),v.splice(W,1))}},fire:function(r,u,g){if(!this.listens(r,g))return this;var v=Ze({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var y=this._events[r];if(y){this._firingCount=this._firingCount+1||1;for(var D=0,W=y.length;D<W;D++){var U=y[D],X=U.fn;U.once&&this.off(r,X,U.ctx),X.call(U.ctx||this,v)}this._firingCount--}}return g&&this._propagateEvent(v),this},listens:function(r,u,g,v){"string"!=typeof r&&console.warn('"string" type argument expected');var y=u;"function"!=typeof u&&(v=!!u,y=void 0,g=void 0);var D=this._events&&this._events[r];if(D&&D.length&&!1!==this._listens(r,y,g))return!0;if(v)for(var W in this._eventParents)if(this._eventParents[W].listens(r,u,g,v))return!0;return!1},_listens:function(r,u,g){if(!this._events)return!1;var v=this._events[r]||[];if(!u)return!!v.length;g===this&&(g=void 0);for(var y=0,D=v.length;y<D;y++)if(v[y].fn===u&&v[y].ctx===g)return y;return!1},once:function(r,u,g){if("object"==typeof r)for(var v in r)this._on(v,r[v],u,!0);else for(var y=0,D=(r=Qe(r)).length;y<D;y++)this._on(r[y],u,g,!0);return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[Re(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[Re(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,Ze({layer:r.target,propagatedFrom:r.target},r),!0)}};ni.addEventListener=ni.on,ni.removeEventListener=ni.clearAllEventListeners=ni.off,ni.addOneTimeEventListener=ni.once,ni.fireEvent=ni.fire,ni.hasEventListeners=ni.listens;var Yn=_t.extend(ni);function ye(r,u,g){this.x=g?Math.round(r):r,this.y=g?Math.round(u):u}var dn=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};function be(r,u,g){return r instanceof ye?r:ki(r)?new ye(r[0],r[1]):null==r?r:"object"==typeof r&&"x"in r&&"y"in r?new ye(r.x,r.y):new ye(r,u,g)}function it(r,u){if(r)for(var g=u?[r,u]:r,v=0,y=g.length;v<y;v++)this.extend(g[v])}function Ht(r,u){return!r||r instanceof it?r:new it(r,u)}function Ae(r,u){if(r)for(var g=u?[r,u]:r,v=0,y=g.length;v<y;v++)this.extend(g[v])}function dt(r,u){return r instanceof Ae?r:new Ae(r,u)}function Ye(r,u,g){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,void 0!==g&&(this.alt=+g)}function We(r,u,g){return r instanceof Ye?r:ki(r)&&"object"!=typeof r[0]?3===r.length?new Ye(r[0],r[1],r[2]):2===r.length?new Ye(r[0],r[1]):null:null==r?r:"object"==typeof r&&"lat"in r?new Ye(r.lat,"lng"in r?r.lng:r.lon,r.alt):void 0===u?null:new Ye(r,u,g)}ye.prototype={clone:function(){return new ye(this.x,this.y)},add:function(r){return this.clone()._add(be(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(be(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new ye(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new ye(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=dn(this.x),this.y=dn(this.y),this},distanceTo:function(r){var u=(r=be(r)).x-this.x,g=r.y-this.y;return Math.sqrt(u*u+g*g)},equals:function(r){return(r=be(r)).x===this.x&&r.y===this.y},contains:function(r){return r=be(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+at(this.x)+", "+at(this.y)+")"}},it.prototype={extend:function(r){var u,g;if(!r)return this;if(r instanceof ye||"number"==typeof r[0]||"x"in r)u=g=be(r);else if(g=(r=Ht(r)).max,!(u=r.min)||!g)return this;return this.min||this.max?(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)):(this.min=u.clone(),this.max=g.clone()),this},getCenter:function(r){return be((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return be(this.min.x,this.max.y)},getTopRight:function(){return be(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,g;return(r="number"==typeof r[0]||r instanceof ye?be(r):Ht(r))instanceof it?(u=r.min,g=r.max):u=g=r,u.x>=this.min.x&&g.x<=this.max.x&&u.y>=this.min.y&&g.y<=this.max.y},intersects:function(r){r=Ht(r);var u=this.min,g=this.max,v=r.min,y=r.max;return y.x>=u.x&&v.x<=g.x&&y.y>=u.y&&v.y<=g.y},overlaps:function(r){r=Ht(r);var u=this.min,g=this.max,v=r.min,y=r.max;return y.x>u.x&&v.x<g.x&&y.y>u.y&&v.y<g.y},isValid:function(){return!(!this.min||!this.max)},pad:function(r){var u=this.min,g=this.max,v=Math.abs(u.x-g.x)*r,y=Math.abs(u.y-g.y)*r;return Ht(be(u.x-v,u.y-y),be(g.x+v,g.y+y))},equals:function(r){return!!r&&(r=Ht(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight()))}},Ae.prototype={extend:function(r){var v,y,u=this._southWest,g=this._northEast;if(r instanceof Ye)v=r,y=r;else{if(!(r instanceof Ae))return r?this.extend(We(r)||dt(r)):this;if(y=r._northEast,!(v=r._southWest)||!y)return this}return u||g?(u.lat=Math.min(v.lat,u.lat),u.lng=Math.min(v.lng,u.lng),g.lat=Math.max(y.lat,g.lat),g.lng=Math.max(y.lng,g.lng)):(this._southWest=new Ye(v.lat,v.lng),this._northEast=new Ye(y.lat,y.lng)),this},pad:function(r){var u=this._southWest,g=this._northEast,v=Math.abs(u.lat-g.lat)*r,y=Math.abs(u.lng-g.lng)*r;return new Ae(new Ye(u.lat-v,u.lng-y),new Ye(g.lat+v,g.lng+y))},getCenter:function(){return new Ye((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ye(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ye(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){r="number"==typeof r[0]||r instanceof Ye||"lat"in r?We(r):dt(r);var v,y,u=this._southWest,g=this._northEast;return r instanceof Ae?(v=r.getSouthWest(),y=r.getNorthEast()):v=y=r,v.lat>=u.lat&&y.lat<=g.lat&&v.lng>=u.lng&&y.lng<=g.lng},intersects:function(r){r=dt(r);var u=this._southWest,g=this._northEast,v=r.getSouthWest(),y=r.getNorthEast();return y.lat>=u.lat&&v.lat<=g.lat&&y.lng>=u.lng&&v.lng<=g.lng},overlaps:function(r){r=dt(r);var u=this._southWest,g=this._northEast,v=r.getSouthWest(),y=r.getNorthEast();return y.lat>u.lat&&v.lat<g.lat&&y.lng>u.lng&&v.lng<g.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return!!r&&(r=dt(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u))},isValid:function(){return!(!this._southWest||!this._northEast)}},Ye.prototype={equals:function(r,u){return!!r&&(r=We(r),Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng))<=(void 0===u?1e-9:u))},toString:function(r){return"LatLng("+at(this.lat,r)+", "+at(this.lng,r)+")"},distanceTo:function(r){return Ni.distance(this,We(r))},wrap:function(){return Ni.wrapLatLng(this)},toBounds:function(r){var u=180*r/40075017,g=u/Math.cos(Math.PI/180*this.lat);return dt([this.lat-u,this.lng-g],[this.lat+u,this.lng+g])},clone:function(){return new Ye(this.lat,this.lng,this.alt)}};var r,Oi={latLngToPoint:function(r,u){var g=this.projection.project(r),v=this.scale(u);return this.transformation._transform(g,v)},pointToLatLng:function(r,u){var g=this.scale(u),v=this.transformation.untransform(r,g);return this.projection.unproject(v)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var u=this.projection.bounds,g=this.scale(r);return new it(this.transformation.transform(u.min,g),this.transformation.transform(u.max,g))},infinite:!1,wrapLatLng:function(r){var u=this.wrapLng?Ts(r.lng,this.wrapLng,!0):r.lng;return new Ye(this.wrapLat?Ts(r.lat,this.wrapLat,!0):r.lat,u,r.alt)},wrapLatLngBounds:function(r){var u=r.getCenter(),g=this.wrapLatLng(u),v=u.lat-g.lat,y=u.lng-g.lng;if(0===v&&0===y)return r;var D=r.getSouthWest(),W=r.getNorthEast();return new Ae(new Ye(D.lat-v,D.lng-y),new Ye(W.lat-v,W.lng-y))}},Ni=Ze({},Oi,{wrapLng:[-180,180],R:6371e3,distance:function(r,u){var g=Math.PI/180,v=r.lat*g,y=u.lat*g,D=Math.sin((u.lat-r.lat)*g/2),W=Math.sin((u.lng-r.lng)*g/2),U=D*D+Math.cos(v)*Math.cos(y)*W*W,X=2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U));return this.R*X}}),ia={R:6378137,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,g=this.MAX_LATITUDE,v=Math.max(Math.min(g,r.lat),-g),y=Math.sin(v*u);return new ye(this.R*r.lng*u,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(r){var u=180/Math.PI;return new Ye((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:(r=6378137*Math.PI,new it([-r,-r],[r,r]))};function Kn(r,u,g,v){if(ki(r))return this._a=r[0],this._b=r[1],this._c=r[2],void(this._d=r[3]);this._a=r,this._b=u,this._c=g,this._d=v}function Qn(r,u,g,v){return new Kn(r,u,g,v)}Kn.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return r.x=(u=u||1)*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return new ye((r.x/(u=u||1)-this._b)/this._a,(r.y/u-this._d)/this._c)}};var vo=Ze({},Ni,{code:"EPSG:3857",projection:ia,transformation:function(){var r=.5/(Math.PI*ia.R);return Qn(r,.5,-r,.5)}()}),pd=Ze({},vo,{code:"EPSG:900913"});function Su(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Pu(r,u){var v,y,D,W,U,X,g="";for(v=0,D=r.length;v<D;v++){for(y=0,W=(U=r[v]).length;y<W;y++)g+=(y?"L":"M")+(X=U[y]).x+" "+X.y;g+=u?ce.svg?"z":"x":""}return g||"M0 0"}var _o=document.documentElement.style,sa="ActiveXObject"in window,gd=sa&&!document.addEventListener,Mu="msLaunchUri"in navigator&&!("documentMode"in document),na=zi("webkit"),ku=zi("android"),Tu=zi("android 2")||zi("android 3"),wo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),md=ku&&zi("Google")&&wo<537&&!("AudioNode"in window),fn=!!window.opera,ra=!Mu&&zi("chrome"),aa=zi("gecko")&&!na&&!fn&&!sa,vd=!ra&&zi("safari"),Du=zi("phantom"),Fu="OTransition"in _o,_d=0===navigator.platform.indexOf("Win"),Lu=sa&&"transition"in _o,bo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Tu,Iu="MozPerspective"in _o,wd=!window.L_DISABLE_3D&&(Lu||bo||Iu)&&!Fu&&!Du,Jn=typeof orientation<"u"||zi("mobile"),bd=Jn&&na,Ad=Jn&&bo,Ao=!window.PointerEvent&&window.MSPointerEvent,Bu=!(!window.PointerEvent&&!Ao),Ru="ontouchstart"in window||!!window.TouchEvent,yd=!window.L_NO_TOUCH&&(Ru||Bu),Ed=Jn&&fn,Cd=Jn&&aa,xd=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Sd=function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",gt,u),window.removeEventListener("testPassiveEventSupport",gt,u)}catch{}return r}(),Pd=!!document.createElement("canvas").getContext,yo=!(!document.createElementNS||!Su("svg").createSVGRect),Md=!!yo&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(r.firstChild&&r.firstChild.namespaceURI)}(),kd=!yo&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var u=r.firstChild;return u.style.behavior="url(#default#VML)",u&&"object"==typeof u.adj}catch{return!1}}();function zi(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var ce={ie:sa,ielt9:gd,edge:Mu,webkit:na,android:ku,android23:Tu,androidStock:md,opera:fn,chrome:ra,gecko:aa,safari:vd,phantom:Du,opera12:Fu,win:_d,ie3d:Lu,webkit3d:bo,gecko3d:Iu,any3d:wd,mobile:Jn,mobileWebkit:bd,mobileWebkit3d:Ad,msPointer:Ao,pointer:Bu,touch:yd,touchNative:Ru,mobileOpera:Ed,mobileGecko:Cd,retina:xd,passiveEvents:Sd,canvas:Pd,svg:yo,vml:kd,inlineSvg:Md,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Ou=ce.msPointer?"MSPointerDown":"pointerdown",Nu=ce.msPointer?"MSPointerMove":"pointermove",zu=ce.msPointer?"MSPointerUp":"pointerup",Wu=ce.msPointer?"MSPointerCancel":"pointercancel",oa={touchstart:Ou,touchmove:Nu,touchend:zu,touchcancel:Wu},Hu={touchstart:function Bd(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ot(u),la(r,u)},touchmove:la,touchend:la,touchcancel:la},pn={},Vu=!1;function $u(r,u,g){return"touchstart"===u&&function Gu(){Vu||(document.addEventListener(Ou,Ld,!0),document.addEventListener(Nu,Id,!0),document.addEventListener(zu,ju,!0),document.addEventListener(Wu,ju,!0),Vu=!0)}(),Hu[u]?(g=Hu[u].bind(this,g),r.addEventListener(oa[u],g,!1),g):(console.warn("wrong event specified:",u),gt)}function Ld(r){pn[r.pointerId]=r}function Id(r){pn[r.pointerId]&&(pn[r.pointerId]=r)}function ju(r){delete pn[r.pointerId]}function la(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){for(var g in u.touches=[],pn)u.touches.push(pn[g]);u.changedTouches=[u],r(u)}}var Uu=200;var sr,nr,xo,ha,Mo,Eo=pi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),er=pi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xu="webkitTransition"===er||"OTransition"===er?er+"End":"transitionend";function Zu(r){return"string"==typeof r?document.getElementById(r):r}function tr(r,u){var g=r.style[u]||r.currentStyle&&r.currentStyle[u];if((!g||"auto"===g)&&document.defaultView){var v=document.defaultView.getComputedStyle(r,null);g=v?v[u]:null}return"auto"===g?null:g}function Ve(r,u,g){var v=document.createElement(r);return v.className=u||"",g&&g.appendChild(v),v}function ft(r){var u=r.parentNode;u&&u.removeChild(r)}function gn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function mn(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function ms(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function ir(r,u){if(void 0!==r.classList)return r.classList.contains(u);var g=ua(r);return g.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(g)}function me(r,u){if(void 0!==r.classList)for(var g=Qe(u),v=0,y=g.length;v<y;v++)r.classList.add(g[v]);else if(!ir(r,u)){var D=ua(r);Co(r,(D?D+" ":"")+u)}}function wt(r,u){void 0!==r.classList?r.classList.remove(u):Co(r,go((" "+ua(r)+" ").replace(" "+u+" "," ")))}function Co(r,u){void 0===r.className.baseVal?r.className=u:r.className.baseVal=u}function ua(r){return r.correspondingElement&&(r=r.correspondingElement),void 0===r.className.baseVal?r.className:r.className.baseVal}function Kt(r,u){"opacity"in r.style?r.style.opacity=u:"filter"in r.style&&function zd(r,u){var g=!1,v="DXImageTransform.Microsoft.Alpha";try{g=r.filters.item(v)}catch{if(1===u)return}u=Math.round(100*u),g?(g.Enabled=100!==u,g.Opacity=u):r.style.filter+=" progid:"+v+"(opacity="+u+")"}(r,u)}function pi(r){for(var u=document.documentElement.style,g=0;g<r.length;g++)if(r[g]in u)return r[g];return!1}function Fs(r,u,g){var v=u||new ye(0,0);r.style[Eo]=(ce.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(g?" scale("+g+")":"")}function Ct(r,u){r._leaflet_pos=u,ce.any3d?Fs(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function Ls(r){return r._leaflet_pos||new ye(0,0)}if("onselectstart"in document)sr=function(){Le(window,"selectstart",Ot)},nr=function(){Ge(window,"selectstart",Ot)};else{var rr=pi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);sr=function(){if(rr){var r=document.documentElement.style;xo=r[rr],r[rr]="none"}},nr=function(){rr&&(document.documentElement.style[rr]=xo,xo=void 0)}}function So(){Le(window,"dragstart",Ot)}function Po(){Ge(window,"dragstart",Ot)}function ko(r){for(;-1===r.tabIndex;)r=r.parentNode;r.style&&(ca(),ha=r,Mo=r.style.outlineStyle,r.style.outlineStyle="none",Le(window,"keydown",ca))}function ca(){ha&&(ha.style.outlineStyle=Mo,ha=void 0,Mo=void 0,Ge(window,"keydown",ca))}function qu(r){do{r=r.parentNode}while(!(r.offsetWidth&&r.offsetHeight||r===document.body));return r}function To(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}var Wd={__proto__:null,TRANSFORM:Eo,TRANSITION:er,TRANSITION_END:Xu,get:Zu,getStyle:tr,create:Ve,remove:ft,empty:gn,toFront:mn,toBack:ms,hasClass:ir,addClass:me,removeClass:wt,setClass:Co,getClass:ua,setOpacity:Kt,testProp:pi,setTransform:Fs,setPosition:Ct,getPosition:Ls,get disableTextSelection(){return sr},get enableTextSelection(){return nr},disableImageDrag:So,enableImageDrag:Po,preventOutline:ko,restoreOutline:ca,getSizedParentNode:qu,getScale:To};function Le(r,u,g,v){if(u&&"object"==typeof u)for(var y in u)Do(r,y,u[y],g);else for(var D=0,W=(u=Qe(u)).length;D<W;D++)Do(r,u[D],g,v);return this}var Wi="_leaflet_events";function Ge(r,u,g,v){if(1===arguments.length)vn(r),delete r[Wi];else if(u&&"object"==typeof u)for(var y in u)Fo(r,y,u[y],g);else if(u=Qe(u),2===arguments.length)vn(r,function(U){return-1!==qn(u,U)});else for(var D=0,W=u.length;D<W;D++)Fo(r,u[D],g,v);return this}function vn(r,u){for(var g in r[Wi]){var v=g.split(/\d/)[0];(!u||u(v))&&Fo(r,v,null,null,g)}}var _n={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Do(r,u,g,v){var y=u+Re(g)+(v?"_"+Re(v):"");if(r[Wi]&&r[Wi][y])return this;var D=function(U){return g.call(v||r,U||window.event)},W=D;!ce.touchNative&&ce.pointer&&0===u.indexOf("touch")?D=$u(r,u,D):ce.touch&&"dblclick"===u?D=function Od(r,u){r.addEventListener("dblclick",u);var v,g=0;function y(D){if(1===D.detail){if("mouse"!==D.pointerType&&(!D.sourceCapabilities||D.sourceCapabilities.firesTouchEvents)){var W=Yu(D);if(!W.some(function(X){return X instanceof HTMLLabelElement&&X.attributes.for})||W.some(function(X){return X instanceof HTMLInputElement||X instanceof HTMLSelectElement})){var U=Date.now();U-g<=Uu?2==++v&&u(function Rd(r){var g,v,u={};for(v in r)u[v]=(g=r[v])&&g.bind?g.bind(r):g;return r=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}(D)):v=1,g=U}}}else v=D.detail}return r.addEventListener("click",y),{dblclick:u,simDblclick:y}}(r,D):"addEventListener"in r?"touchstart"===u||"touchmove"===u||"wheel"===u||"mousewheel"===u?r.addEventListener(_n[u]||u,D,!!ce.passiveEvents&&{passive:!1}):"mouseenter"===u||"mouseleave"===u?r.addEventListener(_n[u],D=function(U){U=U||window.event,Io(r,U)&&W(U)},!1):r.addEventListener(u,W,!1):r.attachEvent("on"+u,D),r[Wi]=r[Wi]||{},r[Wi][y]=D}function Fo(r,u,g,v,y){y=y||u+Re(g)+(v?"_"+Re(v):"");var D=r[Wi]&&r[Wi][y];if(!D)return this;!ce.touchNative&&ce.pointer&&0===u.indexOf("touch")?function Fd(r,u,g){oa[u]?r.removeEventListener(oa[u],g,!1):console.warn("wrong event specified:",u)}(r,u,D):ce.touch&&"dblclick"===u?function Nd(r,u){r.removeEventListener("dblclick",u.dblclick),r.removeEventListener("click",u.simDblclick)}(r,D):"removeEventListener"in r?r.removeEventListener(_n[u]||u,D,!1):r.detachEvent("on"+u,D),r[Wi][y]=null}function gi(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Lo(r){return Do(r,"wheel",gi),this}function ar(r){return Le(r,"mousedown touchstart dblclick contextmenu",gi),r._leaflet_disable_click=!0,this}function Ot(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Is(r){return Ot(r),gi(r),this}function Yu(r){if(r.composedPath)return r.composedPath();for(var u=[],g=r.target;g;)u.push(g),g=g.parentNode;return u}function or(r,u){if(!u)return new ye(r.clientX,r.clientY);var g=To(u),v=g.boundingClientRect;return new ye((r.clientX-v.left)/g.x-u.clientLeft,(r.clientY-v.top)/g.y-u.clientTop)}var wn=ce.linux&&ce.chrome?window.devicePixelRatio:ce.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function da(r){return ce.edge?r.wheelDeltaY/2:r.deltaY&&0===r.deltaMode?-r.deltaY/wn:r.deltaY&&1===r.deltaMode?20*-r.deltaY:r.deltaY&&2===r.deltaMode?60*-r.deltaY:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?20*-r.detail:r.detail?r.detail/-32765*60:0}function Io(r,u){var g=u.relatedTarget;if(!g)return!0;try{for(;g&&g!==r;)g=g.parentNode}catch{return!1}return g!==r}var Hd={__proto__:null,on:Le,off:Ge,stopPropagation:gi,disableScrollPropagation:Lo,disableClickPropagation:ar,preventDefault:Ot,stop:Is,getPropagationPath:Yu,getMousePosition:or,getWheelDelta:da,isExternalTarget:Io,addListener:Le,removeListener:Ge},Ku=Yn.extend({run:function(r,u,g,v){this.stop(),this._el=r,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=Ls(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=qe(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,g=1e3*this._duration;u<g?this._runFrame(this._easeOut(u/g),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){var g=this._startPos.add(this._offset.multiplyBy(r));u&&g._round(),Ct(this._el,g),this.fire("step")},_complete:function(){fi(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),He=Yn.extend({options:{crs:vo,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=je(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=rt(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),void 0!==u.zoom&&(this._zoom=this._limitZoom(u.zoom)),u.center&&void 0!==u.zoom&&this.setView(We(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=er&&ce.any3d&&!ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Le(this._proxy,Xu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,g){return u=void 0===u?this._zoom:this._limitZoom(u),r=this._limitCenter(We(r),u,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&!0!==g&&(void 0!==g.animate&&(g.zoom=Ze({animate:g.animate},g.zoom),g.pan=Ze({animate:g.animate,duration:g.duration},g.pan)),this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,g.zoom):this._tryAnimatedPan(r,g.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(r,u,g.pan&&g.pan.noMoveStart),this)},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return this.setZoom(this._zoom+(r=r||(ce.any3d?this.options.zoomDelta:1)),u)},zoomOut:function(r,u){return this.setZoom(this._zoom-(r=r||(ce.any3d?this.options.zoomDelta:1)),u)},setZoomAround:function(r,u,g){var v=this.getZoomScale(u),y=this.getSize().divideBy(2),W=(r instanceof ye?r:this.latLngToContainerPoint(r)).subtract(y).multiplyBy(1-1/v),U=this.containerPointToLatLng(y.add(W));return this.setView(U,u,{zoom:g})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():dt(r);var g=be(u.paddingTopLeft||u.padding||[0,0]),v=be(u.paddingBottomRight||u.padding||[0,0]),y=this.getBoundsZoom(r,!1,g.add(v));if((y="number"==typeof u.maxZoom?Math.min(u.maxZoom,y):y)===1/0)return{center:r.getCenter(),zoom:y};var D=v.subtract(g).divideBy(2),W=this.project(r.getSouthWest(),y),U=this.project(r.getNorthEast(),y);return{center:this.unproject(W.add(U).divideBy(2).add(D),y),zoom:y}},fitBounds:function(r,u){if(!(r=dt(r)).isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(r,u);return this.setView(g.center,g.zoom,u)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){if(u=u||{},!(r=be(r).round()).x&&!r.y)return this.fire("moveend");if(!0!==u.animate&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ku,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),!1!==u.animate){me(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,g,u.duration||.25,u.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,u,g){if(!1===(g=g||{}).animate||!ce.any3d)return this.setView(r,u,g);this._stop();var v=this.project(this.getCenter()),y=this.project(r),D=this.getSize(),W=this._zoom;r=We(r),u=void 0===u?W:u;var U=Math.max(D.x,D.y),X=U*this.getZoomScale(W,u),ie=y.distanceTo(v)||1,q=1.42,_e=q*q;function Oe(Je){var yn=(X*X-U*U+(Je?-1:1)*_e*_e*ie*ie)/(2*(Je?X:U)*_e*ie),Ca=Math.sqrt(yn*yn+1)-yn;return Ca<1e-9?-18:Math.log(Ca)}function jt(Je){return(Math.exp(Je)-Math.exp(-Je))/2}function Nt(Je){return(Math.exp(Je)+Math.exp(-Je))/2}var ai=Oe(0);function Mm(Je){return U*(Nt(ai)*function wi(Je){return jt(Je)/Nt(Je)}(ai+q*Je)-jt(ai))/_e}var vh=Date.now(),_h=(Oe(1)-ai)/q,rf=g.duration?1e3*g.duration:1e3*_h*.8;return this._moveStart(!0,g.noMoveStart),function Go(){var Je=(Date.now()-vh)/rf,Hs=function jo(Je){return 1-Math.pow(1-Je,1.5)}(Je)*_h;Je<=1?(this._flyToFrame=qe(Go,this),this._move(this.unproject(v.add(y.subtract(v).multiplyBy(Mm(Hs)/ie)),W),this.getScaleZoom(U/function _r(Je){return U*(Nt(ai)/Nt(ai+q*Je))}(Hs),W),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}.call(this),this},flyToBounds:function(r,u){var g=this._getBoundsCenterZoom(r,u);return this.flyTo(g.center,g.zoom,u)},setMaxBounds:function(r){return r=dt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,u){this._enforcingBounds=!0;var g=this.getCenter(),v=this._limitCenter(g,this._zoom,dt(r));return g.equals(v)||this.panTo(v,u),this._enforcingBounds=!1,this},panInside:function(r,u){var g=be((u=u||{}).paddingTopLeft||u.padding||[0,0]),v=be(u.paddingBottomRight||u.padding||[0,0]),y=this.project(this.getCenter()),D=this.project(r),W=this.getPixelBounds(),U=Ht([W.min.add(g),W.max.subtract(v)]),X=U.getSize();if(!U.contains(D)){this._enforcingBounds=!0;var ie=D.subtract(U.getCenter()),q=U.extend(D).getSize().subtract(X);y.x+=ie.x<0?-q.x:q.x,y.y+=ie.y<0?-q.y:q.y,this.panTo(this.unproject(y),u),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=Ze({animate:!1,pan:!0},!0===r?{animate:!0}:r);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),v=u.divideBy(2).round(),y=g.divideBy(2).round(),D=v.subtract(y);return D.x||D.y?(r.animate&&r.pan?this.panBy(D):(r.pan&&this._rawPanBy(D),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(rt(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:g})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=Ze({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=rt(this._handleGeolocationResponse,this),g=rt(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,g,r):navigator.geolocation.getCurrentPosition(u,g,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var u=r.code,g=r.message||(1===u?"permission denied":2===u?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var v=new Ye(r.coords.latitude,r.coords.longitude),y=v.toBounds(2*r.coords.accuracy),D=this._locateOptions;if(D.setView){var W=this.getBoundsZoom(y);this.setView(v,D.maxZoom?Math.min(W,D.maxZoom):W)}var U={latlng:v,bounds:y,timestamp:r.timestamp};for(var X in r.coords)"number"==typeof r.coords[X]&&(U[X]=r.coords[X]);this.fire("locationfound",U)}},addHandler:function(r,u){if(!u)return this;var g=this[r]=new u(this);return this._handlers.push(g),this.options[r]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var r;for(r in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(fi(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[r].remove();for(r in this._panes)ft(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){var v=Ve("div","leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),u||this._mapPane);return r&&(this._panes[r]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds();return new Ae(this.unproject(r.getBottomLeft()),this.unproject(r.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,u,g){r=dt(r),g=be(g||[0,0]);var v=this.getZoom()||0,y=this.getMinZoom(),D=this.getMaxZoom(),W=r.getNorthWest(),U=r.getSouthEast(),X=this.getSize().subtract(g),ie=Ht(this.project(U,v),this.project(W,v)).getSize(),q=ce.any3d?this.options.zoomSnap:1,_e=X.x/ie.x,Oe=X.y/ie.y,jt=u?Math.max(_e,Oe):Math.min(_e,Oe);return v=this.getScaleZoom(jt,v),q&&(v=Math.round(v/(q/100))*(q/100),v=u?Math.ceil(v/q)*q:Math.floor(v/q)*q),Math.max(y,Math.min(D,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ye(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){var g=this._getTopLeftPoint(r,u);return new it(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(void 0===r?this.getZoom():r)},getPane:function(r){return"string"==typeof r?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var g=this.options.crs;return u=void 0===u?this._zoom:u,g.scale(r)/g.scale(u)},getScaleZoom:function(r,u){var g=this.options.crs,v=g.zoom(r*g.scale(u=void 0===u?this._zoom:u));return isNaN(v)?1/0:v},project:function(r,u){return u=void 0===u?this._zoom:u,this.options.crs.latLngToPoint(We(r),u)},unproject:function(r,u){return u=void 0===u?this._zoom:u,this.options.crs.pointToLatLng(be(r),u)},layerPointToLatLng:function(r){var u=be(r).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(r){return this.project(We(r))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(We(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(dt(r))},distance:function(r,u){return this.options.crs.distance(We(r),We(u))},containerPointToLayerPoint:function(r){return be(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return be(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var u=this.containerPointToLayerPoint(be(r));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(We(r)))},mouseEventToContainerPoint:function(r){return or(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var u=this._container=Zu(r);if(!u)throw new Error("Map container not found.");if(u._leaflet_id)throw new Error("Map container is already initialized.");Le(u,"scroll",this._onScroll,this),this._containerId=Re(u)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&ce.any3d,me(r,"leaflet-container"+(ce.touch?" leaflet-touch":"")+(ce.retina?" leaflet-retina":"")+(ce.ielt9?" leaflet-oldie":"")+(ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=tr(r,"position");"absolute"!==u&&"relative"!==u&&"fixed"!==u&&"sticky"!==u&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new ye(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(me(r.markerPane,"leaflet-zoom-hide"),me(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,g){Ct(this._mapPane,new ye(0,0));var v=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var y=this._zoom!==u;this._moveStart(y,g)._move(r,u)._moveEnd(y),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,g,v){void 0===u&&(u=this._zoom);var y=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),v?g&&g.pinch&&this.fire("zoom",g):((y||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return fi(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Ct(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[Re(this._container)]=this;var u=r?Ge:Le;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),ce.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){fi(this._resizeRequest),this._resizeRequest=qe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var v,g=[],y="mouseout"===u||"mouseover"===u,D=r.target||r.srcElement,W=!1;D;){if((v=this._targets[Re(D)])&&("click"===u||"preclick"===u)&&this._draggableMoved(v)){W=!0;break}if(v&&v.listens(u,!0)&&(y&&!Io(D,r)||(g.push(v),y))||D===this._container)break;D=D.parentNode}return!g.length&&!W&&!y&&this.listens(u,!0)&&(g=[this]),g},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u=r.target||r.srcElement;if(!(!this._loaded||u._leaflet_disable_events||"click"===r.type&&this._isClickDisabled(u))){var g=r.type;"mousedown"===g&&ko(u),this._fireDOMEvent(r,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,g){if("click"===r.type){var v=Ze({},r);v.type="preclick",this._fireDOMEvent(v,v.type,g)}var y=this._findEventTargets(r,u);if(g){for(var D=[],W=0;W<g.length;W++)g[W].listens(u,!0)&&D.push(g[W]);y=D.concat(y)}if(y.length){"contextmenu"===u&&Ot(r);var U=y[0],X={originalEvent:r};if("keypress"!==r.type&&"keydown"!==r.type&&"keyup"!==r.type){var ie=U.getLatLng&&(!U._radius||U._radius<=10);X.containerPoint=ie?this.latLngToContainerPoint(U.getLatLng()):this.mouseEventToContainerPoint(r),X.layerPoint=this.containerPointToLayerPoint(X.containerPoint),X.latlng=ie?U.getLatLng():this.layerPointToLatLng(X.layerPoint)}for(W=0;W<y.length;W++)if(y[W].fire(u,X,!0),X.originalEvent._stopped||!1===y[W].options.bubblingMouseEvents&&-1!==qn(this._mouseEvents,u))return}},_draggableMoved:function(r){return(r=r.dragging&&r.dragging.enabled()?r:this).dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return Ls(this._mapPane)||new ye(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){return(r&&void 0!==u?this._getNewPixelOrigin(r,u):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var g=this.getSize()._divideBy(2);return this.project(r,u)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,g){var v=this._getNewPixelOrigin(g,u);return this.project(r,u)._subtract(v)},_latLngBoundsToNewLayerBounds:function(r,u,g){var v=this._getNewPixelOrigin(g,u);return Ht([this.project(r.getSouthWest(),u)._subtract(v),this.project(r.getNorthWest(),u)._subtract(v),this.project(r.getSouthEast(),u)._subtract(v),this.project(r.getNorthEast(),u)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,g){if(!g)return r;var v=this.project(r,u),y=this.getSize().divideBy(2),D=new it(v.subtract(y),v.add(y)),W=this._getBoundsOffset(D,g,u);return Math.abs(W.x)<=1&&Math.abs(W.y)<=1?r:this.unproject(v.add(W),u)},_limitOffset:function(r,u){if(!u)return r;var g=this.getPixelBounds(),v=new it(g.min.add(r),g.max.add(r));return r.add(this._getBoundsOffset(v,u))},_getBoundsOffset:function(r,u,g){var v=Ht(this.project(u.getNorthEast(),g),this.project(u.getSouthWest(),g)),y=v.min.subtract(r.min),D=v.max.subtract(r.max);return new ye(this._rebound(y.x,-D.x),this._rebound(y.y,-D.y))},_rebound:function(r,u){return r+u>0?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),g=this.getMaxZoom(),v=ce.any3d?this.options.zoomSnap:1;return v&&(r=Math.round(r/v)*v),Math.max(u,Math.min(g,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){var g=this._getCenterOffset(r)._trunc();return!(!0!==(u&&u.animate)&&!this.getSize().contains(g)||(this.panBy(g,u),0))},_createAnimProxy:function(){var r=this._proxy=Ve("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var g=Eo,v=this._proxy.style[g];Fs(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),v===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();Fs(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||!1===g.animate||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(u),y=this._getCenterOffset(r)._divideBy(1-1/v);return!(!0!==g.animate&&!this.getSize().contains(y)||(qe(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(r,u,!0)},this),0))},_animateZoom:function(r,u,g,v){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(rt(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Hi=_t.extend({options:{position:"topright"},initialize:function(r){je(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var u=this._container=this.onAdd(r),g=this.getPosition(),v=r._controlCorners[g];return me(u,"leaflet-control"),-1!==g.indexOf("bottom")?v.insertBefore(u,v.firstChild):v.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),lr=function(r){return new Hi(r)};He.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",g=this._controlContainer=Ve("div",u+"control-container",this._container);function v(y,D){r[y+D]=Ve("div",u+y+" "+u+D,g)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)ft(this._controlCorners[r]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Bo=Hi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,g,v){return g<v?-1:v<g?1:0}},initialize:function(r,u,g){for(var v in je(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,r)this._addLayer(r[v],v);for(v in u)this._addLayer(u[v],v,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Hi.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var u=this._getLayer(Re(r));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=Ve("div",r),g=this.options.collapsed;u.setAttribute("aria-haspopup",!0),ar(u),Lo(u);var v=this._section=Ve("section",r+"-list");g&&(this._map.on("click",this.collapse,this),Le(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Ve("a",r+"-toggle",u);y.href="#",y.title="Layers",y.setAttribute("role","button"),Le(y,{keydown:function(D){13===D.keyCode&&this._expandSafely()},click:function(D){Ot(D),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=Ve("div",r+"-base",v),this._separator=Ve("div",r+"-separator",v),this._overlaysList=Ve("div",r+"-overlays",v),u.appendChild(v)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&Re(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,g){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:g}),this.options.sortLayers&&this._layers.sort(rt(function(v,y){return this.options.sortFunction(v.layer,y.layer,v.name,y.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gn(this._baseLayersList),gn(this._overlaysList),this._layerControlInputs=[];var r,u,g,v,y=0;for(g=0;g<this._layers.length;g++)this._addItem(v=this._layers[g]),u=u||v.overlay,r=r||!v.overlay,y+=v.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(r=r&&y>1)?"":"none"),this._separator.style.display=u&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var u=this._getLayer(Re(r.target)),g=u.overlay?"add"===r.type?"overlayadd":"overlayremove":"add"===r.type?"baselayerchange":null;g&&this._map.fire(g,u)},_createRadioElement:function(r,u){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=g,v.firstChild},_addItem:function(r){var v,u=document.createElement("label"),g=this._map.hasLayer(r.layer);r.overlay?((v=document.createElement("input")).type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=g):v=this._createRadioElement("leaflet-base-layers_"+Re(this),g),this._layerControlInputs.push(v),v.layerId=Re(r.layer),Le(v,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+r.name;var D=document.createElement("span");return u.appendChild(D),D.appendChild(v),D.appendChild(y),(r.overlay?this._overlaysList:this._baseLayersList).appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var u,g,r=this._layerControlInputs,v=[],y=[];this._handlingClick=!0;for(var D=r.length-1;D>=0;D--)g=this._getLayer((u=r[D]).layerId).layer,u.checked?v.push(g):u.checked||y.push(g);for(D=0;D<y.length;D++)this._map.hasLayer(y[D])&&this._map.removeLayer(y[D]);for(D=0;D<v.length;D++)this._map.hasLayer(v[D])||this._map.addLayer(v[D]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u,g,r=this._layerControlInputs,v=this._map.getZoom(),y=r.length-1;y>=0;y--)g=this._getLayer((u=r[y]).layerId).layer,u.disabled=void 0!==g.options.minZoom&&v<g.options.minZoom||void 0!==g.options.maxZoom&&v>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Le(r,"click",Ot),this.expand();var u=this;setTimeout(function(){Ge(r,"click",Ot),u._preventClick=!1})}}),pa=Hi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",g=Ve("div",u+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,u+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,u+"-out",g,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,g,v,y){var D=Ve("a",g,v);return D.innerHTML=r,D.href="#",D.title=u,D.setAttribute("role","button"),D.setAttribute("aria-label",u),ar(D),Le(D,"click",Is),Le(D,"click",y,this),Le(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";wt(this._zoomInButton,u),wt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(me(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(me(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});He.mergeOptions({zoomControl:!0}),He.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new pa,this.addControl(this.zoomControl))});var Ju=Hi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",g=Ve("div",u),v=this.options;return this._addScales(v,u+"-line",g),r.on(v.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),g},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,g){r.metric&&(this._mScale=Ve("div",u,g)),r.imperial&&(this._iScale=Ve("div",u,g))},_update:function(){var r=this._map,u=r.getSize().y/2,g=r.distance(r.containerPointToLatLng([0,u]),r.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(g)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r);this._updateScale(this._mScale,u<1e3?u+" m":u/1e3+" km",u/r)},_updateImperial:function(r){var g,v,y,u=3.2808399*r;u>5280?(v=this._getRoundNum(g=u/5280),this._updateScale(this._iScale,v+" mi",v/g)):(y=this._getRoundNum(u),this._updateScale(this._iScale,y+" ft",y/u))},_updateScale:function(r,u,g){r.style.width=Math.round(this.options.maxWidth*g)+"px",r.innerHTML=u},_getRoundNum:function(r){var u=Math.pow(10,(Math.floor(r)+"").length-1),g=r/u;return u*(g>=10?10:g>=5?5:g>=3?3:g>=2?2:1)}}),ga=Hi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ce.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(r){je(this,r),this._attributions={}},onAdd:function(r){for(var u in r.attributionControl=this,this._container=Ve("div","leaflet-control-attribution"),ar(this._container),r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var u in this._attributions)this._attributions[u]&&r.push(u);var g=[];this.options.prefix&&g.push(this.options.prefix),r.length&&g.push(r.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});He.mergeOptions({attributionControl:!0}),He.addInitHook(function(){this.options.attributionControl&&(new ga).addTo(this)});Hi.Layers=Bo,Hi.Zoom=pa,Hi.Scale=Ju,Hi.Attribution=ga,lr.layers=function(r,u,g){return new Bo(r,u,g)},lr.zoom=function(r){return new pa(r)},lr.scale=function(r){return new Ju(r)},lr.attribution=function(r){return new ga(r)};var Ti=_t.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ti.addTo=function(r,u){return r.addHandler(u,this),this};var jd={Events:ni},ih=ce.touch?"touchstart mousedown":"mousedown",$=Yn.extend({options:{clickTolerance:3},initialize:function(r,u,g,v){je(this,v),this._element=r,this._dragStartTarget=u||r,this._preventOutline=g},enable:function(){this._enabled||(Le(this._dragStartTarget,ih,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($._dragging===this&&this.finishDrag(!0),Ge(this._dragStartTarget,ih,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!ir(this._element,"leaflet-zoom-anim"))){if(r.touches&&1!==r.touches.length)return void($._dragging===this&&this.finishDrag());if(!($._dragging||r.shiftKey||1!==r.which&&1!==r.button&&!r.touches||($._dragging=this,this._preventOutline&&ko(this._element),So(),sr(),this._moving))){this.fire("down");var u=r.touches?r.touches[0]:r,g=qu(this._element);this._startPoint=new ye(u.clientX,u.clientY),this._startPos=Ls(this._element),this._parentScale=To(g);var v="mousedown"===r.type;Le(document,v?"mousemove":"touchmove",this._onMove,this),Le(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1)return void(this._moved=!0);var u=r.touches&&1===r.touches.length?r.touches[0]:r,g=new ye(u.clientX,u.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Ot(r),this._moved||(this.fire("dragstart"),this._moved=!0,me(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Ct(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){wt(document.body,"leaflet-dragging"),this._lastTarget&&(wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ge(document,"mousemove touchmove",this._onMove,this),Ge(document,"mouseup touchend touchcancel",this._onUp,this),Po(),nr();var u=this._moved&&this._moving;this._moving=!1,$._dragging=!1,u&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function sh(r,u,g){var v,D,W,U,X,ie,q,_e,Oe,y=[1,4,2,8];for(D=0,q=r.length;D<q;D++)r[D]._code=Bs(r[D],u);for(U=0;U<4;U++){for(_e=y[U],v=[],D=0,W=(q=r.length)-1;D<q;W=D++)ie=r[W],(X=r[D])._code&_e?ie._code&_e||((Oe=ma(ie,X,_e,u,g))._code=Bs(Oe,u),v.push(Oe)):(ie._code&_e&&((Oe=ma(ie,X,_e,u,g))._code=Bs(Oe,u),v.push(Oe)),v.push(X));r=v}return r}function nh(r,u){var g,v,y,D,W,U,X,ie;if(!r||0===r.length)throw new Error("latlngs not passed");mi(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var _e=We([0,0]),Oe=dt(r);Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest())<1700&&(_e=ur(r));var Nt=r.length,wi=[];for(g=0;g<Nt;g++){var ai=We(r[g]);wi.push(u.project(We([ai.lat-_e.lat,ai.lng-_e.lng])))}for(U=X=ie=0,g=0,v=Nt-1;g<Nt;v=g++)X+=((y=wi[g]).x+(D=wi[v]).x)*(W=y.y*D.x-D.y*y.x),ie+=(y.y+D.y)*W,U+=3*W;var _r=u.unproject(be(0===U?wi[0]:[X/U,ie/U]));return We([_r.lat+_e.lat,_r.lng+_e.lng])}function ur(r){for(var u=0,g=0,v=0,y=0;y<r.length;y++){var D=We(r[y]);u+=D.lat,g+=D.lng,v++}return We([u/v,g/v])}var Gd,rh={__proto__:null,clipPolygon:sh,polygonCenter:nh,centroid:ur};function Ro(r,u){if(!u||!r.length)return r.slice();var g=u*u;return function Em(r,u){var g=r.length,y=new(typeof Uint8Array<"u"?Uint8Array:Array)(g);y[0]=y[g-1]=1,Oo(r,y,u,0,g-1);var D,W=[];for(D=0;D<g;D++)y[D]&&W.push(r[D]);return W}(r=function oh(r,u){for(var g=[r[0]],v=1,y=0,D=r.length;v<D;v++)Ud(r[v],r[y])>u&&(g.push(r[v]),y=v);return y<D-1&&g.push(r[D-1]),g}(r,g),g)}function ah(r,u,g){return Math.sqrt(hr(r,u,g,!0))}function Oo(r,u,g,v,y){var W,U,X,D=0;for(U=v+1;U<=y-1;U++)(X=hr(r[U],r[v],r[y],!0))>D&&(W=U,D=X);D>g&&(u[W]=1,Oo(r,u,g,v,W),Oo(r,u,g,W,y))}function lh(r,u,g,v,y){var U,X,ie,D=v?Gd:Bs(r,g),W=Bs(u,g);for(Gd=W;;){if(!(D|W))return[r,u];if(D&W)return!1;ie=Bs(X=ma(r,u,U=D||W,g,y),g),U===D?(r=X,D=ie):(u=X,W=ie)}}function ma(r,u,g,v,y){var ie,q,D=u.x-r.x,W=u.y-r.y,U=v.min,X=v.max;return 8&g?(ie=r.x+D*(X.y-r.y)/W,q=X.y):4&g?(ie=r.x+D*(U.y-r.y)/W,q=U.y):2&g?(ie=X.x,q=r.y+W*(X.x-r.x)/D):1&g&&(ie=U.x,q=r.y+W*(U.x-r.x)/D),new ye(ie,q,y)}function Bs(r,u){var g=0;return r.x<u.min.x?g|=1:r.x>u.max.x&&(g|=2),r.y<u.min.y?g|=4:r.y>u.max.y&&(g|=8),g}function Ud(r,u){var g=u.x-r.x,v=u.y-r.y;return g*g+v*v}function hr(r,u,g,v){var ie,y=u.x,D=u.y,W=g.x-y,U=g.y-D,X=W*W+U*U;return X>0&&((ie=((r.x-y)*W+(r.y-D)*U)/X)>1?(y=g.x,D=g.y):ie>0&&(y+=W*ie,D+=U*ie)),W=r.x-y,U=r.y-D,v?W*W+U*U:new ye(y,D)}function mi(r){return!ki(r[0])||"object"!=typeof r[0][0]&&typeof r[0][0]<"u"}function uh(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mi(r)}function hh(r,u){var g,v,y,D,W,U,X,ie;if(!r||0===r.length)throw new Error("latlngs not passed");mi(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var q=We([0,0]),_e=dt(r);_e.getNorthWest().distanceTo(_e.getSouthWest())*_e.getNorthEast().distanceTo(_e.getNorthWest())<1700&&(q=ur(r));var jt=r.length,Nt=[];for(g=0;g<jt;g++){var wi=We(r[g]);Nt.push(u.project(We([wi.lat-q.lat,wi.lng-q.lng])))}for(g=0,v=0;g<jt-1;g++)v+=Nt[g].distanceTo(Nt[g+1])/2;if(0===v)ie=Nt[0];else for(g=0,D=0;g<jt-1;g++)if((D+=y=(W=Nt[g]).distanceTo(U=Nt[g+1]))>v){ie=[U.x-(X=(D-v)/y)*(U.x-W.x),U.y-X*(U.y-W.y)];break}var ai=u.unproject(be(ie));return We([ai.lat+q.lat,ai.lng+q.lng])}var Xd={__proto__:null,simplify:Ro,pointToSegmentDistance:ah,closestPointOnSegment:function ym(r,u,g){return hr(r,u,g)},clipSegment:lh,_getEdgeIntersection:ma,_getBitCode:Bs,_sqClosestPointOnSegment:hr,isFlat:mi,_flat:uh,polylineCenter:hh},No={project:function(r){return new ye(r.lng,r.lat)},unproject:function(r){return new Ye(r.y,r.x)},bounds:new it([-180,-90],[180,90])},zo={R:6378137,R_MINOR:6356752.314245179,bounds:new it([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(r){var u=Math.PI/180,g=this.R,v=r.lat*u,y=this.R_MINOR/g,D=Math.sqrt(1-y*y),W=D*Math.sin(v),U=Math.tan(Math.PI/4-v/2)/Math.pow((1-W)/(1+W),D/2);return v=-g*Math.log(Math.max(U,1e-10)),new ye(r.lng*u*g,v)},unproject:function(r){for(var ie,u=180/Math.PI,g=this.R,v=this.R_MINOR/g,y=Math.sqrt(1-v*v),D=Math.exp(-r.y/g),W=Math.PI/2-2*Math.atan(D),U=0,X=.1;U<15&&Math.abs(X)>1e-7;U++)ie=y*Math.sin(W),ie=Math.pow((1-ie)/(1+ie),y/2),W+=X=Math.PI/2-2*Math.atan(D*ie)-W;return new Ye(W*u,r.x*u/g)}},Zd={__proto__:null,LonLat:No,Mercator:zo,SphericalMercator:ia},qd=Ze({},Ni,{code:"EPSG:3395",projection:zo,transformation:function(){var r=.5/(Math.PI*zo.R);return Qn(r,.5,-r,.5)}()}),ch=Ze({},Ni,{code:"EPSG:4326",projection:No,transformation:Qn(1/180,1,-1/180,.5)}),Yd=Ze({},Oi,{projection:No,transformation:Qn(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,u){var g=u.lng-r.lng,v=u.lat-r.lat;return Math.sqrt(g*g+v*v)},infinite:!0});Oi.Earth=Ni,Oi.EPSG3395=qd,Oi.EPSG3857=vo,Oi.EPSG900913=pd,Oi.EPSG4326=ch,Oi.Simple=Yd;var Vi=Yn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[Re(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[Re(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u=r.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var g=this.getEvents();u.on(g,this),this.once("remove",function(){u.off(g,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});He.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var u=Re(r);return this._layers[u]||(this._layers[u]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r)),this},removeLayer:function(r){var u=Re(r);return this._layers[u]?(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return Re(r)in this._layers},eachLayer:function(r,u){for(var g in this._layers)r.call(u,this._layers[g]);return this},_addLayers:function(r){for(var u=0,g=(r=r?ki(r)?r:[r]:[]).length;u<g;u++)this.addLayer(r[u])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[Re(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var u=Re(r);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,u=-1/0,g=this._getZoomSpan();for(var v in this._zoomBoundLayers){var y=this._zoomBoundLayers[v].options;r=void 0===y.minZoom?r:Math.min(r,y.minZoom),u=void 0===y.maxZoom?u:Math.max(u,y.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=r===1/0?void 0:r,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bn=Vi.extend({initialize:function(r,u){var g,v;if(je(this,u),this._layers={},r)for(g=0,v=r.length;g<v;g++)this.addLayer(r[g])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var u=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(r){return("number"==typeof r?r:this.getLayerId(r))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var g,v,u=Array.prototype.slice.call(arguments,1);for(g in this._layers)(v=this._layers[g])[r]&&v[r].apply(v,u);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var g in this._layers)r.call(u,this._layers[g]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return Re(r)}}),de=bn.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),bn.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),bn.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Ae;for(var u in this._layers){var g=this._layers[u];r.extend(g.getBounds?g.getBounds():g.getLatLng())}return r}}),Rs=_t.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){je(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var g=this._getIconUrl(r);if(!g){if("icon"===r)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(g,u&&"IMG"===u.tagName?u:null);return this._setIconStyles(v,r),(this.options.crossOrigin||""===this.options.crossOrigin)&&(v.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),v},_setIconStyles:function(r,u){var g=this.options,v=g[u+"Size"];"number"==typeof v&&(v=[v,v]);var y=be(v),D=be("shadow"===u&&g.shadowAnchor||g.iconAnchor||y&&y.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(g.className||""),D&&(r.style.marginLeft=-D.x+"px",r.style.marginTop=-D.y+"px"),y&&(r.style.width=y.x+"px",r.style.height=y.y+"px")},_createImg:function(r,u){return(u=u||document.createElement("img")).src=r,u},_getIconUrl:function(r){return ce.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});var E=Rs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return"string"!=typeof E.imagePath&&(E.imagePath=this._detectIconPath()),(this.options.imagePath||E.imagePath)+Rs.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var u=function(g,v,y){var D=v.exec(g);return D&&D[y]};return(r=u(r,/^url\((['"])?(.+)\1\)$/,2))&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Ve("div","leaflet-default-icon-path",document.body),u=tr(r,"background-image")||tr(r,"backgroundImage");if(document.body.removeChild(r),u=this._stripUrl(u))return u;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),Ee=Ti.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new $(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),me(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,g=u._map,v=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,D=Ls(u._icon),W=g.getPixelBounds(),U=g.getPixelOrigin(),X=Ht(W.min._subtract(U).add(y),W.max._subtract(U).subtract(y));if(!X.contains(D)){var ie=be((Math.max(X.max.x,D.x)-X.max.x)/(W.max.x-X.max.x)-(Math.min(X.min.x,D.x)-X.min.x)/(W.min.x-X.min.x),(Math.max(X.max.y,D.y)-X.max.y)/(W.max.y-X.max.y)-(Math.min(X.min.y,D.y)-X.min.y)/(W.min.y-X.min.y)).multiplyBy(v);g.panBy(ie,{animate:!1}),this._draggable._newPos._add(ie),this._draggable._startPos._add(ie),Ct(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=qe(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(fi(this._panRequest),this._panRequest=qe(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,g=u._shadow,v=Ls(u._icon),y=u._map.layerPointToLatLng(v);g&&Ct(g,v),u._latlng=y,r.latlng=y,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){fi(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),re=Vi.extend({options:{icon:new E,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){je(this,u),this._latlng=We(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=We(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=r.icon.createIcon(this._icon),v=!1;g!==this._icon&&(this._icon&&this._removeIcon(),v=!0,r.title&&(g.title=r.title),"IMG"===g.tagName&&(g.alt=r.alt||"")),me(g,u),r.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Le(g,"focus",this._panOnFocus,this);var y=r.icon.createShadow(this._shadow),D=!1;y!==this._shadow&&(this._removeShadow(),D=!0),y&&(me(y,u),y.alt=""),this._shadow=y,r.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&D&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ge(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Ct(this._icon,r),this._shadow&&Ct(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ee)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ee(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Kt(this._icon,r),this._shadow&&Kt(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var u=this.options.icon.options,g=u.iconSize?be(u.iconSize):be(0,0),v=u.iconAnchor?be(u.iconAnchor):be(0,0);r.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:g.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var c=Vi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return je(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),x=c.extend({options:{fill:!0,radius:10},initialize:function(r,u){je(this,u),this._latlng=We(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=We(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return c.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,u=this._radiusY||r,g=this._clickTolerance(),v=[r+g,u+g];this._pxBounds=new it(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var cr=x.extend({initialize:function(r,u,g){if("number"==typeof u&&(u=Ze({},g,{radius:u})),je(this,u),this._latlng=We(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Ae(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:c.prototype.setStyle,_project:function(){var r=this._latlng.lng,u=this._latlng.lat,g=this._map,v=g.options.crs;if(v.distance===Ni.distance){var y=Math.PI/180,D=this._mRadius/Ni.R/y,W=g.project([u+D,r]),U=g.project([u-D,r]),X=W.add(U).divideBy(2),ie=g.unproject(X).lat,q=Math.acos((Math.cos(D*y)-Math.sin(u*y)*Math.sin(ie*y))/(Math.cos(u*y)*Math.cos(ie*y)))/y;(isNaN(q)||0===q)&&(q=D/Math.cos(Math.PI/180*u)),this._point=X.subtract(g.getPixelOrigin()),this._radius=isNaN(q)?0:X.x-g.project([ie,r-q]).x,this._radiusY=X.y-W.y}else{var _e=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(_e).x}this._updateBounds()}});var vi=c.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){je(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var y,D,u=1/0,g=null,v=hr,W=0,U=this._parts.length;W<U;W++)for(var X=this._parts[W],ie=1,q=X.length;ie<q;ie++){var _e=v(r,y=X[ie-1],D=X[ie],!0);_e<u&&(u=_e,g=v(r,y,D))}return g&&(g.distance=Math.sqrt(u)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=We(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Ae,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return mi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],g=mi(r),v=0,y=r.length;v<y;v++)g?(u[v]=We(r[v]),this._bounds.extend(u[v])):u[v]=this._convertLatLngs(r[v]);return u},_project:function(){var r=new it;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),u=new ye(r,r);this._rawPxBounds&&(this._pxBounds=new it([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(r,u,g){var D,W,y=r.length;if(r[0]instanceof Ye){for(W=[],D=0;D<y;D++)W[D]=this._map.latLngToLayerPoint(r[D]),g.extend(W[D]);u.push(W)}else for(D=0;D<y;D++)this._projectLatlngs(r[D],u,g)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(r)){if(this.options.noClip)return void(this._parts=this._rings);var g,v,y,D,W,U,X,u=this._parts;for(g=0,y=0,D=this._rings.length;g<D;g++)for(v=0,W=(X=this._rings[g]).length;v<W-1;v++)(U=lh(X[v],X[v+1],r,v,!0))&&(u[y]=u[y]||[],u[y].push(U[0]),(U[1]!==X[v+1]||v===W-2)&&(u[y].push(U[1]),y++))}},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,g=0,v=r.length;g<v;g++)r[g]=Ro(r[g],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var g,v,y,D,W,U,X=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(g=0,D=this._parts.length;g<D;g++)for(v=0,y=(W=(U=this._parts[g]).length)-1;v<W;y=v++)if((u||0!==v)&&ah(r,U[y],U[v])<=X)return!0;return!1}});vi._flat=uh;var Os=vi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var u=vi.prototype._convertLatLngs.call(this,r),g=u.length;return g>=2&&u[0]instanceof Ye&&u[0].equals(u[g-1])&&u.pop(),u},_setLatLngs:function(r){vi.prototype._setLatLngs.call(this,r),mi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,u=this.options.weight,g=new ye(u,u);if(r=new it(r.min.subtract(g),r.max.add(g)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(r)){if(this.options.noClip)return void(this._parts=this._rings);for(var D,v=0,y=this._rings.length;v<y;v++)(D=sh(this._rings[v],r,!0)).length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var g,v,y,D,W,U,X,ie,u=!1;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(D=0,X=this._parts.length;D<X;D++)for(W=0,U=(ie=(g=this._parts[D]).length)-1;W<ie;U=W++)(v=g[W]).y>r.y!=(y=g[U]).y>r.y&&r.x<(y.x-v.x)*(r.y-v.y)/(y.y-v.y)+v.x&&(u=!u);return u||vi.prototype._containsPoint.call(this,r,!0)}});var _i=de.extend({initialize:function(r,u){je(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var g,v,y,u=ki(r)?r:r.features;if(u){for(g=0,v=u.length;g<v;g++)((y=u[g]).geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var D=this.options;if(D.filter&&!D.filter(r))return this;var W=Yi(r,D);return W?(W.feature=An(r),W.defaultOptions=W.options,this.resetStyle(W),D.onEachFeature&&D.onEachFeature(r,W),this.addLayer(W)):this},resetStyle:function(r){return void 0===r?this.eachLayer(this.resetStyle,this):(r.options=Ze({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&("function"==typeof u&&(u=u(r.feature)),r.setStyle(u))}});function Yi(r,u){var U,X,ie,q,g="Feature"===r.type?r.geometry:r,v=g?g.coordinates:null,y=[],D=u&&u.pointToLayer,W=u&&u.coordsToLatLng||Ns;if(!v&&!g)return null;switch(g.type){case"Point":return Wo(D,r,U=W(v),u);case"MultiPoint":for(ie=0,q=v.length;ie<q;ie++)U=W(v[ie]),y.push(Wo(D,r,U,u));return new de(y);case"LineString":case"MultiLineString":return X=vs(v,"LineString"===g.type?0:1,W),new vi(X,u);case"Polygon":case"MultiPolygon":return X=vs(v,"Polygon"===g.type?1:2,W),new Os(X,u);case"GeometryCollection":for(ie=0,q=g.geometries.length;ie<q;ie++){var _e=Yi({geometry:g.geometries[ie],type:"Feature",properties:r.properties},u);_e&&y.push(_e)}return new de(y);case"FeatureCollection":for(ie=0,q=g.features.length;ie<q;ie++){var Oe=Yi(g.features[ie],u);Oe&&y.push(Oe)}return new de(y);default:throw new Error("Invalid GeoJSON object.")}}function Wo(r,u,g,v){return r?r(u,g):new re(g,v&&v.markersInheritOptions&&v)}function Ns(r){return new Ye(r[1],r[0],r[2])}function vs(r,u,g){for(var W,v=[],y=0,D=r.length;y<D;y++)W=u?vs(r[y],u-1,g):(g||Ns)(r[y]),v.push(W);return v}function Se(r,u){return void 0!==(r=We(r)).alt?[at(r.lng,u),at(r.lat,u),at(r.alt,u)]:[at(r.lng,u),at(r.lat,u)]}function Mt(r,u,g,v){for(var y=[],D=0,W=r.length;D<W;D++)y.push(u?Mt(r[D],mi(r[D])?0:u-1,g,v):Se(r[D],v));return!u&&g&&y.length>0&&y.push(y[0].slice()),y}function zs(r,u){return r.feature?Ze({},r.feature,{geometry:u}):An(u)}function An(r){return"Feature"===r.type||"FeatureCollection"===r.type?r:{type:"Feature",properties:{},geometry:r}}var Ho={toGeoJSON:function(r){return zs(this,{type:"Point",coordinates:Se(this.getLatLng(),r)})}};function dr(r,u){return new _i(r,u)}re.include(Ho),cr.include(Ho),x.include(Ho),vi.include({toGeoJSON:function(r){var u=!mi(this._latlngs);return zs(this,{type:(u?"Multi":"")+"LineString",coordinates:Mt(this._latlngs,u?1:0,!1,r)})}}),Os.include({toGeoJSON:function(r){var u=!mi(this._latlngs),g=u&&!mi(this._latlngs[0]),v=Mt(this._latlngs,g?2:u?1:0,!0,r);return u||(v=[v]),zs(this,{type:(g?"Multi":"")+"Polygon",coordinates:v})}}),bn.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(g){u.push(g.toGeoJSON(r).geometry.coordinates)}),zs(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===u)return this.toMultiPoint(r);var g="GeometryCollection"===u,v=[];return this.eachLayer(function(y){if(y.toGeoJSON){var D=y.toGeoJSON(r);if(g)v.push(D.geometry);else{var W=An(D);"FeatureCollection"===W.type?v.push.apply(v,W.features):v.push(W)}}}),g?zs(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});var Cm=dr,Vo=Vi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,g){this._url=r,this._bounds=dt(u),je(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&mn(this._image),this},bringToBack:function(){return this._map&&ms(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=dt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r="IMG"===this._url.tagName,u=this._image=r?this._url:Ve("img");me(u,"leaflet-image-layer"),this._zoomAnimated&&me(u,"leaflet-zoom-animated"),this.options.className&&me(u,this.options.className),u.onselectstart=gt,u.onmousemove=gt,u.onload=rt(this.fire,this,"load"),u.onerror=rt(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(u.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r?this._url=u.src:(u.src=this._url,u.alt=this.options.alt)},_animateZoom:function(r){var u=this._map.getZoomScale(r.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Fs(this._image,g,u)},_reset:function(){var r=this._image,u=new it(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=u.getSize();Ct(r,u.min),r.style.width=g.x+"px",r.style.height=g.y+"px"},_updateOpacity:function(){Kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Ki=Vo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r="VIDEO"===this._url.tagName,u=this._image=r?this._url:Ve("video");if(me(u,"leaflet-image-layer"),this._zoomAnimated&&me(u,"leaflet-zoom-animated"),this.options.className&&me(u,this.options.className),u.onselectstart=gt,u.onmousemove=gt,u.onloadeddata=rt(this.fire,this,"load"),r){for(var g=u.getElementsByTagName("source"),v=[],y=0;y<g.length;y++)v.push(g[y].src);this._url=g.length>0?v:[u.src]}else{ki(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var W=Ve("source");W.src=this._url[D],u.appendChild(W)}}}});var Ne=Vo.extend({_initImage:function(){var r=this._image=this._url;me(r,"leaflet-image-layer"),this._zoomAnimated&&me(r,"leaflet-zoom-animated"),this.options.className&&me(r,this.options.className),r.onselectstart=gt,r.onmousemove=gt}});var $i=Vi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof Ye||ki(r))?(this._latlng=We(r),je(this,u)):(je(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return(r=arguments.length?r:this._source._map).hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Kt(this._container,1),this.bringToFront(),this.options.interactive&&(me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Kt(this._container,0),this._removeTimeout=setTimeout(rt(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=We(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&mn(this._container),this},bringToBack:function(){return this._map&&ms(this._container),this},_prepareOpen:function(r){var u=this._source;if(!u._map)return!1;if(u instanceof de){u=null;var g=this._source._layers;for(var v in g)if(g[v]._map){u=g[v];break}if(!u)return!1;this._source=u}if(!r)if(u.getCenter)r=u.getCenter();else if(u.getLatLng)r=u.getLatLng();else{if(!u.getBounds)throw new Error("Unable to get source layer LatLng.");r=u.getBounds().getCenter()}return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof u)r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),u=be(this.options.offset),g=this._getAnchor();this._zoomAnimated?Ct(this._container,r.add(g)):u=u.add(r).add(g);var v=this._containerBottom=-u.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=v+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});He.include({_initOverlay:function(r,u,g,v){var y=u;return y instanceof r||(y=new r(v).setContent(u)),g&&y.setLatLng(g),y}}),Vi.include({_initOverlay:function(r,u,g,v){var y=g;return y instanceof r?(je(y,v),y._source=this):(y=u&&!v?u:new r(v,this)).setContent(g),y}});var kt=$i.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return!(r=arguments.length?r:this._source._map).hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,$i.prototype.openOn.call(this,r)},onAdd:function(r){$i.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof c||this._source.on("preclick",gi))},onRemove:function(r){$i.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof c||this._source.off("preclick",gi))},getEvents:function(){var r=$i.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=Ve("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=Ve("div",r+"-content-wrapper",u);if(this._contentNode=Ve("div",r+"-content",g),ar(u),Lo(this._contentNode),Le(u,"contextmenu",gi),this._tipContainer=Ve("div",r+"-tip-container",u),this._tip=Ve("div",r+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=Ve("a",r+"-close-button",u);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Le(v,"click",function(y){Ot(y),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,u=r.style;u.width="",u.whiteSpace="nowrap";var g=r.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),u.width=g+1+"px",u.whiteSpace="",u.height="";var y=this.options.maxHeight,D="leaflet-popup-scrolled";y&&r.offsetHeight>y?(u.height=y+"px",me(r,D)):wt(r,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),g=this._getAnchor();Ct(this._container,u.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var r=this._map,u=parseInt(tr(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+u,v=this._containerWidth,y=new ye(this._containerLeft,-g-this._containerBottom);y._add(Ls(this._container));var D=r.layerPointToContainerPoint(y),W=be(this.options.autoPanPadding),U=be(this.options.autoPanPaddingTopLeft||W),X=be(this.options.autoPanPaddingBottomRight||W),ie=r.getSize(),q=0,_e=0;D.x+v+X.x>ie.x&&(q=D.x+v-ie.x+X.x),D.x-q-U.x<0&&(q=D.x-U.x),D.y+g+X.y>ie.y&&(_e=D.y+g-ie.y+X.y),D.y-_e-U.y<0&&(_e=D.y-U.y),(q||_e)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([q,_e]))}},_getAnchor:function(){return be(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});He.mergeOptions({closePopupOnClick:!0}),He.include({openPopup:function(r,u,g){return this._initOverlay(kt,r,u,g).openOn(this),this},closePopup:function(r){return(r=arguments.length?r:this._popup)&&r.close(),this}}),Vi.include({bindPopup:function(r,u){return this._popup=this._initOverlay(kt,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof de||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(this._popup&&this._map){Is(r);var u=r.layer||r.target;if(this._popup._source===u&&!(u instanceof c))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng));this._popup._source=u,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){13===r.originalEvent.keyCode&&this._openPopup(r)}});var mt=$i.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){$i.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){$i.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=$i.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){this._contentNode=this._container=Ve("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+Re(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,g,v=this._map,y=this._container,D=v.latLngToContainerPoint(v.getCenter()),W=v.layerPointToContainerPoint(r),U=this.options.direction,X=y.offsetWidth,ie=y.offsetHeight,q=be(this.options.offset),_e=this._getAnchor();"top"===U?(u=X/2,g=ie):"bottom"===U?(u=X/2,g=0):"center"===U?(u=X/2,g=ie/2):"right"===U?(u=0,g=ie/2):"left"===U?(u=X,g=ie/2):W.x<D.x?(U="right",u=0,g=ie/2):(U="left",u=X+2*(q.x+_e.x),g=ie/2),r=r.subtract(be(u,g,!0)).add(q).add(_e),wt(y,"leaflet-tooltip-right"),wt(y,"leaflet-tooltip-left"),wt(y,"leaflet-tooltip-top"),wt(y,"leaflet-tooltip-bottom"),me(y,"leaflet-tooltip-"+U),Ct(y,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Kt(this._container,r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(u)},_getAnchor:function(){return be(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});He.include({openTooltip:function(r,u,g){return this._initOverlay(mt,r,u,g).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Vi.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(mt,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(r||!this._tooltipHandlersAdded){var u=r?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[u](g),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof de||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u="function"==typeof r.getElement&&r.getElement();u&&(Le(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Le(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var u="function"==typeof r.getElement&&r.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;return void this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(r)})}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var g,v,u=r.latlng;this._tooltip.options.sticky&&r.originalEvent&&(g=this._map.mouseEventToContainerPoint(r.originalEvent),v=this._map.containerPointToLayerPoint(g),u=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(u)}});var Jd=Rs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var u=r&&"DIV"===r.tagName?r:document.createElement("div"),g=this.options;if(g.html instanceof Element?(gn(u),u.appendChild(g.html)):u.innerHTML=!1!==g.html?g.html:"",g.bgPos){var v=be(g.bgPos);u.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});Rs.Default=E;var Qi=Vi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){je(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),ft(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(mn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ms(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=po(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof ye?r:new ye(r,r)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var D,u=this.getPane().children,g=-r(-1/0,1/0),v=0,y=u.length;v<y;v++)D=u[v].style.zIndex,u[v]!==this._container&&D&&(g=r(g,+D));isFinite(g)&&(this.options.zIndex=g+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ce.ielt9){Kt(this._container,this.options.opacity);var r=+new Date,u=!1,g=!1;for(var v in this._tiles){var y=this._tiles[v];if(y.current&&y.loaded){var D=Math.min(1,(r-y.loaded)/200);Kt(y.el,D),D<1?u=!0:(y.active?g=!0:this._onOpaqueTile(y),y.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),u&&(fi(this._fadeFrame),this._fadeFrame=qe(this._updateOpacity,this))}},_onOpaqueTile:gt,_initContainer:function(){this._container||(this._container=Ve("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(void 0!==r){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===r?(this._levels[g].el.style.zIndex=u-Math.abs(r-g),this._onUpdateLevel(g)):(ft(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var v=this._levels[r],y=this._map;return v||((v=this._levels[r]={}).el=Ve("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=u,v.origin=y.project(y.unproject(y.getPixelOrigin()),r).round(),v.zoom=r,this._setZoomTransform(v,y.getCenter(),y.getZoom()),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:gt,_onRemoveLevel:gt,_onCreateLevel:gt,_pruneTiles:function(){if(this._map){var r,u,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom)return void this._removeAllTiles();for(r in this._tiles)(u=this._tiles[r]).retain=u.current;for(r in this._tiles)if((u=this._tiles[r]).current&&!u.active){var v=u.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)ft(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,u,g,v){var y=Math.floor(r/2),D=Math.floor(u/2),W=g-1,U=new ye(+y,+D);U.z=+W;var X=this._tileCoordsToKey(U),ie=this._tiles[X];return ie&&ie.active?(ie.retain=!0,!0):(ie&&ie.loaded&&(ie.retain=!0),W>v&&this._retainParent(y,D,W,v))},_retainChildren:function(r,u,g,v){for(var y=2*r;y<2*r+2;y++)for(var D=2*u;D<2*u+2;D++){var W=new ye(y,D);W.z=g+1;var U=this._tileCoordsToKey(W),X=this._tiles[U];X&&X.active?X.retain=!0:(X&&X.loaded&&(X.retain=!0),g+1<v&&this._retainChildren(y,D,g+1,v))}},_resetView:function(r){var u=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return void 0!==u.minNativeZoom&&r<u.minNativeZoom?u.minNativeZoom:void 0!==u.maxNativeZoom&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,g,v){var y=Math.round(u);y=void 0!==this.options.maxZoom&&y>this.options.maxZoom||void 0!==this.options.minZoom&&y<this.options.minZoom?void 0:this._clampZoom(y),(!v||this.options.updateWhenZooming&&y!==this._tileZoom)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==y&&this._update(r),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var g in this._levels)this._setZoomTransform(this._levels[g],r,u)},_setZoomTransform:function(r,u,g){var v=this._map.getZoomScale(g,r.zoom),y=r.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(u,g)).round();ce.any3d?Fs(r.el,y,v):Ct(r.el,y)},_resetGrid:function(){var r=this._map,u=r.options.crs,g=this._tileSize=this.getTileSize(),v=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],v).x/g.x),Math.ceil(r.project([0,u.wrapLng[1]],v).x/g.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],v).y/g.x),Math.ceil(r.project([u.wrapLat[1],0],v).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var u=this._map,g=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),v=u.getZoomScale(g,this._tileZoom),y=u.project(r,this._tileZoom).floor(),D=u.getSize().divideBy(2*v);return new it(y.subtract(D),y.add(D))},_update:function(r){var u=this._map;if(u){var g=this._clampZoom(u.getZoom());if(void 0===r&&(r=u.getCenter()),void 0!==this._tileZoom){var v=this._getTiledPixelBounds(r),y=this._pxBoundsToTileRange(v),D=y.getCenter(),W=[],U=this.options.keepBuffer,X=new it(y.getBottomLeft().subtract([U,-U]),y.getTopRight().add([U,-U]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ie in this._tiles){var q=this._tiles[ie].coords;(q.z!==this._tileZoom||!X.contains(new ye(q.x,q.y)))&&(this._tiles[ie].current=!1)}if(Math.abs(g-this._tileZoom)>1)return void this._setView(r,g);for(var _e=y.min.y;_e<=y.max.y;_e++)for(var Oe=y.min.x;Oe<=y.max.x;Oe++){var jt=new ye(Oe,_e);if(jt.z=this._tileZoom,this._isValidTile(jt)){var Nt=this._tiles[this._tileCoordsToKey(jt)];Nt?Nt.current=!0:W.push(jt)}}if(W.sort(function(ai,_r){return ai.distanceTo(D)-_r.distanceTo(D)}),0!==W.length){this._loading||(this._loading=!0,this.fire("loading"));var wi=document.createDocumentFragment();for(Oe=0;Oe<W.length;Oe++)this._addTile(W[Oe],wi);this._level.el.appendChild(wi)}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var g=this._globalTileRange;if(!u.wrapLng&&(r.x<g.min.x||r.x>g.max.x)||!u.wrapLat&&(r.y<g.min.y||r.y>g.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(r);return dt(this.options.bounds).overlaps(v)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,g=this.getTileSize(),v=r.scaleBy(g),y=v.add(g);return[u.unproject(v,r.z),u.unproject(y,r.z)]},_tileCoordsToBounds:function(r){var u=this._tileCoordsToNwSe(r),g=new Ae(u[0],u[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var u=r.split(":"),g=new ye(+u[0],+u[1]);return g.z=+u[2],g},_removeTile:function(r){var u=this._tiles[r];u&&(ft(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){me(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=gt,r.onmousemove=gt,ce.ielt9&&this.options.opacity<1&&Kt(r,this.options.opacity)},_addTile:function(r,u){var g=this._getTilePos(r),v=this._tileCoordsToKey(r),y=this.createTile(this._wrapCoords(r),rt(this._tileReady,this,r));this._initTile(y),this.createTile.length<2&&qe(rt(this._tileReady,this,r,null,y)),Ct(y,g),this._tiles[v]={el:y,coords:r,current:!0},u.appendChild(y),this.fire("tileloadstart",{tile:y,coords:r})},_tileReady:function(r,u,g){u&&this.fire("tileerror",{error:u,tile:g,coords:r});var v=this._tileCoordsToKey(r);(g=this._tiles[v])&&(g.loaded=+new Date,this._map._fadeAnimated?(Kt(g.el,0),fi(this._fadeFrame),this._fadeFrame=qe(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),u||(me(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ce.ielt9||!this._map._fadeAnimated?qe(this._pruneTiles,this):setTimeout(rt(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new ye(this._wrapX?Ts(r.x,this._wrapX):r.x,this._wrapY?Ts(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new it(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});var fr=Qi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,(u=je(this,u)).detectRetina&&ce.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),"string"==typeof u.subdomains&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&void 0===u&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var g=document.createElement("img");return Le(g,"load",rt(this._tileOnLoad,this,u,g)),Le(g,"error",rt(this._tileOnError,this,u,g)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(g.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(r),g},getTileUrl:function(r){var u={r:ce.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-r.y;this.options.tms&&(u.y=g),u["-y"]=g}return si(this._url,Ze(u,this.options))},_tileOnLoad:function(r,u){ce.ielt9?setTimeout(rt(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,g){var v=this.options.errorTileUrl;v&&u.getAttribute("src")!==v&&(u.src=v),r(g,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom;return this.options.zoomReverse&&(r=this.options.maxZoom-r),r+this.options.zoomOffset},_getSubdomain:function(r){var u=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var r,u;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&((u=this._tiles[r].el).onload=gt,u.onerror=gt,!u.complete)){u.src=ps;var g=this._tiles[r].coords;ft(u),delete this._tiles[r],this.fire("tileabort",{tile:u,coords:g})}},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",ps),Qi.prototype._removeTile.call(this,r)},_tileReady:function(r,u,g){if(this._map&&(!g||g.getAttribute("src")!==ps))return Qi.prototype._tileReady.call(this,r,u,g)}});function ef(r,u){return new fr(r,u)}var pr=fr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,u){this._url=r;var g=Ze({},this.defaultWmsParams);for(var v in u)v in this.options||(g[v]=u[v]);var y=(u=je(this,u)).detectRetina&&ce.retina?2:1,D=this.getTileSize();g.width=D.x*y,g.height=D.y*y,this.wmsParams=g},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,fr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),g=this._crs,v=Ht(g.project(u[0]),g.project(u[1])),y=v.min,D=v.max,W=(this._wmsVersion>=1.3&&this._crs===ch?[y.y,y.x,D.y,D.x]:[y.x,y.y,D.x,D.y]).join(","),U=fr.prototype.getTileUrl.call(this,r);return U+Cu(this.wmsParams,U,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+W},setParams:function(r,u){return Ze(this.wmsParams,r),u||this.redraw(),this}});fr.WMS=pr,ef.wms=function $o(r,u){return new pr(r,u)};var Tt=Vi.extend({options:{padding:.1},initialize:function(r){je(this,r),Re(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var g=this._map.getZoomScale(u,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,u),D=v.multiplyBy(-g).add(y).subtract(this._map._getNewPixelOrigin(r,u));ce.any3d?Fs(this._container,D,g):Ct(this._container,D)},_reset:function(){for(var r in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),g=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new it(g,g.add(u.multiplyBy(1+2*r)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ph=Tt.extend({options:{tolerance:0},getEvents:function(){var r=Tt.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Tt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Le(r,"mousemove",this._onMouseMove,this),Le(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Le(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){fi(this._redrawRequest),delete this._ctx,ft(this._container),Ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var u in this._redrawBounds=null,this._layers)this._layers[u]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Tt.prototype._update.call(this);var r=this._bounds,u=this._container,g=r.getSize(),v=ce.retina?2:1;Ct(u,r.min),u.width=v*g.x,u.height=v*g.y,u.style.width=g.x+"px",u.style.height=g.y+"px",ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Tt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[Re(r)]=r;var u=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=r._order,g=u.next,v=u.prev;g?g.prev=v:this._drawLast=v,v?v.next=g:this._drawFirst=g,delete r._order,delete this._layers[Re(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if("string"==typeof r.options.dashArray){var v,y,u=r.options.dashArray.split(/[, ]+/),g=[];for(y=0;y<u.length;y++){if(v=Number(u[y]),isNaN(v))return;g.push(v)}r.options._dashArray=g}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||qe(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var u=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new it,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var u=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,u=this._redrawBounds;if(this._ctx.save(),u){var g=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)r=v.layer,(!u||r._pxBounds&&r._pxBounds.intersects(u))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var g,v,y,D,W=r._parts,U=W.length,X=this._ctx;if(U){for(X.beginPath(),g=0;g<U;g++){for(v=0,y=W[g].length;v<y;v++)X[v?"lineTo":"moveTo"]((D=W[g][v]).x,D.y);u&&X.closePath()}this._fillStroke(X,r)}}},_updateCircle:function(r){if(this._drawing&&!r._empty()){var u=r._point,g=this._ctx,v=Math.max(Math.round(r._radius),1),y=(Math.max(Math.round(r._radiusY),1)||v)/v;1!==y&&(g.save(),g.scale(1,y)),g.beginPath(),g.arc(u.x,u.y/y,v,0,2*Math.PI,!1),1!==y&&g.restore(),this._fillStroke(g,r)}},_fillStroke:function(r,u){var g=u.options;g.fill&&(r.globalAlpha=g.fillOpacity,r.fillStyle=g.fillColor||g.color,r.fill(g.fillRule||"evenodd")),g.stroke&&0!==g.weight&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=g.opacity,r.lineWidth=g.weight,r.strokeStyle=g.color,r.lineCap=g.lineCap,r.lineJoin=g.lineJoin,r.stroke())},_onClick:function(r){for(var g,v,u=this._map.mouseEventToLayerPoint(r),y=this._drawFirst;y;y=y.next)(g=y.layer).options.interactive&&g._containsPoint(u)&&("click"!==r.type&&"preclick"!==r.type||!this._map._draggableMoved(g))&&(v=g);this._fireEvent(!!v&&[v],r)},_onMouseMove:function(r){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var u=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,u)}},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(wt(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var g,v,y=this._drawFirst;y;y=y.next)(g=y.layer).options.interactive&&g._containsPoint(u)&&(v=g);v!==this._hoveredLayer&&(this._handleMouseOut(r),v&&(me(this._container,"leaflet-interactive"),this._fireEvent([v],r,"mouseover"),this._hoveredLayer=v)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],r),this._mouseHoverThrottled=!0,setTimeout(rt(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,g){this._map._fireDOMEvent(u,g||u.type,r)},_bringToFront:function(r){var u=r._order;if(u){var g=u.next,v=u.prev;if(!g)return;g.prev=v,v?v.next=g:g&&(this._drawFirst=g),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(r)}},_bringToBack:function(r){var u=r._order;if(u){var g=u.next,v=u.prev;if(!v)return;v.next=g,g?g.prev=v:v&&(this._drawLast=v),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(r)}}});function gr(r){return ce.canvas?new ph(r):null}var mr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),tf={_initContainer:function(){this._container=Ve("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Tt.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=mr("shape");me(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=mr("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[Re(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;ft(u),r.removeInteractiveTarget(u),delete this._layers[Re(r)]},_updateStyle:function(r){var u=r._stroke,g=r._fill,v=r.options,y=r._container;y.stroked=!!v.stroke,y.filled=!!v.fill,v.stroke?(u||(u=r._stroke=mr("stroke")),y.appendChild(u),u.weight=v.weight+"px",u.color=v.color,u.opacity=v.opacity,u.dashStyle=v.dashArray?ki(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):"",u.endcap=v.lineCap.replace("butt","flat"),u.joinstyle=v.lineJoin):u&&(y.removeChild(u),r._stroke=null),v.fill?(g||(g=r._fill=mr("fill")),y.appendChild(g),g.color=v.fillColor||v.color,g.opacity=v.fillOpacity):g&&(y.removeChild(g),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),g=Math.round(r._radius),v=Math.round(r._radiusY||g);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+g+","+v+" 0,23592600")},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){mn(r._container)},_bringToBack:function(r){ms(r._container)}},Ws=ce.vml?mr:Su,De=Tt.extend({_initContainer:function(){this._container=Ws("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ws("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),Ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Tt.prototype._update.call(this);var r=this._bounds,u=r.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,g.setAttribute("width",u.x),g.setAttribute("height",u.y)),Ct(g,r.min),g.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(r){var u=r._path=Ws("path");r.options.className&&me(u,r.options.className),r.options.interactive&&me(u,"leaflet-interactive"),this._updateStyle(r),this._layers[Re(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){ft(r._path),r.removeInteractiveTarget(r._path),delete this._layers[Re(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var u=r._path,g=r.options;u&&(g.stroke?(u.setAttribute("stroke",g.color),u.setAttribute("stroke-opacity",g.opacity),u.setAttribute("stroke-width",g.weight),u.setAttribute("stroke-linecap",g.lineCap),u.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?u.setAttribute("stroke-dasharray",g.dashArray):u.removeAttribute("stroke-dasharray"),g.dashOffset?u.setAttribute("stroke-dashoffset",g.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),g.fill?(u.setAttribute("fill",g.fillColor||g.color),u.setAttribute("fill-opacity",g.fillOpacity),u.setAttribute("fill-rule",g.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,Pu(r._parts,u))},_updateCircle:function(r){var u=r._point,g=Math.max(Math.round(r._radius),1),y="a"+g+","+(Math.max(Math.round(r._radiusY),1)||g)+" 0 1,0 ",D=r._empty()?"M0 0":"M"+(u.x-g)+","+u.y+y+2*g+",0 "+y+2*-g+",0 ";this._setPath(r,D)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){mn(r._path)},_bringToBack:function(r){ms(r._path)}});function Ke(r){return ce.svg||ce.vml?new De(r):null}ce.vml&&De.include(tf),He.include({getRenderer:function(r){var u=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(r){if("overlayPane"===r||void 0===r)return!1;var u=this._paneRenderers[r];return void 0===u&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u},_createRenderer:function(r){return this.options.preferCanvas&&gr(r)||Ke(r)}});var xt=Os.extend({initialize:function(r,u){Os.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return[(r=dt(r)).getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});De.create=Ws,De.pointsToPath=Pu,_i.geometryToLayer=Yi,_i.coordsToLatLng=Ns,_i.coordsToLatLngs=vs,_i.latLngToCoords=Se,_i.latLngsToCoords=Mt,_i.getFeature=zs,_i.asFeature=An,He.mergeOptions({boxZoom:!0});var gh=Ti.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||1!==r.which&&1!==r.button)return!1;this._clearDeferredResetState(),this._resetState(),sr(),So(),this._startPoint=this._map.mouseEventToContainerPoint(r),Le(document,{contextmenu:Is,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Ve("div","leaflet-zoom-box",this._container),me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var u=new it(this._point,this._startPoint),g=u.getSize();Ct(this._box,u.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(ft(this._box),wt(this._container,"leaflet-crosshair")),nr(),Po(),Ge(document,{contextmenu:Is,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if((1===r.which||1===r.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(rt(this._resetState,this),0);var u=new Ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(r){27===r.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});He.addInitHook("addHandler","boxZoom",gh),He.mergeOptions({doubleClickZoom:!0});var ze=Ti.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,g=u.getZoom(),v=u.options.zoomDelta,y=r.originalEvent.shiftKey?g-v:g+v;"center"===u.options.doubleClickZoom?u.setZoom(y):u.setZoomAround(r.containerPoint,y)}});He.addInitHook("addHandler","doubleClickZoom",ze),He.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ji=Ti.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new $(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wt(this._map._container,"leaflet-grab"),wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=dt(this._map.options.maxBounds);this._offsetLimit=Ht(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var u=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(u),this._prunePositions(u)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var r=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;r.x<u.min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,u=Math.round(r/2),g=this._initialWorldOffset,v=this._draggable._newPos.x,y=(v-u+g)%r+u-g,D=(v+u+g)%r-u-g,W=Math.abs(y+g)<Math.abs(D+g)?y:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=W},_onDragEnd:function(r){var u=this._map,g=u.options,v=!g.inertia||r.noInertia||this._times.length<2;if(u.fire("dragend",r),v)u.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),W=g.easeLinearity,U=y.multiplyBy(W/((this._lastTime-this._times[0])/1e3)),X=U.distanceTo([0,0]),ie=Math.min(g.inertiaMaxSpeed,X),q=U.multiplyBy(ie/X),_e=ie/(g.inertiaDeceleration*W),Oe=q.multiplyBy(-_e/2).round();Oe.x||Oe.y?(Oe=u._limitOffset(Oe,u.options.maxBounds),qe(function(){u.panBy(Oe,{duration:_e,easeLinearity:W,noMoveStart:!0,animate:!0})})):u.fire("moveend")}}});He.addInitHook("addHandler","dragging",Ji),He.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ba=Ti.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Le(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,u=document.documentElement,g=r.scrollTop||u.scrollTop,v=r.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(v,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var v,y,u=this._panKeys={},g=this.keyCodes;for(v=0,y=g.left.length;v<y;v++)u[g.left[v]]=[-1*r,0];for(v=0,y=g.right.length;v<y;v++)u[g.right[v]]=[r,0];for(v=0,y=g.down.length;v<y;v++)u[g.down[v]]=[0,r];for(v=0,y=g.up.length;v<y;v++)u[g.up[v]]=[0,-1*r]},_setZoomDelta:function(r){var v,y,u=this._zoomKeys={},g=this.keyCodes;for(v=0,y=g.zoomIn.length;v<y;v++)u[g.zoomIn[v]]=r;for(v=0,y=g.zoomOut.length;v<y;v++)u[g.zoomOut[v]]=-r},_addHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var v,u=r.keyCode,g=this._map;if(u in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(v=this._panKeys[u],r.shiftKey&&(v=be(v).multiplyBy(3)),g.options.maxBounds&&(v=g._limitOffset(be(v),g.options.maxBounds)),g.options.worldCopyJump){var y=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(v)));g.panTo(y)}else g.panBy(v)}else if(u in this._zoomKeys)g.setZoom(g.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[u]);else{if(27!==u||!g._popup||!g._popup.options.closeOnEscapeKey)return;g.closePopup()}Is(r)}}});He.addInitHook("addHandler","keyboard",ba),He.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Aa=Ti.extend({addHooks:function(){Le(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var u=da(r),g=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var v=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(rt(this._performZoom,this),v),Is(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),g=this._map.options.zoomSnap||0;r._stop();var y=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,D=g?Math.ceil(y/g)*g:y,W=r._limitZoom(u+(this._delta>0?D:-D))-u;this._delta=0,this._startTime=null,W&&("center"===r.options.scrollWheelZoom?r.setZoom(u+W):r.setZoomAround(this._lastMousePos,u+W))}});He.addInitHook("addHandler","scrollWheelZoom",Aa);He.mergeOptions({tapHold:ce.touchNative&&ce.safari&&ce.mobile,tapTolerance:15});var _s=Ti.extend({addHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),1===r.touches.length){var u=r.touches[0];this._startPos=this._newPos=new ye(u.clientX,u.clientY),this._holdTimeout=setTimeout(rt(function(){this._cancel(),this._isTapValid()&&(Le(document,"touchend",Ot),Le(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),600),Le(document,"touchend touchcancel contextmenu",this._cancel,this),Le(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Ge(document,"touchend",Ot),Ge(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Ge(document,"touchend touchcancel contextmenu",this._cancel,this),Ge(document,"touchmove",this._onMove,this)},_onMove:function(r){var u=r.touches[0];this._newPos=new ye(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){var g=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});g._simulated=!0,u.target.dispatchEvent(g)}});He.addInitHook("addHandler","tapHold",_s),He.mergeOptions({touchZoom:ce.touch,bounceAtZoomLimits:!0});var vr=Ti.extend({addHooks:function(){me(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u=this._map;if(r.touches&&2===r.touches.length&&!u._animatingZoom&&!this._zooming){var g=u.mouseEventToContainerPoint(r.touches[0]),v=u.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),"center"!==u.options.touchZoom&&(this._pinchStartLatLng=u.containerPointToLatLng(g.add(v)._divideBy(2))),this._startDist=g.distanceTo(v),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Le(document,"touchmove",this._onTouchMove,this),Le(document,"touchend touchcancel",this._onTouchEnd,this),Ot(r)}},_onTouchMove:function(r){if(r.touches&&2===r.touches.length&&this._zooming){var u=this._map,g=u.mouseEventToContainerPoint(r.touches[0]),v=u.mouseEventToContainerPoint(r.touches[1]),y=g.distanceTo(v)/this._startDist;if(this._zoom=u.getScaleZoom(y,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&y<1||this._zoom>u.getMaxZoom()&&y>1)&&(this._zoom=u._limitZoom(this._zoom)),"center"===u.options.touchZoom){if(this._center=this._startLatLng,1===y)return}else{var D=g._add(v)._divideBy(2)._subtract(this._centerPoint);if(1===y&&0===D.x&&0===D.y)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),fi(this._animRequest);var W=rt(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=qe(W,this,!0),Ot(r)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,fi(this._animRequest),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});He.addInitHook("addHandler","touchZoom",vr),He.BoxZoom=gh,He.DoubleClickZoom=ze,He.Drag=Ji,He.Keyboard=ba,He.ScrollWheelZoom=Aa,He.TapHold=_s,He.TouchZoom=vr,ne.Bounds=it,ne.Browser=ce,ne.CRS=Oi,ne.Canvas=ph,ne.Circle=cr,ne.CircleMarker=x,ne.Class=_t,ne.Control=Hi,ne.DivIcon=Jd,ne.DivOverlay=$i,ne.DomEvent=Hd,ne.DomUtil=Wd,ne.Draggable=$,ne.Evented=Yn,ne.FeatureGroup=de,ne.GeoJSON=_i,ne.GridLayer=Qi,ne.Handler=Ti,ne.Icon=Rs,ne.ImageOverlay=Vo,ne.LatLng=Ye,ne.LatLngBounds=Ae,ne.Layer=Vi,ne.LayerGroup=bn,ne.LineUtil=Xd,ne.Map=He,ne.Marker=re,ne.Mixin=jd,ne.Path=c,ne.Point=ye,ne.PolyUtil=rh,ne.Polygon=Os,ne.Polyline=vi,ne.Popup=kt,ne.PosAnimation=Ku,ne.Projection=Zd,ne.Rectangle=xt,ne.Renderer=Tt,ne.SVG=De,ne.SVGOverlay=Ne,ne.TileLayer=fr,ne.Tooltip=mt,ne.Transformation=Kn,ne.Util=ea,ne.VideoOverlay=Ki,ne.bind=rt,ne.bounds=Ht,ne.canvas=gr,ne.circle=function dh(r,u,g){return new cr(r,u,g)},ne.circleMarker=function _a(r,u){return new x(r,u)},ne.control=lr,ne.divIcon=function Sm(r){return new Jd(r)},ne.extend=Ze,ne.featureGroup=function(r,u){return new de(r,u)},ne.geoJSON=dr,ne.geoJson=Cm,ne.gridLayer=function Pm(r){return new Qi(r)},ne.icon=function Ie(r){return new Rs(r)},ne.imageOverlay=function(r,u,g){return new Vo(r,u,g)},ne.latLng=We,ne.latLngBounds=dt,ne.layerGroup=function(r,u){return new bn(r,u)},ne.map=function fa(r,u){return new He(r,u)},ne.marker=function k(r,u){return new re(r,u)},ne.point=be,ne.polygon=function fh(r,u){return new Os(r,u)},ne.polyline=function Di(r,u){return new vi(r,u)},ne.popup=function(r,u){return new kt(r,u)},ne.rectangle=function sf(r,u){return new xt(r,u)},ne.setOptions=je,ne.stamp=Re,ne.svg=Ke,ne.svgOverlay=function Me(r,u,g){return new Ne(r,u,g)},ne.tileLayer=ef,ne.tooltip=function(r,u){return new mt(r,u)},ne.transformation=Qn,ne.version="1.9.4",ne.videoOverlay=function Qd(r,u,g){return new Ki(r,u,g)};var nf=window.L;ne.noConflict=function(){return window.L=nf,this},window.L=ne}(Eu)}}]);